!function(){"use strict";angular.module("ezplus",[]).directive("ezPlus",function(){return{restrict:"A",scope:{ezpModel:"=",ezpOptions:"=",onComplete:"=ezpOnComplete",onDestroy:"=ezpOnDestroy",onImageClick:"=ezpOnImageClick",onImageSwap:"=ezpOnImageSwap",onImageSwapComplete:"=ezpOnImageSwapComplete",onShow:"=ezpOnShow",onZoomedImageLoaded:"=ezpOnZoomedImageLoaded"},link:e};function e(n,r,e){var u,d={onComplete:function(){n.onComplete&&n.onComplete()&&n.onComplete()()},onDestroy:function(){n.onDestroy&&n.onDestroy()&&n.onDestroy()()},onImageClick:function(){n.onImageClick&&n.onImageClick()&&n.onImageClick()()},onImageSwap:function(){n.onImageSwap&&n.onImageSwap()&&n.onImageSwap()()},onImageSwapComplete:function(){n.onImageSwapComplete&&n.onImageSwapComplete()&&n.onImageSwapComplete()()},onShow:function(){n.onShow&&n.onShow()&&n.onShow()()},onZoomedImageLoaded:function(){n.onZoomedImageLoaded&&n.onZoomedImageLoaded()&&n.onZoomedImageLoaded()()}};function g(){var e=angular.element(r).data("ezPlus");e&&e.showHideZoomContainer("hide")}function s(){var e=angular.element(r).data("ezPlus");e&&e.showHideZoomContainer("show")}n.ezpOptions&&angular.extend(d,n.ezpOptions),d.appendto&&(d.zoomContainerAppendTo=d.appendto),d.loader&&(u=d.loader),n.$on("ezp-hidesAll",function(e,o){g()}),n.$on("ezp-showAll",function(e,o){s()}),n.$on("ezp-disableZoom",function(e,o){var n=angular.element(r).data("ezPlus");n&&n.changeState("disable")}),n.$on("ezp-enableZoom",function(e,o){var n=angular.element(r).data("ezPlus");n&&n.changeState("enable")}),n.$watch("ezpOptions",function(e,o){angular.extend(d,n.ezpOptions)}),n.$watch("ezpModel",function(e,o){var n=e,a=n&&n.thumb||"",t=n&&n.small||"",l=n&&n.large||"",m=angular.element(r).data("ezPlus");if(m)if(n){g(),u&&m.swaptheimage(u,u);var i=p(t);m.swaptheimage(i,l),s()}else m.closeAll();else if(n){var i=p();i&&r.attr("src",i),r.attr("data-zoom-image",l),angular.element(r).ezPlus(d)}function p(e){var o=e;return"thumb"===d.initial?o=a:"small"===d.initial?o=t:"large"===d.initial&&(o=l),o}}),n.$on("$destroy",function(){var e=angular.element(r).data("ezPlus");e&&e.destroy()})}})}();