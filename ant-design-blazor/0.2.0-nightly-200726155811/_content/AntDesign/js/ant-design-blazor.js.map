{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","core/JsInterop/Caret.ts","core/JsInterop/interop.ts","main.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","InputCaret","inputor","_classCallCheck","this","getPos","domInputor","selectionStart","getPosition","pos","end_range","format","html","start_range","value","replace","test","navigator","userAgent","inputorValue","slice","Mirror","create","rect","getOffset","offset","position","arguments","undefined","getBoundingClientRect","left","top","scrollLeft","scrollTop","height","$mirror","document","createElement","window","AntDesign","interop","css","mirrorCss","innerHTML","parentElement","append","_this","zIndex","css_attr","push","forEach","style","flag","oRect","querySelector","offsetLeft","offsetTop","removeChild","default","elem","getDom","element","body","getDomInfo","result","dom","offsetWidth","offsetHeight","scrollHeight","scrollWidth","clientTop","clientLeft","clientHeight","clientWidth","getAbsoluteTop","getAbsoluteLeft","fileClickEvent","fileId","attributes","nodeValue","getElementById","click","getObjectURL","url","file","files","URL","createObjectURL","webkitURL","addDomEventListener","eventName","invoker","callback","args","obj","k","json","JSON","stringify","v","Node","Window","invokeMethodAsync","addEventListener","func","wait","immediate","timeout","_arguments","context","callNow","clearTimeout","setTimeout","apply","debounce","innerWidth","innerHeight","offsetParent","getActiveElement","activeElement","getAttribute","name","key","hasOwnProperty","addCls","selector","clsName","_element$classList","classList","add","_toConsumableArray","removeCls","_element$classList2","remove","addFileClickEventListener","btn","removeFileClickEventListener","removeEventListener","clearFile","setAttribute","getFileInfo","fileInfo","objectUrl","fileName","size","objectURL","type","uploadFile","index","data","headers","instance","percentMethod","successMethod","errorMethod","formData","FormData","req","XMLHttpRequest","onreadystatechange","readyState","status","responseText","upload","onprogress","event","percent","Math","floor","loaded","onerror","open","header","setRequestHeader","send","triggerEvent","eventType","evt","createEvent","initEvent","dispatchEvent","matchMedia","query","matches","copy","text","clipboard","writeText","then","console","log","err","error","textArea","appendChild","focus","select","msg","execCommand","fallbackCopyTextToClipboard","blur","BackTop","scrollTo","getFirstChildDomInfo","firstElementChild","addClsToFirstChild","className","addDomEventListenerToFirstChild","addElementToBody","delElementFromBody","addElementTo","addElement","elementSelector","parent","delElementFrom","delElement","focusDialog","count","ele","hasAttribute","getWindow","oldBodyCacheStack","enableBodyScroll","filter","queryElements","querySelectorAll","oldBodyCache","pop","_a","width","_b","overflow","_c","disableBodyScroll","documentElement","enableModalBodyScroll","enableDrawerBodyScroll","createIconFromfontCN","scriptUrl","script","getScroll","x","pageXOffset","y","pageYOffset","getInnerText","innerText","objReferenceDict","disposeObj","objReferenceName","Caret_1","mentionsOnWindowClick","mentionsObj","getCursorXY","objReference"],"mappings":"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","file":"ant-design-blazor.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","﻿//extract from https://github.com/ichord/Caret.js\n\nclass InputCaret {\n    domInputor: any;\n\n    constructor(inputor) {\n        this.domInputor = inputor;\n    }\n\n    getPos = function () {\n        return this.domInputor.selectionStart;\n    };\n\n    getPosition = function (pos) {\n        var domInputor, end_range, format, html, mirror, start_range;\n        domInputor = this.domInputor;\n\n        format = function (value) {\n            value = value.replace(/<|>|`|\"|&/g, '?').replace(/\\r\\n|\\r|\\n/g, \"<br/>\");\n            if (/firefox/i.test(navigator.userAgent)) {\n                value = value.replace(/\\s/g, '&nbsp;');\n            }\n            return value;\n        };\n        if (!pos) {\n            pos = this.getPos();\n        }\n        let inputorValue = domInputor.value;\n        start_range = inputorValue.slice(0, pos);\n        end_range = inputorValue.slice(pos);\n        html = \"<span style='position: relative; display: inline;'>\" + format(start_range) + \"</span>\";\n        html += \"<span id='caret' style='position: relative; display: inline;'>|</span>\";\n        html += \"<span style='position: relative; display: inline;'>\" + format(end_range) + \"</span>\";\n        mirror = new Mirror(domInputor);\n        return mirror.create(html).rect();\n    };\n\n    getOffset = function (pos = null) {\n        var offset, position, domInputor;\n        domInputor = this.domInputor;\n\n        var rect = domInputor.getBoundingClientRect();\n\n        offset = {\n            left: rect.left,\n            top: rect.top\n        };\n     \n        position = this.getPosition(pos);\n        return offset = {\n            left: offset.left + position.left - domInputor.scrollLeft, \n            top: offset.top + position.top - domInputor.scrollTop, \n            height: position.height\n        };\n    };\n\n}\n\nclass Mirror {\n    domInputor: any;\n    css_attr: any;\n    constructor(inputor) {\n        this.domInputor = inputor;\n        this.css_attr = [];\n    }\n\n    create = function (html) {\n        this.$mirror = document.createElement(\"div\");\n\n        (<any>window).AntDesign.interop.css(this.$mirror, this.mirrorCss());\n\n        this.$mirror.innerHTML = html;\n        this.domInputor.parentElement.append(this.$mirror);\n\n        return this;\n    };\n\n    mirrorCss = function () {\n        var css, _this = this;\n        css = {\n            position: 'absolute',\n            left: -9999,\n            top: 0,\n            zIndex: -20000\n        };\n\n        this.css_attr.push('width');\n\n        this.css_attr.forEach((p) => {\n            return css[p] = _this.domInputor.style[p]//_this.$inputor.css(p);\n        })\n        \n        return css;\n    };\n\n    rect = function () {\n        var flag, pos, rect;\n        flag = this.$mirror.querySelector(\"#caret\");\n        var oRect = flag.getBoundingClientRect();\n\n        pos = {\n            left: flag.offsetLeft,\n            top: flag.offsetTop\n        }; //$flag.position();\n\n        rect = {\n            left: pos.left,\n            top: pos.top,\n            height: oRect.height\n        };\n\n        this.$mirror.parentElement.removeChild(this.$mirror)\n        return rect;\n    };\n\n}\n\nfunction getOffset(elem) {\n    return (new InputCaret(elem)).getOffset();\n}\n\nexport default getOffset;","export function getDom(element) {\r\n  if (!element) {\r\n    element = document.body;\r\n  } else if (typeof element === 'string') {\r\n    if (element === 'document') {\r\n      return document;\r\n    }\r\n    element = document.querySelector(element);\r\n  }\r\n  return element;\r\n}\r\n\r\nexport function getDomInfo(element) {\r\n  var result = {};\r\n\r\n  var dom = getDom(element);\r\n\r\n  result[\"offsetTop\"] = dom.offsetTop || 0;\r\n  result[\"offsetLeft\"] = dom.offsetLeft || 0;\r\n  result[\"offsetWidth\"] = dom.offsetWidth || 0;\r\n  result[\"offsetHeight\"] = dom.offsetHeight || 0;\r\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n  result[\"scrollWidth\"] = dom.scrollWidth || 0;\r\n  result[\"scrollLeft\"] = dom.scrollLeft || 0;\r\n  result[\"scrollTop\"] = dom.scrollTop || 0;\r\n  result[\"clientTop\"] = dom.clientTop || 0;\r\n  result[\"clientLeft\"] = dom.clientLeft || 0;\r\n  result[\"clientHeight\"] = dom.clientHeight || 0;\r\n  result[\"clientWidth\"] = dom.clientWidth || 0;\r\n\r\n  result[\"absoluteTop\"] = getAbsoluteTop(dom);\r\n  result[\"absoluteLeft\"] = getAbsoluteLeft(dom);\r\n\r\n  return result;\r\n}\r\n\r\nexport function addFileClickEventListener(btn) {\r\n  (btn as HTMLSpanElement).addEventListener(\"click\", fileClickEvent);\r\n}\r\n\r\nexport function removeFileClickEventListener(btn) {\r\n  (btn as HTMLSpanElement).removeEventListener(\"click\", fileClickEvent);\r\n}\r\n\r\nexport function fileClickEvent() {\r\n  var fileId = this.attributes[\"data-fileid\"].nodeValue;\r\n  var element = document.getElementById(fileId);\r\n  (element as HTMLInputElement).click();\r\n}\r\n\r\nexport function clearFile(element) {\r\n  element.setAttribute(\"type\", \"input\");\r\n  element.value = '';\r\n  element.setAttribute(\"type\", \"file\");\r\n}\r\n\r\nexport function getFileInfo(element) {\r\n  if (element.files && element.files.length > 0) {\r\n    var fileInfo = [];\r\n    for (var i = 0; i < element.files.length; i++) {\r\n      var file = element.files[i];\r\n      var objectUrl = getObjectURL(element);\r\n      fileInfo.push({\r\n        fileName: file.name,\r\n        size: file.size,\r\n        objectURL: objectUrl,\r\n        type: file.type\r\n      });\r\n    }\r\n\r\n    return fileInfo;\r\n  }\r\n}\r\n\r\nexport function getObjectURL(element) {\r\n  var url = null;\r\n  var file = element.files[0];\r\n  if (window.URL != undefined) {\r\n    url = window.URL.createObjectURL(file);\r\n  } else if (window.webkitURL != undefined) {\r\n    url = window.webkitURL.createObjectURL(file);\r\n  }\r\n  return url;\r\n}\r\n\r\nexport function uploadFile(element, index, data, headers, fileId, url, name, instance, percentMethod, successMethod, errorMethod) {\r\n  let formData = new FormData();\r\n  var file = element.files[index];\r\n  var size = file.size;\r\n  formData.append(name, file);\r\n  if (data != null) {\r\n    for (var key in data) {\r\n      formData.append(key, data[key]);\r\n    }\r\n  }\r\n  const req = new XMLHttpRequest()\r\n  req.onreadystatechange = function () {\r\n    if (req.readyState === 4) {\r\n      if (req.status != 200) {\r\n        instance.invokeMethodAsync(errorMethod, fileId, `{\"status\": ${req.status}}`);\r\n        return;\r\n      }\r\n      instance.invokeMethodAsync(successMethod, fileId, req.responseText);\r\n    }\r\n  }\r\n  req.upload.onprogress = function (event) {\r\n    var percent = Math.floor(event.loaded / size * 100);\r\n    instance.invokeMethodAsync(percentMethod, fileId, percent);\r\n  }\r\n  req.onerror = function (e) {\r\n    instance.invokeMethodAsync(errorMethod, fileId, \"error\");\r\n  }\r\n  req.open('post', url, true)\r\n  if (headers != null) {\r\n    for (var header in headers) {\r\n      req.setRequestHeader(header, headers[header]);\r\n    }\r\n  }\r\n  req.send(formData)\r\n}\r\n\r\nexport function triggerEvent(element, eventType, eventName) {\r\n  var dom = element as HTMLInputElement;\r\n  var evt = document.createEvent(eventType);\r\n  evt.initEvent(eventName);\r\n  return dom.dispatchEvent(evt);\r\n}\r\n\r\nexport function getBoundingClientRect(element) {\r\n  let dom = getDom(element);\r\n  if (dom) {\r\n    return dom.getBoundingClientRect();\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function addDomEventListener(element, eventName, invoker) {\r\n  let callback = args => {\r\n    const obj = {};\r\n    for (let k in args) {\r\n      obj[k] = args[k];\r\n    }\r\n    let json = JSON.stringify(obj, (k, v) => {\r\n      if (v instanceof Node) return 'Node';\r\n      if (v instanceof Window) return 'Window';\r\n      return v;\r\n    }, ' ');\r\n    invoker.invokeMethodAsync('Invoke', json);\r\n  };\r\n\r\n  if (element == 'window') {\r\n    if (eventName == 'resize') {\r\n      window.addEventListener(eventName, debounce(() => callback({ innerWidth: window.innerWidth, innerHeight: window.innerHeight }), 200, false));\r\n    } else {\r\n      window.addEventListener(eventName, callback);\r\n    }\r\n  } else {\r\n    let dom = getDom(element);\r\n    (dom as HTMLElement).addEventListener(eventName, callback);\r\n  }\r\n}\r\n\r\nexport function matchMedia(query) {\r\n  return window.matchMedia(query).matches;\r\n}\r\n\r\nfunction fallbackCopyTextToClipboard(text) {\r\n  var textArea = document.createElement(\"textarea\");\r\n  textArea.value = text;\r\n\r\n  // Avoid scrolling to bottom\r\n  textArea.style.top = \"0\";\r\n  textArea.style.left = \"0\";\r\n  textArea.style.position = \"fixed\";\r\n\r\n  document.body.appendChild(textArea);\r\n  textArea.focus();\r\n  textArea.select();\r\n\r\n  try {\r\n    var successful = document.execCommand('copy');\r\n    var msg = successful ? 'successful' : 'unsuccessful';\r\n    console.log('Fallback: Copying text command was ' + msg);\r\n  } catch (err) {\r\n    console.error('Fallback: Oops, unable to copy', err);\r\n  }\r\n\r\n  document.body.removeChild(textArea);\r\n}\r\nexport function copy(text) {\r\n  if (!navigator.clipboard) {\r\n    fallbackCopyTextToClipboard(text);\r\n    return;\r\n  }\r\n  navigator.clipboard.writeText(text).then(function () {\r\n    console.log('Async: Copying to clipboard was successful!');\r\n  }, function (err) {\r\n    console.error('Async: Could not copy text: ', err);\r\n  });\r\n}\r\n\r\nexport function focus(selector) {\r\n  let dom = getDom(selector);\r\n  dom.focus();\r\n}\r\n\r\nexport function blur(selector) {\r\n  let dom = getDom(selector);\r\n  dom.blur();\r\n}\r\n\r\nexport function log(text) {\r\n  console.log(text);\r\n}\r\n\r\nexport function BackTop(element) {\r\n  let dom = document.getElementById(\"BodyContainer\");\r\n  dom.scrollTo(0, 0);\r\n}\r\n\r\nexport function getFirstChildDomInfo(element) {\r\n  var dom = getDom(element);\r\n  return getDomInfo(dom.firstElementChild);\r\n}\r\n\r\nexport function addClsToFirstChild(element, className) {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    dom.firstElementChild.classList.add(className);\r\n  }\r\n}\r\n\r\nexport function addDomEventListenerToFirstChild(element, eventName, invoker) {\r\n  var dom = getDom(element);\r\n\r\n  if (dom.firstElementChild) {\r\n    addDomEventListener(dom.firstElementChild, eventName, invoker);\r\n  }\r\n}\r\n\r\nexport function getAbsoluteTop(e) {\r\n  var offset = e.offsetTop;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteTop(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function getAbsoluteLeft(e) {\r\n  var offset = e.offsetLeft;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteLeft(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function addElementToBody(element) {\r\n  document.body.appendChild(element);\r\n}\r\n\r\nexport function delElementFromBody(element) {\r\n  document.body.removeChild(element);\r\n}\r\n\r\nexport function addElementTo(addElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && addElement) {\r\n    parent.appendChild(addElement);\r\n  }\r\n}\r\n\r\nexport function delElementFrom(delElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && delElement) {\r\n    parent.removeChild(delElement);\r\n  }\r\n}\r\n\r\nexport function getActiveElement() {\r\n  let element = document.activeElement;\r\n  let id = element.getAttribute(\"id\") || \"\";\r\n  return id;\r\n}\r\n\r\nexport function focusDialog(selector: string, count: number = 0) {\r\n  let ele = <HTMLElement>document.querySelector(selector);\r\n  if (ele && !ele.hasAttribute(\"disabled\")) {\r\n    setTimeout(() => {\r\n      ele.focus();\r\n      let curId = \"#\" + getActiveElement();\r\n      if (curId !== selector) {\r\n        if (count < 10) {\r\n          focusDialog(selector, count + 1);\r\n        }\r\n      }\r\n    }, 10);\r\n  }\r\n}\r\n\r\nexport function getWindow() {\r\n  return {\r\n    innerWidth: window.innerWidth,\r\n    innerHeight: window.innerHeight\r\n  };\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return () => {\r\n    const context = this, args = arguments;\r\n    const later = () => {\r\n      timeout = null;\r\n      if (!immediate) func.apply(this, args);\r\n    };\r\n    const callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n\r\nexport function css(element: HTMLElement, name: string | object, value: string | null = null) {\r\n  if (typeof name === 'string') {\r\n    element.style[name] = value;\r\n  } else {\r\n    for (let key in name) {\r\n      if (name.hasOwnProperty(key)) {\r\n        element.style[key] = name[key];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function addCls(selector: Element | string, clsName: string | Array<string>) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.add(clsName);\r\n  } else {\r\n    element.classList.add(...clsName);\r\n  }\r\n}\r\n\r\nexport function removeCls(selector: Element | string, clsName: string | Array<string>) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.remove(clsName);\r\n  } else {\r\n    element.classList.remove(...clsName);\r\n  }\r\n}\r\n\r\nconst oldBodyCacheStack = [];\r\n\r\nconst hasScrollbar = () => {\r\n  let overflow = document.body.style.overflow;\r\n  if (overflow && overflow === \"hidden\") return false;\r\n  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight);\r\n}\r\n\r\nexport function disableBodyScroll() {\r\n  let body = document.body;\r\n  const oldBodyCache = {};\r\n  [\"position\", \"width\", \"overflow\"].forEach((key) => {\r\n    oldBodyCache[key] = body.style[key];\r\n  });\r\n  oldBodyCacheStack.push(oldBodyCache);\r\n  css(body,\r\n    {\r\n      \"position\": \"relative\",\r\n      \"width\": hasScrollbar() ? \"calc(100% - 17px)\" : null,\r\n      \"overflow\": \"hidden\"\r\n    });\r\n  addCls(document.body, \"ant-scrolling-effect\");\r\n}\r\n\r\nfunction enableBodyScroll(selector, filter = null) {\r\n  let length = 0;\r\n  let queryElements = document.querySelectorAll(selector);\r\n  if (typeof filter === \"function\") {\r\n    queryElements.forEach((value, key, parent) => {\r\n      if (!filter(value, key, parent)) {\r\n        length += 1;\r\n      }\r\n    });\r\n  } else {\r\n    length = queryElements.length;\r\n  }\r\n  if (length === 0) {\r\n    let oldBodyCache = oldBodyCacheStack.length > 0 ? oldBodyCacheStack.pop() : {};\r\n\r\n    css(document.body,\r\n      {\r\n        \"position\": oldBodyCache[\"position\"] ?? null,\r\n        \"width\": oldBodyCache[\"width\"] ?? null,\r\n        \"overflow\": oldBodyCache[\"overflow\"] ?? null\r\n      });\r\n    removeCls(document.body, \"ant-scrolling-effect\");\r\n  }\r\n}\r\n\r\nexport function enableModalBodyScroll() {\r\n  enableBodyScroll(\".ant-modal-mask:not(.ant-modal-mask-hidden)\");\r\n}\r\n\r\nexport function enableDrawerBodyScroll() {\r\n  enableBodyScroll(\".ant-drawer-open\",\r\n    (value, key, parent) => { return value.style.position === \"absolute\" });\r\n}\r\n\r\nexport function createIconFromfontCN(scriptUrl) {\r\n  if (document.querySelector(`[data-namespace=\"${scriptUrl}\"]`)) {\r\n    return;\r\n  }\r\n  const script = document.createElement('script');\r\n  script.setAttribute('src', scriptUrl);\r\n  script.setAttribute('data-namespace', scriptUrl);\r\n  document.body.appendChild(script);\r\n}\r\n\r\nexport function getScroll() {\r\n  return { x: window.pageXOffset, y: window.pageYOffset };\r\n}\r\n\r\nexport function getInnerText(element) {\r\n  let dom = getDom(element);\r\n  return dom.innerText;\r\n}\r\n\r\nconst objReferenceDict = {};\r\nexport function disposeObj(objReferenceName) {\r\n  delete objReferenceDict[objReferenceName];\r\n}\r\n\r\n//#region mentions\r\n\r\nimport getOffset from \"./Caret\";\r\n\r\nexport function getCursorXY(element, objReference) {\r\n  objReferenceDict[\"mentions\"] = objReference;\r\n  window.addEventListener(\"click\", mentionsOnWindowClick);\r\n\r\n  var offset = getOffset(element);\r\n\r\n  return [offset.left, offset.top + offset.height + 14];\r\n}\r\n\r\nfunction mentionsOnWindowClick(e) {\r\n  let mentionsObj = objReferenceDict[\"mentions\"];\r\n  if (mentionsObj) {\r\n    mentionsObj.invokeMethodAsync(\"CloseMentionsDropDown\");\r\n  } else {\r\n    window.removeEventListener(\"click\", mentionsOnWindowClick);\r\n  }\r\n}\r\n\r\n//#endregion","﻿import * as interop from \"./core/JsInterop/interop\";\r\n\r\ndeclare global {\r\n  interface Window {\r\n    AntDesign: any;\r\n  }\r\n}\r\n\r\nwindow.AntDesign = {\r\n  interop,\r\n};\r\n"]}