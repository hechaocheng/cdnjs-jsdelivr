{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/react/index.js","webpack:///./src/components/buttons/button-icon.jsx","webpack:///./src/adapter/editor-context.js","webpack:///./src/components/base/button-command.js","webpack:///./src/components/base/button-state-classes.js","webpack:///./src/oop/lang.js","webpack:///./node_modules/react-dom/index.js","webpack:///./node_modules/prop-types/index.js","webpack:///./src/components/base/button-style.js","webpack:///./src/components/base/button-command-active.js","webpack:///./src/components/base/widget-focus-manager.js","webpack:///./src/components/base/button-keystroke.js","webpack:///./src/components/buttons/button-dropdown.jsx","webpack:///./src/components/buttons/button-commands-list.jsx","webpack:///./src/adapter/main.js","webpack:///./src/components/base/button-action-style.js","webpack:///./src/components/buttons/button-styles-list.jsx","webpack:///./src/components/base/widget-dropdown.js","webpack:///./src/components/base/widget-exclusive.js","webpack:///./src/components/buttons/button-link-edit.jsx","webpack:///./src/components/base/button-props.js","webpack:///./src/components/base/toolbar-buttons.js","webpack:///./src/oop/oop.js","webpack:///./src/selections/selection-test.js","webpack:///./node_modules/object-assign/index.js","webpack:///./src/components/buttons/button-styles-list-header.jsx","webpack:///./src/components/buttons/button-styles-list-item-remove.jsx","webpack:///./src/components/buttons/button-styles-list-item.jsx","webpack:///./src/components/buttons/button-camera-image.jsx","webpack:///./src/components/buttons/button-command-list-item.jsx","webpack:///./src/components/buttons/button-embed-edit.jsx","webpack:///./src/components/buttons/button-embed-video-edit.jsx","webpack:///./src/components/buttons/button-link-autocomplete-list.jsx","webpack:///./src/components/buttons/button-link-edit-browse.jsx","webpack:///./src/components/buttons/button-link-target-edit.jsx","webpack:///./src/components/buttons/button-target-list.jsx","webpack:///./src/components/buttons/button-link.jsx","webpack:///./src/components/buttons/button-table-edit.jsx","webpack:///./src/components/compat/widget-interaction-point.js","webpack:///./src/oop/attribute.js","webpack:///./src/selections/selection-arrowbox.js","webpack:///./src/selections/selection-position.js","webpack:///./src/selections/selections.js","webpack:///./src/plugins/index.js","webpack:///./scripts/build/with-react.js","webpack:///./src/components/base/index.js","webpack:///./node_modules/react/cjs/react.production.min.js","webpack:///./node_modules/react-dom/cjs/react-dom.production.min.js","webpack:///./node_modules/scheduler/index.js","webpack:///./node_modules/scheduler/cjs/scheduler.production.min.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/components/buttons/index.js","webpack:///./src/components/buttons/button-accessibility-image-alt.jsx","webpack:///./src/components/buttons/button-background-color.jsx","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./src/components/buttons/button-bold.jsx","webpack:///./src/components/buttons/button-camera.jsx","webpack:///./src/components/buttons/button-code.jsx","webpack:///./src/components/buttons/button-color.jsx","webpack:///./src/components/buttons/button-embed-video.jsx","webpack:///./src/components/buttons/button-embed.jsx","webpack:///./src/components/buttons/button-h1.jsx","webpack:///./src/components/buttons/button-h2.jsx","webpack:///./src/components/buttons/button-hline.jsx","webpack:///./src/components/buttons/button-image-align-center.jsx","webpack:///./src/components/buttons/button-image-align-left.jsx","webpack:///./src/components/buttons/button-image-align-right.jsx","webpack:///./src/components/buttons/button-image.jsx","webpack:///./src/components/buttons/button-indent-block.jsx","webpack:///./src/components/buttons/button-italic.jsx","webpack:///./src/components/buttons/button-item-selector-audio.jsx","webpack:///./src/components/buttons/button-item-selector-image.jsx","webpack:///./src/components/buttons/button-item-selector-video.jsx","webpack:///./src/components/buttons/button-link-browse.jsx","webpack:///./src/components/buttons/button-ol.jsx","webpack:///./src/components/buttons/button-outdent-block.jsx","webpack:///./src/components/buttons/button-paragraph-align-left.jsx","webpack:///./src/components/buttons/button-paragraph-align-right.jsx","webpack:///./src/components/buttons/button-paragraph-align.jsx","webpack:///./src/components/buttons/button-paragraph-center.jsx","webpack:///./src/components/buttons/button-paragraph-justify.jsx","webpack:///./src/components/buttons/button-quote.jsx","webpack:///./src/components/buttons/button-remove-format.jsx","webpack:///./src/components/buttons/button-remove-image.jsx","webpack:///./src/components/buttons/button-separator.jsx","webpack:///./src/components/buttons/button-spacing.jsx","webpack:///./src/components/buttons/button-strike.jsx","webpack:///./src/components/buttons/button-styles.jsx","webpack:///./src/components/buttons/button-subscript.jsx","webpack:///./src/components/buttons/button-superscript.jsx","webpack:///./src/components/buttons/button-table-cell.jsx","webpack:///./src/components/buttons/button-table-column.jsx","webpack:///./src/components/buttons/button-table-heading.jsx","webpack:///./src/components/buttons/button-table-remove.jsx","webpack:///./src/components/buttons/button-table-row.jsx","webpack:///./src/components/buttons/button-table.jsx","webpack:///./src/components/buttons/button-twitter.jsx","webpack:///./src/components/buttons/button-ul.jsx","webpack:///./src/components/buttons/button-underline.jsx","webpack:///./src/components/compat/index.js","webpack:///./src/components/compat/button-action-style.js","webpack:///./src/components/compat/button-command-active.js","webpack:///./src/components/compat/button-command.js","webpack:///./src/components/compat/button-keystroke.js","webpack:///./src/components/compat/button-props.js","webpack:///./src/components/compat/button-state-classes.js","webpack:///./src/components/compat/button-style.js","webpack:///./src/components/compat/toolbar-buttons.js","webpack:///./src/components/compat/widget-arrow-box.js","webpack:///./src/components/compat/widget-dropdown.js","webpack:///./src/components/compat/widget-exclusive.js","webpack:///./src/components/compat/widget-focus-manager.js","webpack:///./src/components/compat/widget-position.js","webpack:///./src/components/toolbars/index.js","webpack:///./src/components/toolbars/toolbar-add.jsx","webpack:///./src/components/toolbars/toolbar-styles.jsx","webpack:///./src/adapter/core.js","webpack:///./src/core/index.js","webpack:///./src/core/debounce.js","webpack:///./src/core/link.js","webpack:///./src/core/plugins.js","webpack:///./src/core/selection-region.js","webpack:///./src/core/table.js","webpack:///./src/core/tools.js","webpack:///./src/core/uicore.js","webpack:///./src/plugins/addimages.js","webpack:///./src/plugins/autolink.js","webpack:///./src/plugins/autolist.js","webpack:///./src/plugins/dragresize.js","webpack:///./src/plugins/dragresize_ie.js","webpack:///./src/plugins/dragresize_ie11.js","webpack:///./src/plugins/embed.js","webpack:///./src/plugins/priorities.js","webpack:///./src/plugins/embedurl.js","webpack:///./src/plugins/Resizer.es.js","webpack:///./src/plugins/DragEvent.es.js","webpack:///./src/plugins/imagealignment.js","webpack:///./src/plugins/pasteimages.js","webpack:///./src/plugins/placeholder.js","webpack:///./src/plugins/selectionkeystrokes.js","webpack:///./src/plugins/tableresize.js","webpack:///./src/plugins/tabletools.js","webpack:///./src/components/uibridge/index.js","webpack:///./src/components/uibridge/button.jsx","webpack:///./src/components/uibridge/menu-button.jsx","webpack:///./src/components/uibridge/menu.jsx","webpack:///./src/components/uibridge/panel-menu-button.jsx","webpack:///./src/components/uibridge/richcombo.jsx","webpack:///./src/components/uibridge/uibridge.js","webpack:///./src/commands/index.js","webpack:///./src/commands/remove-image.js","webpack:///./src/components/main.jsx","webpack:///./src/oop/base.js","webpack:///./scripts/build/version.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ButtonIcon","_react","_editorContext","_ref","_ref$className","className","undefined","symbol","_react2","default","createElement","_editorContext2","Consumer","_ref2","editor","nativeEditor","spritemap","config","path","classNamePrefix","combinedClassName","height","width","href","EditorContext","React","createContext","toProps","Component","forwardingComponent","forwardRef","props","ref","context","_extends","WrappedComponent","_class","_temp2","_WrappedComponent","ButtonCommand","_temp","_this","_ret","_classCallCheck","this","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","__proto__","getPrototypeOf","apply","concat","execCommand","data","command","fire","_inherits","contextType","_lang","ButtonStateClasses","_createClass","stateClasses","Lang","isFunction","isActive","isArray","toString","isBoolean","isNull","isNumber","isFinite","isObject","valueType","_typeof","isString","mix","receiver","supplier","toInt","parseInt","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","err","console","error","ButtonStyle","_get","style","parts","split","currentMember","shift","_style","CKEDITOR","elementPath","getStyle","checkActive","ButtonCommandActive","getCommand","state","TRISTATE_ON","_reactDom","DIRECTION_NONE","DIRECTION_NEXT","DIRECTION_PREV","ACTION_NONE","ACTION_MOVE_FOCUS","ACTION_DISMISS_FOCUS","WidgetFocusManager","focus","event","_isValidTarget","target","_descendants","activeDescendantEl","_activeDescendant","document","activeElement","focusFirstChild","indexOf","stopPropagation","preventDefault","handleKey","action","_getFocusAction","type","_moveFocus","direction","onDismiss","_refresh","keys","_getFocusMoveDirection","dismissAction","_getFocusDismissAction","dismiss","focusMoveDirection","_isValidKey","keyCode","dismissNext","dismissPrev","circular","next","prev","shifKey","element","tagName","toLowerCase","numDescendants","descendant","setAttribute","Math","max","min","_this2","domNode","ReactDOM","findDOMNode","descendants","querySelectorAll","priorityDescendants","slice","forEach","item","dataTabIndex","getAttribute","push","sort","a","b","some","index","ButtonKeystroke","keystroke","commandName","exec","keystrokeFn","fn","addCommand","_defaultKeystrokeCommand","keystrokeHandler","keystrokes","setKeystroke","_widgetFocusManager","ButtonDropdown","onFocus","onKeyDown","tabIndex","role","children","defaultProps","_widgetFocusManager2","_buttonCommandListItem","ButtonCommandsList","createRef","current","id","listId","_renderActions","commands","items","map","_buttonCommandListItem2","description","label","icon","_base","Base","_buttons","_compat","Compat","_toolbars","_attribute","_oop","_selectionArrowbox","_selectionPosition","_selectionTest","_selections","_core","BRIDGE_BUTTONS","editable","node","srcNode","AlloyEditor","implementEventTarget","Core","getBasePath","window","ALLOYEDITOR_BASEPATH","scripts","getElementsByTagName","match","src","regexBasePath","location","Error","loadLanguageResources","callback","Strings","setTimeout","once","_langResourceRequested","languages","userLanguage","navigator","language","lang","locale","scriptLoader","load","getUrl","loaded","resource","basePath","timestamp","charAt","test","on","implementOn","getButtons","buttons","reduce","acc","val","registerBridgeButton","buttonName","pluginName","OOP","extend","Attribute","Buttons","SelectionGetArrowBoxClasses","SelectionSetPosition","SelectionTest","Selections","Toolbars","ButtonActionStyle","applyStyle","getSelection","lock","removeStyle","unlock","_buttonDropdown","_buttonStylesListHeader","_buttonStylesListItemRemove","_buttonStylesListItem","ButtonStylesList","blockStyles","inlineStyles","objectStyles","styles","STYLE_BLOCK","STYLE_INLINE","STYLE_OBJECT","_blockStyles","_inlineStyles","_objectStyles","removeStylesItem","showRemoveStylesItem","_buttonStylesListItemRemove2","toggleDropdown","_buttonDropdown2","_buttonStylesListHeader2","_renderStylesItems","_buttonStylesListItem2","activeStyle","styleFn","WidgetDropdown","mergeDropdownProps","obj","itemKey","tools","merge","expanded","itemDropdown","dropdownTrigger","toggleDirection","setState","moveFocus","nextProps","WidgetExclusive","requestExclusive","itemExclusive","filter","cancelExclusive","renderExclusive","_widgetDropdown","_buttonIcon","_buttonLinkAutocompleteList","_buttonLinkTargetEdit","ButtonLinkEdit","_clearLink","linkHref","_focusLinkInput","_handleKeyDown","_updateLink","autocompleteSelected","Link","advanceSelection","_handleLinkHrefChange","_handleLinkTargetChange","linkTarget","_removeLink","linkUtils","selection","bookmarks","createBookmarks","remove","advance","selectBookmarks","appendProtocol","linkAttrs","modifySelection","update","linkInput","_getInitialState","manualSelection","targetSelector","allowedTargets","handleLinkTargetChange","selectedTarget","linkTargetDefault","ButtonLinkTargetEdit","autocompleteDropdown","dataFn","autocompleteDropdownProps","handleLinkAutocompleteClick","_handleLinkAutocompleteClick","setAutocompleteState","_setAutocompleteState","term","ButtonLinkAutocompleteList","_buttonLinkAutocompleteList2","buttonClearLink","aria-label","clearInput","onClick","title","clear","_buttonIcon2","placeholderProp","env","ie","placeholder","editLink","removeLink","disabled","showTargetSelector","_buttonLinkTargetEdit2","onChange","confirm","_isValidState","defaultLinkTarget","link","getFromSelection","initialLink","instance","focusLinkEl","requestAnimationFrame","validState","selected","autocompleteUrl","customIndexStart","_widgetDropdown2","ButtonProps","buttonCfg","ToolbarButtons","_animationFrameId","cancelAnimationFrame","arrowBoxClasses","getInteractionPoint","SELECTION_TOP_TO_BOTTOM","attrs","viewPaneSize","dom","getViewPaneSize","x","left","y","top","eventPayload","editorEvent","selectionData","nativeEvent","pos","pageX","region","endRect","startRect","SELECTION_BOTTOM_TO_TOP","_getXPoint","_getYPoint","eventX","right","leftDist","abs","rightDist","elementTarget","$","offsetTop","offsetHeight","bottom","gutter","offsetWidth","SELECTION_LEFT_TO_RIGHT","SELECTION_RIGHT_TO_LEFT","domElement","hasClass","startPoint","endPoint","setStyles","opacity","pointerEvents","removeClass","addClass","uiNode","scrollTop","isVisible","interactionPoint","finalX","finalY","initialX","initialY","parseFloat","constrainToViewport","res","getConstrainedPosition","moveToPoint","body","uiNodeStyle","getComputedStyle","uiNodeMarginLeft","getPropertyValue","uiNodeMarginRight","totalWidth","clientWidth","xy","getWidgetXYPoint","additionalProps","list","button","getToolbarButtons","buttonProps","toolbarButtons","filterExclusive","cfg","mergeExclusiveProps","tabKey","trigger","protoProps","staticProps","supplierProto","receiverProto","constructor","superclass","_isRangeAtElementEnd","range","getText","endOffset","equals","startContainer","endContainer","startOffset","embedSelectionTest","payload","embedUrlSelectionTest","headingTextSelectionTest","headings","selectionEmpty","isSelectionEmpty","getCommonAncestor","isReadOnly","contains","linkSelectionTest","getRanges","elementIsNotImage","getName","imageSelectionTest","hasImage","findOne","isImage","textSelectionTest","tableSelectionTest","table","Table","isEditable","embed","embedUrl","header","image","text","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","join","test3","letter","source","from","symbols","to","ButtonsStylesListHeader","ButtonStylesListItemRemove","_removeStyles","removeBlocks","blockItem","blockStyle","normal","_buttonActionStyle","_buttonStyle","ButtonStylesListItem","_onClick","styleCfg","margin","_preview","buildPreview","dangerouslySetInnerHTML","__html","_buttonActionStyle2","_buttonStyle2","ButtonCameraImage","takePhoto","videoEl","_videoContainerRef","canvasEl","_canvasContainerRef","getContext","_videoHeight","videoWidth","drawImage","imgURL","toDataURL","el","createFromHtml","insertElement","_handleStreamError","alert","_handleStreamSuccess","stream","addEventListener","videoHeight","isNaN","_stream","mozGetUserMedia","mozSrcObject","srcObject","play","_buttonTakePhotoRef","stop","getVideoTracks","track","getUserMedia","webkitGetUserMedia","msGetUserMedia","video","audio","_buttonCommand","ButtonCommandListItem","_getClassName","_buttonCommand2","KEY_ENTER","KEY_ESC","ButtonEmbedEdit","_embedLink","url","_removeEmbed","embedWrapper","getAscendant","getInitialState","selectedElement","getSelectedElement","clearLinkStyle","deleteEmbed","data-type","ButtonEmbedVideoEdit","_embedVideoURL","videoURL","_focusVideoUrlInput","refs","_handleVideoURLChange","newState","all","new","old","initialEmbed","inputPlaceholder","pasteVideoLink","clearVideoURLStyle","clearTimeout","_timeout","_updateItems","delay","_renderAutocompleteItems","nextState","data-value","_this3","promise","Promise","resolve","then","_buttonLinkEdit","ButtonLinkEditBrowse","_browseClick","documentBrowseLinkUrl","browseLinkCallback","documentBrowseLinkCallback","linkEditButtonRef","changeLinkCallback","selectedItem","linkTitle","plugins","creole","origin","_buttonLinkEdit2","_buttonTargetList","allowedLinkTargets","aria-expanded","_buttonTargetList2","ButtonTargetList","listTargets","_renderListTargets","linkTargetSelf","linkTargetBlank","linkTargetParent","linkTargetTop","targets","_getAllowedTargetItems","_buttonKeystroke","_buttonProps","_buttonStateClasses","ButtonLink","_requestExclusive","cssClass","getStateClasses","mergeButtonCfgProps","CTRL","_buttonProps2","_buttonKeystroke2","_buttonStateClasses2","INPUT_NAMES","COLS","ROWS","MINIMUM_GRID_VALUE","ButtonTableEdit","_createTable","tableUtils","tableAttributes","cols","rows","_handleChange","inputName","rowsRef","colsRef","time","Date","now","rowsId","colsId","htmlFor","columns","border","cellPadding","cellSpacing","_propTypes","WidgetInteractionPoint","propTypes","PropTypes","__config__","__ATTRS__","attr","currentAttr","ATTRS","_isInitialized","_init","curValue","_callStringOrFunction","set","readOnly","writeOnce","validator","setter","stringOrFunction","result","_toConsumableArray","hasDefaultValue","hasPassedValueViaConfig","valueFn","tableSelectionGetArrowBoxClasses","DEFAULT_GUTTER","centerToolbar","toolbar","rect","toolbarNode","halfNodeWidth","scrollPosition","getScrollPosition","widgetXY","caretPosition","ranges","nodeType","Node","ELEMENT_NODE","getParent","startContainerClientRect","getClientRect","endPosition","imageSelectionSetPosition","tableSelectionSetPosition","setPosition","full","simple","getArrowBoxClasses","_embedurl","embedurl","__webpack_exports__","_src_adapter_main__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","prop_types__WEBPACK_IMPORTED_MODULE_2__","prop_types__WEBPACK_IMPORTED_MODULE_2___default","disableAutoInline","k","for","q","u","v","w","z","aa","ba","A","iterator","ca","e","g","h","f","replace","framesToPop","B","encodeURIComponent","C","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","D","E","updater","F","G","isReactComponent","forceUpdate","H","isPureReactComponent","I","J","K","L","__self","__source","M","$$typeof","_owner","da","N","escape","=",":","O","P","Q","pop","keyPrefix","func","count","R","S","T","done","U","ea","fa","V","W","X","Children","toArray","only","PureComponent","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","_context","render","lazy","_ctor","_status","_result","memo","compare","useCallback","useContext","useEffect","useImperativeHandle","useDebugValue","useLayoutEffect","useMemo","useReducer","useRef","useState","Fragment","StrictMode","Suspense","cloneElement","createFactory","isValidElement","version","unstable_ConcurrentMode","unstable_Profiler","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","ReactCurrentOwner","Y","Z","onError","ha","ia","ja","ka","la","ma","na","oa","extractEvents","eventTypes","pa","phasedRegistrationNames","qa","registrationName","ra","sa","dependencies","ta","ua","va","wa","currentTarget","xa","ya","za","Aa","_dispatchListeners","_dispatchInstances","isPropagationStopped","isPersistent","release","Ba","injectEventPluginOrder","injectEventPluginsByName","Ca","stateNode","Da","Ea","random","Fa","Ga","Ha","parentNode","tag","Ia","Ja","Ka","La","return","Ma","dispatchConfig","Na","_targetInst","Oa","Pa","Qa","Ra","Sa","Ta","animationend","animationiteration","animationstart","transitionend","Ua","Va","Wa","animation","transition","Xa","Ya","Za","$a","ab","bb","cb","db","eb","textContent","fb","gb","Interface","isDefaultPrevented","defaultPrevented","returnValue","ib","eventPool","jb","destructor","hb","getPooled","cancelBubble","persist","eventPhase","bubbles","cancelable","timeStamp","isTrusted","kb","lb","mb","nb","ob","documentMode","pb","qb","rb","sb","beforeInput","bubbled","captured","compositionEnd","compositionStart","compositionUpdate","tb","ub","vb","detail","wb","xb","which","yb","ctrlKey","altKey","metaKey","char","zb","Ab","Bb","Cb","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","color","date","datetime","datetime-local","email","month","number","password","search","tel","week","Mb","nodeName","Nb","srcElement","correspondingUseElement","Ob","Pb","Qb","getOwnPropertyDescriptor","configurable","getValue","setValue","stopTracking","_valueTracker","Rb","Sb","checked","Tb","Ub","Vb","Wb","Xb","Yb","Zb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","displayName","jc","_debugOwner","_debugSource","fileName","lineNumber","kc","lc","mc","nc","oc","pc","acceptsBooleans","qc","attributeName","attributeNamespace","mustUseProperty","propertyName","rc","sc","toUpperCase","tc","removeAttribute","setAttributeNS","uc","vc","defaultChecked","defaultValue","_wrapperState","initialChecked","wc","initialValue","controlled","xc","yc","zc","Ac","ownerDocument","Bc","change","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","detachEvent","Kc","Lc","attachEvent","Mc","Nc","Oc","Pc","_isInputEventSupported","Qc","view","Rc","Alt","Control","Meta","Shift","Sc","getModifierState","Tc","Uc","Vc","Wc","Xc","Yc","screenX","screenY","clientX","clientY","pageY","shiftKey","relatedTarget","fromElement","toElement","movementX","movementY","Zc","pointerId","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","$c","mouseEnter","mouseLeave","pointerEnter","pointerLeave","ad","defaultView","parentWindow","alternate","bd","cd","dd","ed","effectTag","fd","gd","child","sibling","hd","animationName","elapsedTime","pseudoElement","jd","clipboardData","kd","ld","charCode","md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","nd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","od","repeat","pd","dataTransfer","qd","touches","targetTouches","changedTouches","rd","sd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","td","ud","vd","wd","isInteractive","xd","isInteractiveTopLevelEventType","yd","zd","Ad","targetInst","ancestors","containerInfo","topLevelType","Bd","Cd","Dd","Ed","Fd","Gd","Hd","Id","Jd","Kd","firstChild","Ld","offset","nextSibling","Md","compareDocumentPosition","Nd","HTMLIFrameElement","contentDocument","Od","contentEditable","Pd","start","selectionStart","end","selectionEnd","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","nodeValue","focusedElem","selectionRange","Qd","documentElement","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","Rd","Sd","select","Td","Ud","Vd","Wd","Xd","Yd","onSelect","Zd","$d","ae","options","defaultSelected","be","ce","de","ee","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin","fe","html","mathml","svg","ge","he","je","MSApp","execUnsafeLocalFunction","namespaceURI","innerHTML","removeChild","appendChild","ke","lastChild","le","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","me","ne","trim","oe","setProperty","substring","pe","menuitem","area","base","br","col","hr","img","input","keygen","meta","param","wbr","qe","re","is","se","blur","te","ue","ve","we","autoFocus","xe","ye","ze","Ae","unstable_scheduleCallback","Be","unstable_cancelCallback","Ce","wasMultiple","multiple","De","Ee","Set","Fe","Ge","He","Ie","Je","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","childContextTypes","Ke","Le","Me","Ne","getChildContext","Oe","__reactInternalMemoizedMergedChildContext","Pe","Qe","Re","Se","Te","isDisabled","supportsFiber","inject","onCommitFiberRoot","onCommitFiberUnmount","Ue","elementType","pendingProps","contextDependencies","memoizedState","updateQueue","memoizedProps","lastEffect","firstEffect","nextEffect","childExpirationTime","expirationTime","Ve","We","Xe","Ye","Ze","$e","af","bf","pendingChildren","implementation","cf","didError","earliestPendingTime","latestPendingTime","df","ef","earliestSuspendedTime","latestSuspendedTime","latestPingedTime","ff","gf","nextExpirationTimeToWorkOn","hf","jf","kf","baseState","tf","_reactInternalFiber","lf","mf","nf","of","pf","qf","rf","sf","uf","shouldComponentUpdate","vf","wf","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","xf","yf","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","zf","Af","_stringRef","Bf","Cf","Map","delete","Df","Ef","Ff","Gf","Hf","If","Jf","Kf","Lf","Mf","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","queue","baseUpdate","ng","og","pg","dispatch","qg","last","eagerReducer","eagerState","rg","destroy","deps","sg","tg","ug","vg","wg","readContext","xg","yg","zg","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Hg","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","Qg","getDerivedStateFromError","Rg","pendingContext","Sg","timedOutAt","fallback","Tg","Ug","hydrate","hidden","first","observedBits","unstable_observedBits","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","firstUpdate","lastUpdate","firstCapturedUpdate","lastCapturedUpdate","firstCapturedEffect","lastCapturedEffect","ch","dh","eh","fh","gh","hh","ih","jh","stack","kh","lh","mh","nh","oh","onclick","ph","WeakSet","qh","rh","sh","th","uh","display","vh","componentWillUnmount","wh","xh","yh","insertBefore","_reactRootContainer","zh","Ah","has","add","Bh","WeakMap","Ch","Dh","Eh","componentDidCatch","Fh","componentStack","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","Uh","__reactInternalSnapshotBeforeUpdate","Vh","Wh","Xh","Yh","Zh","pendingCommitExpirationTime","unstable_runWithPriority","unstable_NormalPriority","$h","ai","size","createElementNS","createTextNode","bi","ci","di","maxDuration","pingCache","ei","finishedWork","fi","unstable_getCurrentPriorityLevel","unstable_ImmediatePriority","unstable_UserBlockingPriority","unstable_LowPriority","unstable_IdlePriority","gi","hi","ii","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","unstable_now","ui","vi","wi","xi","yi","zi","timeout","timeoutHandle","Ai","Bi","Ci","nextScheduledRoot","Di","Ei","unstable_shouldYield","_onComplete","Fi","firstBatch","_expirationTime","_defer","Gi","Hi","Ii","Ji","Ki","Li","Mi","Ni","_root","_callbacks","_next","_hasChildren","_didComplete","_children","Oi","_didCommit","_onCommit","Pi","_internalRoot","Qi","Ri","hasAttribute","Si","legacy_renderSubtreeIntoContainer","Ti","JSON","stringify","form","commit","unmount","createBatch","Vi","createPortal","unstable_renderSubtreeIntoContainer","unmountComponentAtNode","unstable_createPortal","unstable_batchedUpdates","unstable_interactiveUpdates","flushSync","unstable_createRoot","Ui","unstable_flushControlled","Events","findFiberByHostInstance","overrideProps","currentDispatcherRef","findHostInstanceByFiber","bundleType","rendererPackageName","Wi","Xi","global","previous","priorityLevel","performance","_schedMock","MessageChannel","port2","port1","onmessage","postMessage","unstable_next","unstable_wrapCallback","unstable_continueExecution","unstable_pauseExecution","unstable_getFirstCallbackNode","Function","_buttonAccessibilityImageAlt","_buttonBackgroundColor","_buttonBold","_buttonCameraImage","_buttonCamera","_buttonCode","_buttonColor","_buttonCommandsList","_buttonEmbedEdit","_buttonEmbedVideoEdit","_buttonEmbedVideo","_buttonEmbed","_buttonH","_buttonH3","_buttonHline","_buttonImageAlignCenter","_buttonImageAlignLeft","_buttonImageAlignRight","_buttonImage","_buttonIndentBlock","_buttonItalic","_buttonItemSelectorAudio","_buttonItemSelectorImage","_buttonItemSelectorVideo","_buttonLinkBrowse","_buttonLinkEditBrowse","_buttonLink","_buttonOl","_buttonOutdentBlock","_buttonParagraphAlignLeft","_buttonParagraphAlignRight","_buttonParagraphAlign","_buttonParagraphCenter","_buttonParagraphJustify","_buttonQuote","_buttonRemoveFormat","_buttonRemoveImage","_buttonSeparator","_buttonSpacing","_buttonStrike","_buttonStylesList","_buttonStyles","_buttonSubscript","_buttonSuperscript","_buttonTableCell","_buttonTableColumn","_buttonTableEdit","_buttonTableHeading","_buttonTableRemove","_buttonTableRow","_buttonTable","_buttonTwitter","_buttonUl","_buttonUnderline","ButtonAccessibilityImageAlt","ButtonBackgroundColor","ButtonBold","ButtonCamera","ButtonCode","ButtonColor","ButtonEmbed","ButtonEmbedVideo","ButtonH1","ButtonH2","ButtonHline","ButtonImageAlignCenter","ButtonImageAlignLeft","ButtonImageAlignRight","ButtonImage","ButtonIndentBlock","ButtonItalic","ButtonItemSelectorAudio","ButtonItemSelectorImage","ButtonItemSelectorVideo","ButtonLinkBrowse","ButtonOl","ButtonOutdentBlock","ButtonParagraphAlign","ButtonParagraphAlignLeft","ButtonParagraphAlignRight","ButtonParagraphCenter","ButtonParagraphJustify","ButtonQuote","ButtonRemoveFormat","ButtonRemoveImage","ButtonSeparator","ButtonSpacing","ButtonStrike","ButtonStylesListHeader","ButtonStyles","ButtonSubscript","ButtonSuperscript","ButtonTableCell","ButtonTableColumn","ButtonTableHeading","ButtonTableRemove","ButtonTableRow","ButtonTable","ButtonTwitter","ButtonUl","ButtonUnderline","_initialiseProps","getStartElement","_element","imageElement","imageAlt","_handleAltChange","_updateImageAlt","focusAltEl","refAltInput","_focusAltInput","activeColor","activeColorClass","colors","_getColors","itemStyle","attributes","class","styleClass","_checkActive","_props","buttonStylesProps","_buttonStylesList2","styleConfig","_applyStyle","primary","success","danger","warning","info","bool","string","arrayOf","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","array","any","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","bold","aria-pressed","_buttonCameraImage2","protocol","cameraDisabled","camera","code","dark","darkGray","secondary","light","lighter","white","_buttonEmbedVideoEdit2","_buttonEmbedEdit2","SHIFT","h1","h2","horizontalrule","_buttonCommandActive","alignCenter","_buttonCommandActive2","alignLeft","alignRight","handleClick","fileInput","click","_onInputChange","inputEl","files","reader","FileReader","file","onload","imageFiles","imageData","readAsDataURL","inputSyle","accept","indent","italic","_handleClick","_buttonLinkEditBrowse2","_buttonLink2","ButtonOrderedList","numberedlist","outdent","buttonCommandsList","buttonCommandsListId","_buttonCommandsList2","_getCommands","inlineIcons","activeCommand","alignment","iconClassName","aria-owns","row","alignJustify","quote","removeformat","removeImage","activeSpacing","spacings","_getSpacings","active","lastElement","strike","_getStyles","buttonStylesList","formatted","cite","subscript","superscript","cell","cellInsertBefore","cellInsertAfter","cellDelete","cellMerge","cellMergeDown","cellMergeRight","cellSplitHorizontal","cellSplitVertical","column","columnInsertBefore","columnInsertAfter","columnDelete","activeHeading","getHeading","activeHeadingIntro","headers","activeHeadingLabel","headersNone","headersRow","headersColumn","headersBoth","_removeTable","deleteTable","rowInsertBefore","rowInsertAfter","rowDelete","_buttonTableEdit2","MAX_TWEET_LENGTH","_getHref","twitter","selectedText","getSelectedText","via","twitterHref","ButtonUnorderedlist","bulletedlist","underline","modifiesSelection","selectionChange","getToolbarButtonGroups","WidgetArrowBox","_nextProps","_widgetInteractionPoint","WidgetPosition","mixins","getDefaultProps","cancelAnimation","halfWidth","_animate","show","updatePosition","_toolbarAdd","_toolbarStyles","ToolbarAdd","ToolbarStyles","_toolbarButtons","_widgetExclusive","POSITION_LEFT","POSITION_RIGHT","_updatePosition","_prevProps","_prevState","isContentEditable","_getButtons","_getToolbarClassName","data-tabindex","clientRect","offsetLeft","position","gutterExclusive","floor","_widgetExclusive2","_toolbarButtons2","currentSelection","_getCurrentSelection","getArrowBoxClassesFn","_getSelectionFunction","cssClasses","buttonsGroup","selectionType","hasGroups","selectionFn","selectionFunction","selections","testFn","setPositionFn","_commands","_main","EMBED_VIDEO_WIDTH","EMBED_VIDEO_HEIGHT","_oop2","initializer","inline","allowedContent","toolbars","removePlugins","extraPlugins","embedProviders","placeholderClass","pasteFromWordRemoveStyles","pasteFromWordRemoveFontStyles","selectionKeystrokes","edge","plugin","_addReadOnlyLinkClickListener","extraCommands","extraCommandKeys","_editor","_renderUI","_destroyed","_editorUIElement","_clearSelections","isMSSelection","empty","getWindow","_defaultReadOnlyClickFn","mouseEvent","hasCtrlKey","shouldOpen","listenerData","ckElement","getTarget","_redirectLink","_getNativeEditor","open","editorUIElement","callbackRef","_mainUI","_main2","eventsDelay","_toElement","getElementById","_validateAllowedContent","_validateToolbars","tpl","urlSchemes","enableContentEditable","removeImageCommand","_debounce","debounce","debounceHandle","callFn","callArgs","callContext","detach","REGEX_BOOKMARK_SCHEME","REGEX_EMAIL_SCHEME","REGEX_URI_SCHEME","moveToElementEditEnd","nextNode","getNextEditableNode","whitespace","selectRanges","URI","collapsed","insertNode","selectNodeContents","_getCompleteURI","data-cke-saved-href","applyToRange","getChildren","getItem","shrink","SHRINK_TEXT","alwaysRemoveElement","selectElement","uri","setAttributes","removeAttrs","setAttrs","removeAttributes","wrapPluginLifecycle","methods","methodName","override","originalPluginMethod","phase","__processingPlugin__","filterUnwantedDependencies","requires","require","pluginsLoad","names","scope","SelectionRegion","createSelectionFromPoint","createSelectionFromRange","startX","startY","endX","endY","caretPositionFromPoint","offsetNode","caretRangeFromPoint","createTextRange","endRange","duplicate","setEndPoint","getCaretRegion","bookmarkNodeEl","startNode","scrollPos","getSelectionData","getNative","getSelectionRegion","getClientRectsRegion","getSelectionDirection","getType","SELECTION_NONE","nativeSelection","defaultRect","clientRects","Infinity","getClientRects","getRangeAt","DOCUMENT_POSITION_PRECEDING","init","IE_NON_DIRECTLY_EDITABLE_ELEMENT","colgroup","tbody","tfoot","thead","tr","HEADING_BOTH","HEADING_COL","HEADING_NONE","HEADING_ROW","_createElement","append","j","appendBogus","setHeading","heading","firstCell","cells","moveToPosition","POSITION_AFTER_START","webkit","NODE_ELEMENT","rowHeadingSettings","tHead","colHeadingSettings","headingSettings","parent","getChildCount","POSITION_BEFORE_START","newCell","tableHead","tableBody","getElementsByTag","tableHeading","hadColHeading","needColHeading","needRowHeading","tableFirstRow","tableFirstRowChildCount","getChild","renameNode","createTHead","previousFirstRow","getFirst","newFirstRow","newFirstRowChildCount","hasColHeading","headingCommands","jsonp","urlTemplate","urlParams","errorCallback","callbackKey","getNextNumber","_","jsonpCallbacks","response","cleanUp","scriptElement","output","getBody","cancel","simulate","eventInstance","createEvent","initEvent","dispatchEvent","ariaState","ariaElement","_createAriaElement","uiTasksTimeout","uicore","handleUI","allowEsc","handleAria","_event","handleMouseLeave","aeUINodes","found","message","focusHandler","attachListener","removeListener","statusElement","isIE","_onDragEnter","_onDragOver","_onDragDrop","_onPaste","_handleFiles","_processFile","transferFiles","_preventEvent","pastedData","imageFile","getAsFile","bin","userAgent","KEY_BACK","KEY_COMMA","KEY_SEMICOLON","KEY_SPACE","DELIMITERS","REGEX_LAST_WORD","REGEX_URL","REGEX_EMAIL","_onKeyUp","method","dataValue","RegExp","_isValidURL","_isValidEmail","_getLastWord","previousText","_currentKeyCode","previousNode","getPrevious","getLast","_startContainer","_offset","lastWord","_onKeyDown","_ckLink","_replaceContentByLink","content","ckLink","linkNode","_subscribeToKeyEvent","nextEditableNode","enclosedNode","getEnclosedNode","caretOffset","getNext","newRange","setEndAfter","DEFAULT_CONFIG","regex","_checkForBackspaceAndUndo","insertHtml","bullet","_getListConfig","configRegex","autolist","textContainer","regexLen","autolistCfg","regexItem","_createList","listConfig","setText","IMAGE_HANDLES","both","scale","POSITION_ELEMENT_FN","bl","handle","box","positionElement","bm","round","lm","tl","_box","tm","rm","IMAGE_SNAP_TO_SIZE","isFirefox","isWebKit","enablePlugin","snapToSize","imageScaleResize","resizer","Resizer","mouseDownListener","isHandle","initDrag","hide","self","resizeElement","removeEventListener","resizeTimeout","DragEvent","events","mousemove","keydown","mouseup","len","arr","ctx","getBoundingBox","getBoundingClientRect","pageXOffset","pageYOffset","addCss","onLoad","_evt","container","preview","handles","handleName","createHandle","classList","otherImages","splice","showHandles","elements","getElementsByClassName","hideHandles","drag","onStart","showPreview","isDragging","onDrag","calculateSize","updatePreview","previewBox","updateHandles","onRelease","hidePreview","onComplete","resizeComplete","backgroundImage","delta","ratio","others","other","startPos","currentPos","ctrl","alt","alignmentsObj","center","cursor","regexPercent","template","widgetDef","widgets","initOn","alignClasses","image2_alignClasses","captionedClass","image2_captionedClass","helpers","image2","hasCaption","caption","ready","checkHasNaturalRatio","wrapper","align","alignElement","setData","image2_disableResizer","setupResizer","getStyleableElement","getWidgetAllowedContent","contentTransformations","features","checkFeature","contenteditable","data-cke-saved-src","oldData","classes","dimension","setDimensions","downcast","downcastWidgetElement","draggable","editables","selector","getWidgetFeatures","getClasses","classRegex","repository","parseElementClasses","getLabel","pathName","requiredContent","styleableElements","upcast","upcastWidgetElement","isCenterWrapper","centerWrapperChecker","dimensions","figure","replaceWith","isLinkedOrStandaloneImage","attrsHolder","resizeWrapper","parseCssText","wrapWith","htmlParser","isEmpty","writeCssText","validChildren","div","enterMode","ENTER_P","widget","doc","imageOrLink","oldResizeWrapper","evt","factor","startWidth","startHeight","clientHeight","listeners","cursorClass","nativeEvt","newWidth","newHeight","updateData","moveDiffX","moveDiffY","attachToDocuments","collection","globalDoc","onMouseMove","onMouseUp","widgetElement","rules","figcaption","hidpi","icons","natural","getNatural","naturalWidth","naturalHeigh","Image","heigh","templateBlock","afterInit","block","integrate","alignCommandIntegrator","ae_dragresize_ie11","stateShifter","ae_dragresize_ie11_alignClasses","ae_dragresize_ie11_captionedClass","shiftables","stateActions","oldValue","newValue","changed","marginLeft","marginRight","newData","deflate","wrapInCentering","unwrapFromCentering","setStyle","captionPlaceholder","replaceSafely","needsDeflate","newEl","wrapInLink","getLinkAttributesGetter","removed","unwrapFromLink","attribsAndStyles","text-align","activeEnterMode","move","linkData","replacing","replaced","insertElementIntoRange","inflate","naturalHeight","getLinkAttributes","getLinkAttributesParser","parseLinkAttributes","removeWidgetAlignment","imageAlignment","deflated","focused","setWrapperAlign","shiftState","advanced","advCSSClasses","ae_dragresize_ie11_disableResizer","dragHandlerStyle","dragHandlerContainer","TRISTATE_OFF","unlink","querySelector","imageStyles","heightStyles","widthStyles","resizerNE","resizerNW","resizerSE","resizerSW","factorX","factorY","adjustToX","adjustToY","execCallbacks","enabled","refresh","getFocusedWidget","allowed","registered","TRISTATE_DISABLED","_priorities","REGEX_HTTP","REGEX_DEFAULT_LINK","DEFAULT_AE_EMBED_URL_TPL","DEFAULT_AE_EMBED_WIDGET_TPL","DEFAULT_AE_EMBED_DEFAULT_LINK_TPL","AE_EMBED_URL_TPL","embedUrlTemplate","AE_EMBED_WIDGET_TPL","embedWidgetTpl","AE_EMBED_DEFAULT_LINK_TPL","embedLinkDefaultTpl","defaultEmbedWidgetUpcastFn","mask","createATag","setHtml","_msg","aTagHtml","embedWidgetUpcastFn","HIGH_PRIORITY","addElementCallback","FILTER_SKIP_TREE","DEFAULT_PRIORITY","_Resizer","DEFAULT_LFR_EMBED_WIDGET_TPL","EMBED_ALIGNMENT","CENTER","LEFT","RIGHT","ALIGN_VALUES","CENTERED_EMBED_STYLE","getEmbedAlignment","embedAlignment","centeredEmbed","every","styleCheck","vendorPrefixes","vendorPrefix","removeEmbedAlignment","setEmbedAlignment","wrapperElement","parentElement","pwidth","parse","iframeElement","selectWidget","root","find","elementList","currentAlignment","currentElement","LFR_EMBED_WIDGET_TPL","providers","provider","scheme","generateEmbedContent","helpMessage","videoPlaybackDisabled","helpMessageIcon","Liferay","Util","getLexiconIconTpl","upcastWidget","iframe","embedContent","getOuterHtml","widgetFragment","fragment","fromHtml","showError","errorMsg","validProvider","embedId","_selectEmbedWidget","platformNotSupported","enterValidUrl","stylesJSON","_error","bounds","alignValue","selectedEmbed","sender","_DragEvent","editorBounds","_IMAGE_STYLE_ALIGNMEN","IMAGE_ALIGNMENT","IMAGE_STYLE_ALIGNMENT","_defineProperty","getImageAlignment","centeredImage","imageContainer","textAlign","removeImageAlignment","setImageAlignment","refreshCommands","brFiller","needsBrFiller","enterModeEmptyValue","1","2","3","_checkEmptyData","_removePlaceholderClass","editableNode","innerHtml","editorNode","selectionKeystroke","pxUnit","cssLength","getWidth","getBorderWidth","side","computed","borderMap","thin","medium","thick","getMasterPillarRow","$rows","maxCells","cellsCount","$elected","$tr","buildTableColumnPillars","pillars","pillarIndex","rtl","tBodies","tbodyPosition","getDocumentPosition","nextTd","colSpan","pillarLeft","pillarRight","pillarWidth","getPillarAtPosition","positionX","pillar","ColumnResizer","currentShift","leftShiftBoundary","leftSideCells","resizing","rightShiftBoundary","rightSideCells","isResizing","posX","resizerNewPosition","onMouseDown","resizeStart","columnIndex","buildTableMap","leftColumnCells","rightColumnCells","leftMinSize","Number","MAX_VALUE","rightMinSize","leftCell","rightCell","setOpacity","resizeEnd","resizeColumn","removeCustomData","_loop","leftOldWidth","rightOldWidth","tableWidth","sizeShift","getPageOffset","getDocumentElement","clearPillarsCache","dest","isInline","getCustomData","setCustomData","cellNodeRegex","getSelectedCells","retval","database","moveOutOfCellGuard","setMarker","nearestCell","walker","guard","dtd","clearAllMarkers","getFocusElementAfterDelCells","cellsToDelete","focusedCell","insertRow","getDocument","startRow","startRowIndex","rowIndex","lastCell","endRowIndex","rowSpan","endRow","cloneRow","nextRow","newRow","clone","insertAfter","cellIndex","deleteRows","selectionOrRow","rowsToDelete","mapRow","cellRowIndex","nextMapRow","cursorPosition","getCellColIndex","isStart","rowCells","colIndex","mapCell","getColumnsIndices","insertColumn","startCol","lastCol","cloneCol","nextCol","nextCell","insertedCells","deleteColumns","selectionOrCell","startColIndex","endColIndex","firstRowCells","insertCell","startElement","deleteCells","cellToFocus","placeCursorInCell","trimCell","bogus","getBogus","placeAtEnd","docInner","docOuter","collapse","cellInRow","tableMap","oRow","cellInCol","oCol","mergeCells","mergeDirection","isDetect","commonAncestor","mapHeight","mapWidth","startColumn","targetCell","rowspan","colspan","er","lastRowIndex","totalRowSpan","totalColSpan","frag","documentFragment","cellFirstChild","isBlockBoundary","whitespaces","moveChildren","trs","nodeList","tailTr","verticalSplitCell","newRowSpan","newCellRowSpan","newRowIndex","ceil","newCellTr","newCellRow","candidateCell","cellsInSameRow","horizontalSplitCell","newColSpan","newCellColSpan","cellsInSameCol","createDef","def","contextSensitive","addCmd","cmd","addFeature","aRows","aMap","oCell","iColSpan","iRowSpan","rs","cs","BUTTON_DEFS","generateButtonBridge","buttonDefinition","ButtonBridge","buttonCommand","buttonOnClick","_React$Component","buttonClassName","buttonDisplayName","buttonLabel","buttonType","iconStyle","cssStyle","skin","getIconStyle","cssStyleParts","backgroundPosition","backgroundSize","UI_BUTTON","beforeInit","addButton","addHandler","MENUBUTTON_DEFS","generateMenuButtonBridge","menuButtonName","menuButtonDefinition","MenuButtonBridge","panelMenuButtonDisplayName","_getMenuItems","onMenu","menuItems","menuItem","getMenuItem","menuItemDefinition","definition","menuItemState","UI_MENU_BUTTON","addMenuButton","UI_MENUBUTTON","groups","groupsOrder","menuGroups","addMenuGroup","addMenuItem","group","addMenuItems","definitions","itemName","removeMenuItem","PANEL_MENU_DEFS","generatePanelMenuButtonBridge","panelMenuButtonName","panelMenuButtonDefinition","PanelMenuButtonBridge","panel","_getPanel","panelMenuButtonOnBlock","onBlock","blockElement","getHtml","UI_PANELBUTTON","addPanelMenuButton","RICH_COMBO_DEFS","generateRichComboBridge","richComboName","richComboDefinition","RichComboBridge","currentValue","editorCombo","_items","_setValue","onRender","_cacheValue","richComboLabel","_getItems","richCombo","UI_RICHCOMBO","addRichCombo","originalUIAddFn","typeHandler","handlers","_removeImage","nextRange","native","UI","_onDismissToolbarFocus","_onEditorInteraction","_onActionPerformed","_onEditorKey","_mousedownListener","_setUIHidden","_keyDownListener","prevProps","prevState","_getAvailableToolbarsMessage","ariaUpdate","_ariaUpdateTemplates","_getAriaUpdates","ariaUpdates","noToolbar","ariaUpdateNoToolbar","oneToolbar","ariaUpdateOneToolbar","manyToolbars","ariaUpdateManyToolbars","toolbarsNodeList","toolbarNames","_getAriaUpdateTemplate","domEvent","targetNode","_callChain","wat","ctor","reverse"],"mappings":"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","file":"alloy-editor-no-ckeditor-min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 44);\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\n\nexport default function ButtonIcon({className = '', symbol}) {\n\treturn (\n\t\t<EditorContext.Consumer>\n\t\t\t{({editor}) => {\n\t\t\t\tconst nativeEditor = editor.get('nativeEditor');\n\t\t\t\tconst spritemap = nativeEditor.config.spritemap || '';\n\t\t\t\tconst path = `${spritemap}#${symbol}`;\n\t\t\t\tconst classNamePrefix = className ? ` ${className}` : '';\n\t\t\t\tconst combinedClassName = `ae-svg-icon${classNamePrefix}`;\n\n\t\t\t\treturn (\n\t\t\t\t\t<svg className={combinedClassName} height=\"18\" width=\"18\">\n\t\t\t\t\t\t<use href={path} />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t\t}}\n\t\t</EditorContext.Consumer>\n\t);\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\n/**\n * React context to avoid explicitly passing the editor instance all\n * through the component hierarchy via props.\n */\nconst EditorContext = React.createContext({});\n\n/**\n * Helper that passes the editor context in via a prop.\n *\n * Context can only be accessed in `render()` and in lifecycle methods\n * (`componentDidMount()` etc). If a component needs to access context\n * elsewhere, such as in a constructor, the context needs to be passed\n * in via a prop.\n */\nEditorContext.toProps = Component => {\n\tconst forwardingComponent = React.forwardRef((props, ref) => (\n\t\t<EditorContext.Consumer>\n\t\t\t{context => <Component {...props} context={context} ref={ref} />}\n\t\t</EditorContext.Consumer>\n\t));\n\tforwardingComponent.key = Component.key;\n\treturn forwardingComponent;\n};\n\nexport default EditorContext;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * ButtonCommand is a mixin that executes a command via CKEDITOR's API.\n *\n * @class ButtonCommand\n */\nexport default WrappedComponent =>\n\tclass ButtonCommand extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Executes a CKEditor command and fires `actionPerformed` event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommand\n\t\t * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.\n\t\t * @method execCommand\n\t\t */\n\t\texecCommand = data => {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\teditor.execCommand(this.props.command, data);\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t};\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonStateClasses is a mixin that decorates the domElement of a component\n * with different CSS classes based on the current state of the element.\n *\n * To check for state, the component can expose the following methods:\n * - `Function` **isActive** to check the active state\n *\n * @class ButtonStateClasses\n */\nexport default WrappedComponent =>\n\tclass ButtonStateClasses extends WrappedComponent {\n\t\t/**\n\t\t * Returns the list of state classes associated to the current element's state, according\n\t\t * to the results of the isActive method.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStateClasses\n\t\t * @method getStateClasses\n\t\t * @return {String} A string with the state CSS classes.\n\t\t */\n\t\tgetStateClasses() {\n\t\t\tlet stateClasses = '';\n\n\t\t\t// Check for active state\n\t\t\tif (Lang.isFunction(this.isActive) && this.isActive()) {\n\t\t\t\tstateClasses += 'ae-button-pressed';\n\t\t\t}\n\n\t\t\treturn stateClasses;\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * Provides core language utilities.\n *\n * @class Lang\n */\nconst Lang = {\n\t/**\n\t * Check if the passed value is an array.\n\t *\n\t * @memberof Lang\n\t * @method isArray\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is an array, false otherwise.\n\t * @static\n\t */\n\tisArray(value) {\n\t\treturn Object.prototype.toString.call(value) === '[object Array]';\n\t},\n\n\t/**\n\t * Check if the passed value is boolean.\n\t *\n\t * @memberof Lang\n\t * @method isBoolean\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is boolean, false otherwise.\n\t * @static\n\t */\n\tisBoolean(value) {\n\t\treturn typeof value === 'boolean';\n\t},\n\n\t/**\n\t * Check if the passed value is a function.\n\t *\n\t * @memberof Lang\n\t * @method isFunction\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is a function, false otherwise.\n\t * @static\n\t */\n\tisFunction(value) {\n\t\treturn typeof value === 'function';\n\t},\n\n\t/**\n\t * Check if the passed value is NULL.\n\t *\n\t * @memberof Lang\n\t * @method isNull\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is NULL, false otherwise.\n\t * @static\n\t */\n\tisNull(value) {\n\t\treturn value === null;\n\t},\n\n\t/**\n\t * Check if the passed value is number.\n\t *\n\t * @memberof Lang\n\t * @method isNumber\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is number, false otherwise.\n\t * @static\n\t */\n\tisNumber(value) {\n\t\treturn typeof value === 'number' && isFinite(value);\n\t},\n\n\t/**\n\t * Check if the passed value is an object\n\t *\n\t * @memberof Lang\n\t * @method isObject\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is an object, false otherwise.\n\t * @static\n\t */\n\tisObject(value) {\n\t\tconst valueType = typeof value;\n\n\t\treturn value && (valueType === 'object' || Lang.isFunction(value));\n\t},\n\n\t/**\n\t * Check if the passed value is a string.\n\t *\n\t * @memberof Lang\n\t * @method isString\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is a string, false otherwise.\n\t * @static\n\t */\n\tisString(value) {\n\t\treturn typeof value === 'string';\n\t},\n\n\t/**\n\t * Adds all properties from the supplier to the receiver.\n\t * The function will add all properties, not only these owned by the supplier.\n\t *\n\t * @memberof Lang\n\t * @method mix\n\t * @param {Object} receiver The object which will receive properties.\n\t * @param {Object} supplier The object which provides properties.\n\t * @return {Object} The modified receiver.\n\t * @static\n\t */\n\tmix(receiver, supplier) {\n\t\tconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\tfor (const key in supplier) {\n\t\t\tif (hasOwnProperty.call(supplier, key)) {\n\t\t\t\treceiver[key] = supplier[key];\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Converts value to Integer.\n\t *\n\t * @memberof Lang\n\t * @method toInt\n\t * @param {Any} value The value which have to be converted to Integer.\n\t * @return {Integer} The converted value.\n\t * @static\n\t */\n\ttoInt(value) {\n\t\treturn parseInt(value, 10);\n\t},\n};\n\nexport default Lang;\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonStyle is a mixin that provides a style prop and some methods to apply the resulting\n * style and checking if it is present in a given path or selection.\n *\n * @class ButtonStyle\n */\nexport default WrappedComponent =>\n\tclass ButtonStyle extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method componentWillMount\n\t\t */\n\t\tcomponentWillMount() {\n\t\t\tif (Lang.isFunction(super.componentWillMount)) {\n\t\t\t\tsuper.componentWillMount();\n\t\t\t}\n\n\t\t\tlet style = this.props.style;\n\n\t\t\tif (Lang.isString(style)) {\n\t\t\t\tconst parts = style.split('.');\n\t\t\t\tlet currentMember = this.context.editor.get('nativeEditor')\n\t\t\t\t\t.config;\n\t\t\t\tlet property = parts.shift();\n\n\t\t\t\twhile (\n\t\t\t\t\tproperty &&\n\t\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t\t) {\n\t\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\t\tproperty = parts.shift();\n\t\t\t\t}\n\n\t\t\t\tif (Lang.isObject(currentMember)) {\n\t\t\t\t\tstyle = currentMember;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._style = new CKEDITOR.style(style);\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method componentWillUnmount\n\t\t */\n\t\tcomponentWillUnmount() {\n\t\t\tif (Lang.isFunction(super.componentWillUnmount)) {\n\t\t\t\tsuper.componentWillUnmount();\n\t\t\t}\n\n\t\t\tthis._style = null;\n\t\t}\n\n\t\t/**\n\t\t * Returns instance of CKEDITOR.style which represents the current button style.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method getStyle\n\t\t * @return {CKEDITOR.style} The current style representation.\n\t\t */\n\t\tgetStyle() {\n\t\t\treturn this._style;\n\t\t}\n\n\t\t/**\n\t\t * Checks if style is active in the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method isActive\n\t\t * @return {Boolean} True if style is active, false otherwise.\n\t\t */\n\t\tisActive() {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\t\tconst elementPath = editor.elementPath();\n\t\t\treturn this.getStyle().checkActive(elementPath, editor);\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * ButtonCommandActive is a mixin that provides an `isActive` method to determine if\n * a context-aware command is currently in an active state.\n *\n * @class ButtonCommandActive\n */\nexport default WrappedComponent =>\n\tclass ButtonCommandActive extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Checks if the command is active in the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommandActive\n\t\t * @method isActive\n\t\t * @return {Boolean} True if the command is active, false otherwise.\n\t\t */\n\t\tisActive() {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\tconst command = editor.getCommand(this.props.command);\n\n\t\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ReactDOM from 'react-dom';\n\nimport Lang from '../../oop/lang';\n\nconst DIRECTION_NONE = 0;\nconst DIRECTION_NEXT = 1;\nconst DIRECTION_PREV = -1;\n\nconst ACTION_NONE = 0;\nconst ACTION_MOVE_FOCUS = 1;\nconst ACTION_DISMISS_FOCUS = 2;\n\n/**\n * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,\n * it exposes the following props and methods:\n *\n * @class WidgetFocusManager\n */\nexport default WrappedComponent =>\n\tclass WidgetFocusManager extends WrappedComponent {\n\t\t/**\n\t\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method componentDidMount\n\t\t */\n\t\tcomponentDidMount() {\n\t\t\tif (Lang.isFunction(super.componentDidMount)) {\n\t\t\t\tsuper.componentDidMount();\n\t\t\t}\n\n\t\t\tthis._refresh();\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t\t * Refreshes the descendants list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method componentDidUpdate\n\t\t */\n\t\tcomponentDidUpdate() {\n\t\t\tif (Lang.isFunction(super.componentDidUpdate)) {\n\t\t\t\tsuper.componentDidUpdate();\n\t\t\t}\n\n\t\t\tthis._refresh();\n\t\t}\n\n\t\t/**\n\t\t * Focuses the current active descendant.\n\t\t *\n\t\t * Several Widgets can be nested in a component hierarchy by attaching this focus method to\n\t\t * the widget DOM node, transferring the DOM focus control to the inner FocusManager.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method focus\n\t\t */\n\t\tfocus = event => {\n\t\t\tif (!event || this._isValidTarget(event.target)) {\n\t\t\t\tif (this._descendants && this._descendants.length) {\n\t\t\t\t\tconst activeDescendantEl = this._descendants[\n\t\t\t\t\t\tthis._activeDescendant\n\t\t\t\t\t];\n\t\t\t\t\t// When user clicks with the mouse, the activeElement is already set and there\n\t\t\t\t\t// is no need to focus it. Focusing of the active descendant (usually some button) is required\n\t\t\t\t\t// in case of keyboard navigation, because the focused element might be not the first button,\n\t\t\t\t\t// but the div element, which contains the button.\n\t\t\t\t\tif (\n\t\t\t\t\t\tdocument.activeElement !== activeDescendantEl &&\n\t\t\t\t\t\t!this.props.focusFirstChild\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis._descendants.indexOf(\n\t\t\t\t\t\t\t\tdocument.activeElement\n\t\t\t\t\t\t\t) === -1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tactiveDescendantEl.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Handles the key events on a DOM node to execute the appropriate navigation when needed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @param {Object} event The Keyboard event that was detected on the widget DOM node.\n\t\t * @method handleKey\n\t\t */\n\t\thandleKey = event => {\n\t\t\tif (this._isValidTarget(event.target) && this._descendants) {\n\t\t\t\tconst action = this._getFocusAction(event);\n\n\t\t\t\tif (action.type) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tif (action.type === ACTION_MOVE_FOCUS) {\n\t\t\t\t\t\tthis._moveFocus(action.direction);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (action.type === ACTION_DISMISS_FOCUS) {\n\t\t\t\t\t\tthis.props.onDismiss(action.direction);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Moves the focus among descendants in the especified direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method moveFocus\n\t\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t\t */\n\t\tmoveFocus(direction) {\n\t\t\tdirection = Lang.isNumber(direction) ? direction : 0;\n\n\t\t\tthis._moveFocus(direction);\n\t\t}\n\n\t\t/**\n\t\t * Returns the action, if any, that a keyboard event in the current focus manager state\n\t\t * should produce.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusAction\n\t\t * @param {object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Object} An action object with type and direction properties.\n\t\t */\n\t\t_getFocusAction(event) {\n\t\t\tconst action = {\n\t\t\t\ttype: ACTION_NONE,\n\t\t\t};\n\n\t\t\tif (this.props.keys) {\n\t\t\t\tconst direction = this._getFocusMoveDirection(event);\n\n\t\t\t\tif (direction) {\n\t\t\t\t\taction.direction = direction;\n\t\t\t\t\taction.type = ACTION_MOVE_FOCUS;\n\t\t\t\t}\n\n\t\t\t\tconst dismissAction = this._getFocusDismissAction(\n\t\t\t\t\tevent,\n\t\t\t\t\tdirection\n\t\t\t\t);\n\n\t\t\t\tif (dismissAction.dismiss) {\n\t\t\t\t\taction.direction = dismissAction.direction;\n\t\t\t\t\taction.type = ACTION_DISMISS_FOCUS;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn action;\n\t\t}\n\n\t\t/**\n\t\t * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This\n\t\t * will happen in any of these scenarios if a dismiss callback has been specified:\n\t\t * - A dismiss key has been pressed\n\t\t * - In a non-circular focus manager, when:\n\t\t *     - The active descendant is the first one and a prev key has been pressed.\n\t\t *     - The active descendant is the last one and a next key has been pressed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusDismissAction\n\t\t * @param {Number} focusMoveDirection The focus movement direction (if any).\n\t\t * @param {Object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Object} A dismiss action with dismiss and direction properties.\n\t\t */\n\t\t_getFocusDismissAction(event, focusMoveDirection) {\n\t\t\tconst dismissAction = {\n\t\t\t\tdirection: focusMoveDirection,\n\t\t\t\tdismiss: false,\n\t\t\t};\n\n\t\t\tif (this.props.onDismiss) {\n\t\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis._isValidKey(event.keyCode, this.props.keys.dismissNext)\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t\tdismissAction.direction = DIRECTION_NEXT;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis._isValidKey(event.keyCode, this.props.keys.dismissPrev)\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t\tdismissAction.direction = DIRECTION_PREV;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!dismissAction.dismiss &&\n\t\t\t\t\t!this.props.circular &&\n\t\t\t\t\tfocusMoveDirection\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss =\n\t\t\t\t\t\t(focusMoveDirection === DIRECTION_PREV &&\n\t\t\t\t\t\t\tthis._activeDescendant === 0) ||\n\t\t\t\t\t\t(focusMoveDirection === DIRECTION_NEXT &&\n\t\t\t\t\t\t\tthis._activeDescendant ===\n\t\t\t\t\t\t\t\tthis._descendants.length - 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn dismissAction;\n\t\t}\n\n\t\t/**\n\t\t * Returns the direction, if any, in which the focus should be moved. In presence of the\n\t\t * shift key modifier, the direction of the movement is inverted.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusMoveDirection\n\t\t * @param {Object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Number} The computed direction of the expected focus movement.\n\t\t */\n\t\t_getFocusMoveDirection(event) {\n\t\t\tlet direction = DIRECTION_NONE;\n\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.next)) {\n\t\t\t\tdirection = DIRECTION_NEXT;\n\t\t\t}\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.prev)) {\n\t\t\t\tdirection = DIRECTION_PREV;\n\t\t\t}\n\n\t\t\tif (event.shifKey) {\n\t\t\t\tdirection *= -1;\n\t\t\t}\n\n\t\t\treturn direction;\n\t\t}\n\n\t\t/**\n\t\t * Indicates if a given keyCode is valid for the given set of keys.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _isValidKey\n\t\t * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.\n\t\t * @param {Number} keyCode An event keyCode.\n\t\t * @protected\n\t\t * @return {Boolean} A boolean value indicating if the key is valid.\n\t\t */\n\t\t_isValidKey(keyCode, keys) {\n\t\t\treturn Lang.isArray(keys)\n\t\t\t\t? keys.indexOf(keyCode) !== -1\n\t\t\t\t: keyCode === keys;\n\t\t}\n\n\t\t/**\n\t\t * Indicates if a given element is valid for focus management. User input elements such as\n\t\t * input, select or textarea are excluded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _isValidKey\n\t\t * @param {DOMNode} element A DOM element.\n\t\t * @protected\n\t\t * @return {Boolean} A boolean value indicating if the element is valid.\n\t\t */\n\t\t_isValidTarget(element) {\n\t\t\tconst tagName = element.tagName.toLowerCase();\n\n\t\t\treturn (\n\t\t\t\ttagName !== 'input' &&\n\t\t\t\ttagName !== 'select' &&\n\t\t\t\ttagName !== 'textarea'\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * Moves the focus among descendants in the especified direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _moveFocus\n\t\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t\t * @protected\n\t\t */\n\t\t_moveFocus(direction) {\n\t\t\tconst numDescendants = this._descendants.length;\n\n\t\t\tlet descendant = this._descendants[this._activeDescendant];\n\n\t\t\tdescendant.setAttribute('tabIndex', -1);\n\n\t\t\tthis._activeDescendant += direction;\n\n\t\t\tif (this.props.circular) {\n\t\t\t\t// Calculate proper modulo result since remainder operator doesn't behave in the\n\t\t\t\t// same way for negative numbers\n\t\t\t\tthis._activeDescendant =\n\t\t\t\t\t((this._activeDescendant % numDescendants) +\n\t\t\t\t\t\tnumDescendants) %\n\t\t\t\t\tnumDescendants;\n\t\t\t} else {\n\t\t\t\tthis._activeDescendant = Math.max(\n\t\t\t\t\tMath.min(this._activeDescendant, numDescendants - 1),\n\t\t\t\t\t0\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tdescendant = this._descendants[this._activeDescendant];\n\n\t\t\tdescendant.setAttribute('tabIndex', 0);\n\t\t\tdescendant.focus();\n\t\t}\n\n\t\t/**\n\t\t * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _refresh\n\t\t * @protected\n\t\t */\n\t\t_refresh() {\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (domNode) {\n\t\t\t\tconst descendants = domNode.querySelectorAll(\n\t\t\t\t\tthis.props.descendants\n\t\t\t\t);\n\n\t\t\t\tlet priorityDescendants = [];\n\n\t\t\t\tthis._descendants = [];\n\n\t\t\t\tArray.prototype.slice.call(descendants).forEach(item => {\n\t\t\t\t\tconst dataTabIndex = item.getAttribute('data-tabindex');\n\n\t\t\t\t\tif (dataTabIndex) {\n\t\t\t\t\t\tpriorityDescendants.push(item);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._descendants.push(item);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tpriorityDescendants = priorityDescendants.sort((a, b) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tLang.toInt(a.getAttribute('data-tabindex')) >\n\t\t\t\t\t\tLang.toInt(b.getAttribute('data-tabindex'))\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\tthis._descendants = priorityDescendants.concat(\n\t\t\t\t\tthis._descendants\n\t\t\t\t);\n\n\t\t\t\tthis._activeDescendant = 0;\n\n\t\t\t\tthis._descendants.some((item, index) => {\n\t\t\t\t\tif (item.getAttribute('tabindex') === '0') {\n\t\t\t\t\t\tthis._activeDescendant = index;\n\t\t\t\t\t\tthis.focus();\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring\n * a function of the instance to be invoked upon the keystroke activation.\n *\n * @class ButtonKeystroke\n */\nexport default WrappedComponent =>\n\tclass ButtonKeystroke extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @method componentWillMount\n\t\t */\n\t\tcomponentWillMount() {\n\t\t\tif (Lang.isFunction(super.componentWillMount)) {\n\t\t\t\tsuper.componentWillMount();\n\t\t\t}\n\n\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\t\tconst keystroke = this.props.keystroke;\n\n\t\t\tconst commandName = `keystroke:${keystroke.name}`;\n\n\t\t\tlet command = nativeEditor.getCommand(commandName);\n\n\t\t\tif (!command) {\n\t\t\t\tcommand = new CKEDITOR.command(nativeEditor, {\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tconst keystrokeFn = keystroke.fn;\n\n\t\t\t\t\t\tif (Lang.isString(keystrokeFn)) {\n\t\t\t\t\t\t\tthis[keystrokeFn].call(this, editor);\n\t\t\t\t\t\t} else if (Lang.isFunction(keystrokeFn)) {\n\t\t\t\t\t\t\tkeystrokeFn.call(this, editor);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this),\n\t\t\t\t});\n\n\t\t\t\tnativeEditor.addCommand(commandName, command);\n\t\t\t}\n\n\t\t\tthis._defaultKeystrokeCommand =\n\t\t\t\tnativeEditor.keystrokeHandler.keystrokes[keystroke.keys];\n\n\t\t\tnativeEditor.setKeystroke(keystroke.keys, commandName);\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @method componentWillUnmount\n\t\t */\n\t\tcomponentWillUnmount() {\n\t\t\tif (Lang.isFunction(super.componentWillUnmount)) {\n\t\t\t\tsuper.componentWillUnmount();\n\t\t\t}\n\n\t\t\tthis.context.editor\n\t\t\t\t.get('nativeEditor')\n\t\t\t\t.setKeystroke(\n\t\t\t\t\tthis.props.keystroke.keys,\n\t\t\t\t\tthis._defaultKeystrokeCommand\n\t\t\t\t);\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\n\n/**\n * The ButtonDropdown class provides markup and keyboard navigation behaviour to a dropdown\n * opened from a button.\n *\n * @class ButtonDropdown\n */\nclass ButtonDropdown extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonDropdown\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the dropdown in the configuration.\n\t *\n\t * @default dropdown\n\t * @memberof ButtonDropdown\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'dropdown';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonDropdown\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-arrow-box ae-arrow-box-top-left ae-dropdown\"\n\t\t\t\tonFocus={this.focus}\n\t\t\t\tonKeyDown={this.handleKey}\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<ul className=\"ae-listbox\" role=\"listbox\">\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WidgetFocusManager(ButtonDropdown);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonCommandListItem from './button-command-list-item.jsx';\n\n/**\n * The ButtonCommandsList class provides functionality for showing a list of commands that can be\n * executed to the current selection..\n *\n * @class ButtonCommandsList\n * @uses WidgetFocusManager\n */\nclass ButtonCommandsList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonCommandsList\n\t * @memberof ButtonCommandsList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonCommandsList';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._ref = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the list node to allow keyboard interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._ref.current.focus();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-arrow-box ae-arrow-box-top-left ae-dropdown\"\n\t\t\t\tonFocus={this.focus}\n\t\t\t\tonKeyDown={this.handleKey}\n\t\t\t\tref={this._ref}\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<ul\n\t\t\t\t\tclassName=\"ae-listbox\"\n\t\t\t\t\tid={this.props.listId}\n\t\t\t\t\trole=\"listbox\">\n\t\t\t\t\t{this._renderActions(this.props.commands)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Renders instances of ButtonCommandListItem with the description of the row action that will be executed.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method _renderActions\n\t * @protected\n\t * @return {Array} Rendered instances of ButtonCommandListItem class\n\t */\n\t_renderActions(commands) {\n\t\tlet items;\n\n\t\tif (commands && commands.length) {\n\t\t\titems = commands.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={item.command} role=\"option\">\n\t\t\t\t\t\t<ButtonCommandListItem\n\t\t\t\t\t\t\tcommand={item.command}\n\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\ttypeof item.label === 'string'\n\t\t\t\t\t\t\t\t\t? item.label\n\t\t\t\t\t\t\t\t\t: item.label()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ticon={item.icon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonCommandsList);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport * as Base from '../components/base';\nimport Buttons from '../components/buttons';\nimport * as Compat from '../components/compat';\nimport Toolbars from '../components/toolbars';\nimport Attribute from '../oop/attribute';\nimport Lang from '../oop/lang';\nimport extend from '../oop/oop';\nimport SelectionGetArrowBoxClasses from '../selections/selection-arrowbox';\nimport SelectionSetPosition from '../selections/selection-position';\nimport SelectionTest from '../selections/selection-test';\nimport Selections from '../selections/selections';\nimport Core from './core';\n\nimport '../plugins';\n\n// An object containing all currently registered plugins in AlloyEditor.\nconst BRIDGE_BUTTONS = {};\n\n/**\n * Creates an instance of AlloyEditor.\n *\n * @memberof AlloyEditor\n * @method editable\n * @static\n * @param {String|Node} node The Node ID or HTMl node, which AlloyEditor should use as an editable area.\n * @param {Object} config Configuration attributes for the current instance of AlloyEditor.\n * @return {Object} An instance of {{#crossLink \"Core\"}}{{/crossLink}}\n */\nconst editable = function(node, config) {\n\tconfig = config || {};\n\tconfig.srcNode = node;\n\n\tAlloyEditor.implementEventTarget();\n\n\treturn new Core(config);\n};\n\n/**\n * The full URL for the AlloyEditor installation directory.\n * It is possible to manually provide the base path by setting a\n * global variable named `ALLOYEDITOR_BASEPATH`. This global variable\n * must be set **before** the editor script loading.\n *\n * @memberof AlloyEditor\n * @method getBasePath\n * @static\n * @return {String} The found base path\n */\nconst getBasePath = function() {\n\t// Find out the editor directory path, based on its <script> tag.\n\tlet path = window.ALLOYEDITOR_BASEPATH || '';\n\n\tif (!path) {\n\t\tconst scripts = document.getElementsByTagName('script');\n\n\t\tfor (let i = 0; i < scripts.length; i++) {\n\t\t\tconst match = scripts[i].src.match(AlloyEditor.regexBasePath);\n\n\t\t\tif (match) {\n\t\t\t\tpath = match[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// In IE (only) the script.src string is the raw value entered in the\n\t// HTML source. Other browsers return the full resolved URL instead.\n\tif (path.indexOf(':/') === -1 && path.slice(0, 2) !== '//') {\n\t\t// Absolute path.\n\t\tif (path.indexOf('/') === 0) {\n\t\t\tpath = location.href.match(/^.*?:\\/\\/[^/]*/)[0] + path;\n\t\t}\n\t\t// Relative path.\n\t\telse {\n\t\t\tpath = location.href.match(/^[^?]*\\/(?:)/)[0] + path;\n\t\t}\n\t}\n\n\tif (!path) {\n\t\tthrow new Error(\n\t\t\t'The AlloyEditor installation path could not be automatically detected. Please set the global variable \"ALLOYEDITOR_BASEPATH\" before creating editor instances.'\n\t\t);\n\t}\n\n\treturn path;\n};\n\n/**\n * Detects and load the corresponding language file if AlloyEditor language strings are not already present.\n * The function fires a {{#crossLink \"AlloyEditor/languageResourcesLoaded:event\"}}{{/crossLink}} event\n *\n * @memberof AlloyEditor\n * @method loadLanguageResources\n * @static\n * @param {Function} callback Optional callback to be called when AlloyEditor loads the language resource.\n */\nconst loadLanguageResources = function(callback) {\n\tAlloyEditor.implementEventTarget();\n\n\tif (Lang.isFunction(callback)) {\n\t\tif (AlloyEditor.Strings) {\n\t\t\tsetTimeout(callback, 0);\n\t\t} else {\n\t\t\tAlloyEditor.once('languageResourcesLoaded', () => {\n\t\t\t\tsetTimeout(callback, 0);\n\t\t\t});\n\t\t}\n\t}\n\n\tif (!AlloyEditor._langResourceRequested) {\n\t\tAlloyEditor._langResourceRequested = true;\n\n\t\tconst languages = [\n\t\t\t'af',\n\t\t\t'ar',\n\t\t\t'bg',\n\t\t\t'bn',\n\t\t\t'bs',\n\t\t\t'ca',\n\t\t\t'cs',\n\t\t\t'cy',\n\t\t\t'da',\n\t\t\t'de',\n\t\t\t'el',\n\t\t\t'en-au',\n\t\t\t'en-ca',\n\t\t\t'en-gb',\n\t\t\t'en',\n\t\t\t'eo',\n\t\t\t'es',\n\t\t\t'et',\n\t\t\t'eu',\n\t\t\t'fa',\n\t\t\t'fi',\n\t\t\t'fo',\n\t\t\t'fr-ca',\n\t\t\t'fr',\n\t\t\t'gl',\n\t\t\t'gu',\n\t\t\t'he',\n\t\t\t'hi',\n\t\t\t'hr',\n\t\t\t'hu',\n\t\t\t'id',\n\t\t\t'is',\n\t\t\t'it',\n\t\t\t'ja',\n\t\t\t'ka',\n\t\t\t'km',\n\t\t\t'ko',\n\t\t\t'ku',\n\t\t\t'lt',\n\t\t\t'lv',\n\t\t\t'mk',\n\t\t\t'mn',\n\t\t\t'ms',\n\t\t\t'nb',\n\t\t\t'nl',\n\t\t\t'no',\n\t\t\t'pl',\n\t\t\t'pt-br',\n\t\t\t'pt',\n\t\t\t'ro',\n\t\t\t'ru',\n\t\t\t'si',\n\t\t\t'sk',\n\t\t\t'sl',\n\t\t\t'sq',\n\t\t\t'sr-latn',\n\t\t\t'sr',\n\t\t\t'sv',\n\t\t\t'th',\n\t\t\t'tr',\n\t\t\t'tt',\n\t\t\t'ug',\n\t\t\t'uk',\n\t\t\t'vi',\n\t\t\t'zh-cn',\n\t\t\t'zh',\n\t\t];\n\n\t\tconst userLanguage =\n\t\t\tnavigator.language || navigator.userLanguage || 'en';\n\n\t\tconst parts = userLanguage\n\t\t\t.toLowerCase()\n\t\t\t.match(/([a-z]+)(?:-([a-z]+))?/);\n\t\tlet lang = parts[1];\n\t\tconst locale = parts[2];\n\n\t\tif (languages.indexOf(lang + '-' + locale) >= 0) {\n\t\t\tlang = lang + '-' + locale;\n\t\t} else if (languages.indexOf(lang) === -1) {\n\t\t\tlang = 'en';\n\t\t}\n\n\t\tCKEDITOR.scriptLoader.load(\n\t\t\tAlloyEditor.getUrl('lang/alloy-editor/' + lang + '.js'),\n\t\t\tloaded => {\n\t\t\t\tif (loaded) {\n\t\t\t\t\tAlloyEditor.fire('languageResourcesLoaded');\n\t\t\t\t}\n\t\t\t},\n\t\t\t/* eslint-disable no-invalid-this */\n\t\t\tthis // Always `AlloyEditor`.\n\t\t\t/* eslint-enable no-invalid-this */\n\t\t);\n\t}\n};\n\n/**\n * Gets the full URL for AlloyEditor resources. By default, URLs\n * returned by this function contain a querystring parameter (\"t\")\n * set to the {@link CKEDITOR#timestamp} value.\n *\n * @memberof AlloyEditor\n * @method getUrl\n * @static\n * @param {String} resource The resource whose full URL we want to get.\n * It may be a full, absolute, or relative URL.\n * @return {String} The full URL.\n */\nconst getUrl = function(resource) {\n\tconst basePath = AlloyEditor.getBasePath();\n\n\t// If this is not a full or absolute path.\n\tif (resource.indexOf(':/') === -1 && resource.indexOf('/') !== 0) {\n\t\tresource = basePath + resource;\n\t}\n\n\t// Add the timestamp, except for directories.\n\tif (\n\t\tCKEDITOR.timestamp &&\n\t\tresource.charAt(resource.length - 1) !== '/' &&\n\t\t!/[&?]t=/.test(resource)\n\t) {\n\t\tresource +=\n\t\t\t(resource.indexOf('?') >= 0 ? '&' : '?') +\n\t\t\t't=' +\n\t\t\tCKEDITOR.timestamp;\n\t}\n\n\treturn resource;\n};\n\n/**\n * Implements event firing and subscribing via CKEDITOR.event.\n *\n * @memberof AlloyEditor\n * @method implementEventTarget\n * @static\n */\nconst implementEventTarget = function() {\n\tif (!AlloyEditor.fire && !AlloyEditor.on) {\n\t\tCKEDITOR.event.implementOn(AlloyEditor);\n\t}\n};\n\n/**\n * Regular expression which should match the script which have been used to load AlloyEditor.\n *\n * @memberof AlloyEditor\n * @property regexBasePath\n * @type {RegExp}\n * @static\n */\nconst regexBasePath = /(^|.*[\\\\/])(?:alloy-editor[^/]+|alloy-editor)\\.js(?:\\?.*|;.*)?$/i;\n\n/**\n * Fired when AlloyEditor detects the browser language and loads the corresponding language file. Once this event\n * is fired, AlloyEditor.Strings will be populated with data.\n *\n * @event languageResourcesLoaded\n */\n\n/**\n * Returns the required plugin names needed for a given plugin\n * if it is already registered or an empty array.\n *\n * @memberof AlloyEditor\n * @method getButtons\n * @param {Array} buttons An array of buttons or plugin names.\n * @return {Function} A function that can be invoked to resolve the requested button names.\n * @static\n */\nconst getButtons = function(buttons) {\n\treturn function() {\n\t\treturn buttons.reduce((acc, val) => {\n\t\t\tval = BRIDGE_BUTTONS[val] || [val];\n\t\t\treturn acc.concat(val);\n\t\t}, []);\n\t};\n};\n\n/**\n * Register a button and try to get its required plugins.\n *\n * @memberof AlloyEditor\n * @method registerBridgeButton\n * @param {String} buttonName The name of the button.\n * @param {String} pluginName The name of the plugin that registers the button.\n * @static\n */\nconst registerBridgeButton = function(buttonName, pluginName) {\n\tif (!BRIDGE_BUTTONS[pluginName]) {\n\t\tBRIDGE_BUTTONS[pluginName] = [];\n\t}\n\n\tBRIDGE_BUTTONS[pluginName].push(buttonName);\n};\n\n/**\n * @method OOP\n * @memberof AlloyEditor\n */\nconst OOP = {\n\textend,\n};\n\nexport {\n\tAttribute,\n\tBase,\n\tButtons,\n\tCompat,\n\tCore,\n\tLang,\n\tOOP,\n\tSelectionGetArrowBoxClasses,\n\tSelectionSetPosition,\n\tSelectionTest,\n\tSelections,\n\tToolbars,\n\teditable,\n\tgetBasePath,\n\tgetButtons,\n\tgetUrl,\n\timplementEventTarget,\n\tloadLanguageResources,\n\tregexBasePath,\n\tregisterBridgeButton,\n};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonActionStyle is a mixin that provides applying style implementation for a\n * button based on the `applyStyle` and `removeStyle` API of CKEDITOR.\n *\n * To execute properly, the component has to expose the following methods which can be obtained\n * out of the box using the {{#crossLink \"ButtonStyle\"}}{{/crossLink}} mixin:\n * - `Function` {{#crossLink \"ButtonStyle/isActive\"}}{{/crossLink}} to check the active state\n * - `Function` {{#crossLink \"ButtonStyle/getStyle\"}}{{/crossLink}} to return the style that should be applied\n *\n * @class ButtonActionStyle\n */\nexport default WrappedComponent =>\n\tclass ButtonActionStyle extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Removes or applies the component style to the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonActionStyle\n\t\t * @method applyStyle\n\t\t */\n\t\tapplyStyle = () => {\n\t\t\tif (\n\t\t\t\tLang.isFunction(this.isActive) &&\n\t\t\t\tLang.isFunction(this.getStyle)\n\t\t\t) {\n\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\teditor.getSelection().lock();\n\n\t\t\t\tif (this.isActive()) {\n\t\t\t\t\teditor.removeStyle(this.getStyle());\n\t\t\t\t} else {\n\t\t\t\t\teditor.applyStyle(this.getStyle());\n\t\t\t\t}\n\n\t\t\t\teditor.getSelection().unlock();\n\n\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t}\n\t\t};\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonDropdown from './button-dropdown.jsx';\nimport ButtonsStylesListHeader from './button-styles-list-header.jsx';\nimport ButtonStylesListItemRemove from './button-styles-list-item-remove.jsx';\nimport ButtonStylesListItem from './button-styles-list-item.jsx';\n\n/**\n * The ButtonStylesList class provides functionality for showing a list of styles that can be\n * applied to the current selection..\n *\n * @class ButtonStylesList\n * @uses WidgetFocusManager\n */\nclass ButtonStylesList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t\tshowRemoveStylesItem: true,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @memberof ButtonStylesList\n\t * @static\n\t * @property {String} key\n\t * @default buttonStylesList\n\t */\n\tstatic key = 'buttonStylesList';\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the list node to allow keyboard interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tReactDOM.findDOMNode(this).focus();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\tconst blockStyles = [];\n\t\tconst inlineStyles = [];\n\t\tconst objectStyles = [];\n\n\t\tthis.props.styles.forEach(item => {\n\t\t\tconst style = new CKEDITOR.style(item.style);\n\n\t\t\tif (style.type === CKEDITOR.STYLE_BLOCK) {\n\t\t\t\tblockStyles.push(item);\n\t\t\t} else if (style.type === CKEDITOR.STYLE_INLINE) {\n\t\t\t\tinlineStyles.push(item);\n\t\t\t} else if (style.type === CKEDITOR.STYLE_OBJECT) {\n\t\t\t\tobjectStyles.push(item);\n\t\t\t}\n\t\t});\n\n\t\tthis._blockStyles = blockStyles;\n\t\tthis._inlineStyles = inlineStyles;\n\t\tthis._objectStyles = objectStyles;\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet removeStylesItem;\n\n\t\tif (this.props.showRemoveStylesItem) {\n\t\t\tremoveStylesItem = (\n\t\t\t\t<ButtonStylesListItemRemove\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<ButtonDropdown {...this.props}>\n\t\t\t\t{removeStylesItem}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.blockStyles}\n\t\t\t\t\tstyles={this._blockStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._blockStyles)}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.inlineStyles}\n\t\t\t\t\tstyles={this._inlineStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._inlineStyles)}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.objectStyles}\n\t\t\t\t\tstyles={this._objectStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._objectStyles)}\n\t\t\t</ButtonDropdown>\n\t\t);\n\t}\n\n\t/**\n\t * Renders instances of ButtonStylesListItem with the preview of the correspondent block, inline or object styles.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method _renderStylesItems\n\t * @param {Array} styles List of styles for which preview should be rendered.\n\t * @protected\n\t * @return {Array} Rendered instances of ButtonStylesListItem class\n\t */\n\t_renderStylesItems(styles) {\n\t\tlet items;\n\n\t\tif (styles && styles.length) {\n\t\t\titems = styles.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={item.name} role=\"option\">\n\t\t\t\t\t\t<ButtonStylesListItem\n\t\t\t\t\t\t\tactiveStyle={this.props.activeStyle}\n\t\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\t\tstyle={item.style}\n\t\t\t\t\t\t\tstyleFn={item.styleFn}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonStylesList);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ReactDOM from 'react-dom';\n\nimport Lang from '../../oop/lang';\n\n/**\n * Provides functionality for managing different dropdowns inside a widget.\n *\n * @class WidgetDropdown\n */\nexport default WrappedComponent =>\n\tclass WidgetDropdown extends WrappedComponent {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\t...this.state,\n\t\t\t\tdropdownTrigger: null,\n\t\t\t\titemDropdown: null,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked when a component is receiving new props.\n\t\t * This method is not called for the initial render.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method componentWillReceiveProps\n\t\t */\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tif (Lang.isFunction(super.componentWillReceiveProps)) {\n\t\t\t\tsuper.componentWillReceiveProps(nextProps);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tdropdownTrigger: null,\n\t\t\t\titemDropdown: null,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Merges the provided object with two more properties:\n\t\t * - expanded - boolean flag which indicates if an widget should be rendered exclusively.\n\t\t * - toggleDropdown - function, which can be used by an widget in order to obtain exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method mergeDropdownProps\n\t\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t\t *    to dropdown state.\n\t\t * @param {Object} itemKey They key of an React Widget which contains the dropdown.\n\t\t * @return {Object} The merged object.\n\t\t */\n\t\tmergeDropdownProps = (obj, itemKey) => {\n\t\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\t\texpanded: this.state.itemDropdown === itemKey ? true : false,\n\t\t\t\ttabIndex: this.state.dropdownTrigger === itemKey ? 0 : -1,\n\t\t\t\ttoggleDropdown: this.toggleDropdown.bind(this, itemKey),\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Sets the active dropdown of the widget or discards the toggled item from the state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method toggleDropdown\n\t\t * @param {Object} itemDropdown The widget which requests to toggle its dropdown.\n\t\t * @param {Number} toggleDirection User movement direction when toggled via keyboard.\n\t\t */\n\t\ttoggleDropdown = (itemDropdown, toggleDirection) => {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tdropdownTrigger: itemDropdown,\n\t\t\t\t\titemDropdown:\n\t\t\t\t\t\titemDropdown !== this.state.itemDropdown\n\t\t\t\t\t\t\t? itemDropdown\n\t\t\t\t\t\t\t: null,\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tif (!this.state.itemDropdown) {\n\t\t\t\t\t\tif (this.moveFocus) {\n\t\t\t\t\t\t\tthis.moveFocus(toggleDirection);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tReactDOM.findDOMNode(this).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * Provides functionality for managing exclusive state of an widget.\n * The exclusive state means that a button may request to be the only rendered\n * widget in its parent container. WidgetExclusive will manage this state by\n * filtering and suppressing the other sibling widgets from displaying.\n *\n * @class WidgetExclusive\n */\nexport default WrappedComponent =>\n\tclass WidgetExclusive extends WrappedComponent {\n\t\t/**\n\t\t * Cancels the exclusive state of an widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method cancelExclusive\n\t\t * @param {Object} itemExclusive The widget which exclusive state should be canceled.\n\t\t */\n\t\tcancelExclusive(itemExclusive) {\n\t\t\tif (this.state.itemExclusive === itemExclusive) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titemExclusive: null,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked when a component is receiving new props.\n\t\t * This method is not called for the initial render.\n\t\t * Calling this.setState() within this function will not trigger an additional render.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method componentWillReceiveProps\n\t\t * @param {Object} nextProps Object containing the current set of properties.\n\t\t */\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tif (Lang.isFunction(super.componentWillReceiveProps)) {\n\t\t\t\tsuper.componentWillReceiveProps(nextProps);\n\t\t\t}\n\n\t\t\t// Receiving properties means that the component is being re-rendered.\n\t\t\t// Re-rendering is triggered by editorInteraction, so we have to\n\t\t\t// reset the exclusive state and render the UI according to the new selection.\n\t\t\tthis.setState({\n\t\t\t\titemExclusive: null,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Filters the items and returns only those with exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method filterExclusive\n\t\t * @param {Array} items The widgets to be filtered.\n\t\t * @return {Array|Object} The item with executive state.\n\t\t */\n\t\tfilterExclusive(items) {\n\t\t\treturn items.filter(item => {\n\t\t\t\tif (this.state.itemExclusive) {\n\t\t\t\t\tif (this.state.itemExclusive === item.key) {\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Merges the provided object with three more properties:\n\t\t * - cancelExclusive - function, which can be used by a widget in order to cancel executive state.\n\t\t * - renderExclusive - boolean flag which indicates if an widget should be rendered exclusively.\n\t\t * - requestExclusive - function, which can be used by a widget in order to obtain exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method mergeExclusiveProps\n\t\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t\t *    to exclusive state.\n\t\t * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.\n\t\t * @return {Object} The merged object.\n\t\t */\n\t\tmergeExclusiveProps(obj, itemKey) {\n\t\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\t\tcancelExclusive: this.cancelExclusive.bind(this, itemKey),\n\t\t\t\trenderExclusive: this.state.itemExclusive === itemKey,\n\t\t\t\trequestExclusive: this.requestExclusive.bind(this, itemKey),\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Requests and sets exclusive state of an widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method requestExclusive\n\t\t * @param {Object} itemExclusive The widget which requests exclusive state.\n\t\t */\n\t\trequestExclusive = itemExclusive => {\n\t\t\tthis.setState({\n\t\t\t\titemExclusive,\n\t\t\t});\n\t\t};\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\nimport WidgetDropdown from '../base/widget-dropdown';\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkAutocompleteList from './button-link-autocomplete-list.jsx';\nimport ButtonLinkTargetEdit from './button-link-target-edit.jsx';\n\n/**\n * The ButtonLinkEdit class provides functionality for creating and editing a link in a document.\n * Provides UI for creating, editing and removing a link.\n *\n * @class ButtonLinkEdit\n * @uses WidgetDropdown\n * @uses WidgetFocusManager\n */\nclass ButtonLinkEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tappendProtocol: true,\n\t\tautocompleteUrl: '',\n\t\tcircular: true,\n\t\tcustomIndexStart: true,\n\t\tdefaultLinkTarget: '',\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t\tshowTargetSelector: true,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkEdit\n\t * @memberof ButtonLinkEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'linkEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.linkInput = React.createRef();\n\t\tthis.state = this._getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tthis._focusLinkInput();\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.setState(this._getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet targetSelector = {\n\t\t\tallowedTargets: this.props.allowedTargets,\n\t\t\teditor: this.context.editor,\n\t\t\thandleLinkTargetChange: this._handleLinkTargetChange,\n\t\t\tselectedTarget:\n\t\t\t\tthis.state.linkTarget || AlloyEditor.Strings.linkTargetDefault,\n\t\t};\n\n\t\ttargetSelector = this.mergeDropdownProps(\n\t\t\ttargetSelector,\n\t\t\tButtonLinkTargetEdit.key\n\t\t);\n\n\t\tlet autocompleteDropdown;\n\n\t\tif (this.props.data) {\n\t\t\tlet dataFn = this.props.data;\n\n\t\t\tif (!Lang.isFunction(dataFn)) {\n\t\t\t\tconst items = this.props.data;\n\n\t\t\t\tdataFn = () => items;\n\t\t\t}\n\n\t\t\tlet autocompleteDropdownProps = {\n\t\t\t\tautocompleteSelected: this.state.autocompleteSelected,\n\t\t\t\tdata: dataFn,\n\t\t\t\teditor: this.context.editor,\n\t\t\t\thandleLinkAutocompleteClick: this._handleLinkAutocompleteClick,\n\t\t\t\tonDismiss: this.props.toggleDropdown,\n\t\t\t\tsetAutocompleteState: this._setAutocompleteState,\n\t\t\t\tterm: this.state.linkHref,\n\t\t\t};\n\n\t\t\tautocompleteDropdownProps = this.mergeDropdownProps(\n\t\t\t\tautocompleteDropdownProps,\n\t\t\t\tButtonLinkAutocompleteList.key\n\t\t\t);\n\n\t\t\tautocompleteDropdown = (\n\t\t\t\t<ButtonLinkAutocompleteList {...autocompleteDropdownProps} />\n\t\t\t);\n\t\t}\n\n\t\tlet buttonClearLink;\n\n\t\tif (this.state.linkHref) {\n\t\t\tbuttonClearLink = (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\tclassName=\"ae-button ae-button-clear\"\n\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.clear}>\n\t\t\t\t\t<ButtonIcon symbol=\"times-circle\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\n\t\tconst placeholderProp = {};\n\n\t\tif (!CKEDITOR.env.ie && AlloyEditor.Strings) {\n\t\t\tplaceholderProp.placeholder = AlloyEditor.Strings.editLink;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.removeLink}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this.state.element}\n\t\t\t\t\tonClick={this._removeLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.remove}>\n\t\t\t\t\t<ButtonIcon symbol=\"chain-broken\" />\n\t\t\t\t</button>\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t{this.props.showTargetSelector && (\n\t\t\t\t\t\t<ButtonLinkTargetEdit {...targetSelector} />\n\t\t\t\t\t)}\n\t\t\t\t\t<div className=\"ae-container-input\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\t\tonChange={this._handleLinkHrefChange}\n\t\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\t\t{...placeholderProp}\n\t\t\t\t\t\t\tref={this.linkInput}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.linkHref}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{autocompleteDropdown}\n\t\t\t\t\t</div>\n\t\t\t\t\t{buttonClearLink}\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._updateLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon className=\"ae-icon-svg-check\" symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _getInitialState\n\t * @protected\n\t * @return {Object}\n\t */\n\t_getInitialState() {\n\t\t// Can't access context from contructor, so get editor from props.\n\t\tconst {editor} = this.props.context;\n\t\tconst {defaultLinkTarget} = this.props;\n\n\t\tconst link = new CKEDITOR.Link(\n\t\t\teditor.get('nativeEditor')\n\t\t).getFromSelection();\n\t\tconst href = (link && link.getAttribute('href')) || '';\n\t\tconst target =\n\t\t\t(link && link.getAttribute('target')) || defaultLinkTarget;\n\n\t\treturn {\n\t\t\tautocompleteSelected: false,\n\t\t\telement: link,\n\t\t\tinitialLink: {\n\t\t\t\thref,\n\t\t\t\ttarget,\n\t\t\t},\n\t\t\tlinkHref: href,\n\t\t\tlinkTarget: target,\n\t\t};\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink = () => {\n\t\tthis.setState({\n\t\t\tlinkHref: '',\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _focusLinkInput\n\t * @protected\n\t */\n\t_focusLinkInput() {\n\t\tconst instance = this;\n\n\t\tconst focusLinkEl = function() {\n\t\t\tinstance.linkInput.current.focus();\n\t\t};\n\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(focusLinkEl);\n\t\t} else {\n\t\t\tsetTimeout(focusLinkEl, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === 13 || event.keyCode === 27) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === 13) {\n\t\t\tthis._updateLink();\n\t\t} else if (event.keyCode === 40) {\n\t\t\tthis.setState({\n\t\t\t\tautocompleteSelected: true,\n\t\t\t});\n\t\t} else if (event.keyCode === 27) {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\tnew CKEDITOR.Link(editor).advanceSelection();\n\n\t\t\tthis.context.editor\n\t\t\t\t.get('nativeEditor')\n\t\t\t\t.fire('actionPerformed', this);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkHrefChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleLinkHrefChange = event => {\n\t\tthis.setState({\n\t\t\tlinkHref: event.target.value,\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Updates the component state when the link target changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkTargetChange\n\t * @param {SyntheticEvent} event The click event.\n\t * @protected\n\t */\n\t_handleLinkTargetChange = event => {\n\t\tthis.setState({\n\t\t\titemDropdown: null,\n\t\t\tlinkTarget: event.target.getAttribute('data-value'),\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Updates the component state when an autocomplete link result is selected by user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkAutocompleteClick\n\t * @param {SyntheticEvent} event The click event.\n\t * @protected\n\t */\n\t_handleLinkAutocompleteClick(event) {\n\t\tthis.setState({\n\t\t\titemDropdown: null,\n\t\t\tlinkHref: event.target.getAttribute('data-value'),\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t}\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty href and that either that or the link target are different\n\t * from the original link.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} [description]\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.linkHref &&\n\t\t\t(this.state.linkHref !== this.state.initialLink.href ||\n\t\t\t\tthis.state.linkTarget !== this.state.initialLink.target);\n\n\t\treturn validState;\n\t}\n\n\t/**\n\t * Removes the link in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _removeLink\n\t * @protected\n\t */\n\t_removeLink = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor);\n\t\tconst selection = editor.getSelection();\n\t\tconst bookmarks = selection.createBookmarks();\n\n\t\tlinkUtils.remove(this.state.element, {advance: true});\n\n\t\tselection.selectBookmarks(bookmarks);\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Update autocompleteSelected state to focus and select autocomplete´s dropdown\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _setAutocompleteState\n\t * @protected\n\t */\n\t_setAutocompleteState(state) {\n\t\tthis.setState({\n\t\t\tautocompleteSelected: state.selected,\n\t\t});\n\t}\n\n\t/**\n\t * Updates the link in the editor element. If the element didn't exist previously, it will\n\t * create a new <a> element with the href specified in the link input.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _updateLink\n\t * @protected\n\t */\n\t_updateLink = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor, {\n\t\t\tappendProtocol: this.props.appendProtocol,\n\t\t});\n\t\tlet linkAttrs = {\n\t\t\ttarget: this.state.linkTarget || null,\n\t\t};\n\t\tconst modifySelection = {advance: true};\n\n\t\tif (this.state.linkHref) {\n\t\t\tif (this.state.element) {\n\t\t\t\tlinkAttrs.href = this.state.linkHref;\n\n\t\t\t\tlinkUtils.update(\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tthis.state.element,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (!this.state.linkTarget) linkAttrs = {};\n\n\t\t\t\tlinkUtils.create(\n\t\t\t\t\tthis.state.linkHref,\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n}\n\nexport default EditorContext.toProps(\n\tWidgetDropdown(WidgetFocusManager(ButtonLinkEdit))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * ButtonCfgProps is a class that provides a mergeButtonCfgProps method for\n * merging React props and the native CKEDITOR's buttonCfg.\n *\n * @class ButtonProps\n */\nexport default WrappedComponent =>\n\tclass ButtonProps extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Merges the properties, passed to the current component with user's configuration\n\t\t * via `buttonCfg` property.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonProps\n\t\t * @method mergeButtonCfgProps\n\t\t * @param {Object} props The properties to be merged with the provided configuration for this\n\t\t * button. If not passed, the user configuration will be merged with `this.props`\n\t\t * @return {Object} The merged properties\n\t\t */\n\t\tmergeButtonCfgProps(props = this.props) {\n\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\t\tconst buttonCfg = nativeEditor.config.buttonCfg || {};\n\t\t\treturn CKEDITOR.tools.merge(props, buttonCfg['linkEdit']);\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ToolbarButtons provides a list of buttons which have to be displayed\n * on the current toolbar depending on user preferences and given state.\n *\n * @class ToolbarButtons\n */\nexport default WrappedComponent =>\n\tclass ToolbarButtons extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Lifecycle. Returns the default values of the properties used in the\n\t\t * toolbar.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getDefaultProps\n\t\t */\n\t\tstatic defaultProps = {\n\t\t\t...WrappedComponent.defaultProps,\n\t\t\tgutter: {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 10,\n\t\t\t},\n\t\t\tconstrainToViewport: true,\n\t\t};\n\n\t\t/**\n\t\t * Cancels an scheduled animation frame.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method cancelAnimation\n\t\t */\n\t\tcancelAnimation() {\n\t\t\tif (this._animationFrameId) {\n\t\t\t\twindow.cancelAnimationFrame(this._animationFrameId);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Provides functionality for displaying toolbar Arrow box on top or on bottom of the toolbar\n\t\t * depending on the point of user interaction with the editor.\n\t\t * Returns the list of arrow box classes associated to the current element's state. It relies\n\t\t * on the getInteractionPoint method to calculate the selection direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getArrowBoxClasses\n\t\t * @return {String} A string with the arrow box CSS classes.\n\t\t */\n\t\tgetArrowBoxClasses() {\n\t\t\tlet arrowBoxClasses = 'ae-arrow-box';\n\n\t\t\tif (\n\t\t\t\tthis.getInteractionPoint().direction ===\n\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t) {\n\t\t\t\tarrowBoxClasses += ' ae-arrow-box-top';\n\t\t\t} else {\n\t\t\t\tarrowBoxClasses += ' ae-arrow-box-bottom';\n\t\t\t}\n\n\t\t\treturn arrowBoxClasses;\n\t\t}\n\n\t\t/**\n\t\t * Returns an object which contains the position of the element in page coordinates,\n\t\t * restricted to fit to given viewport.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getConstrainedPosition\n\t\t * @param {Object} attrs The following properties, provided as numbers:\n\t\t * - height\n\t\t * - left\n\t\t * - top\n\t\t * - width\n\t\t * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:\n\t\t * - width\n\t\t * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the\n\t\t * element.\n\t\t */\n\t\tgetConstrainedPosition(attrs, viewPaneSize) {\n\t\t\tviewPaneSize =\n\t\t\t\tviewPaneSize ||\n\t\t\t\tnew CKEDITOR.dom.window(window).getViewPaneSize();\n\n\t\t\tlet x = attrs.left;\n\t\t\tlet y = attrs.top;\n\n\t\t\tif (attrs.left + attrs.width > viewPaneSize.width) {\n\t\t\t\tx -= attrs.left + attrs.width - viewPaneSize.width;\n\t\t\t}\n\n\t\t\tif (y < 0) {\n\t\t\t\ty = 0;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Returns the position, in page coordinates, according to which a toolbar should appear.\n\t\t * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.\n\t\t *\n\t\t * It depends on the props editorEvent to analyze the following user-interaction parameters:\n\t\t * - {Object} selectionData The data about the selection in the editor as returned from\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * - {Number} pos Contains the coordinates of the position, considered as most appropriate.\n\t\t * This may be the point where the user released the mouse, or just the beginning or the end of\n\t\t * the selection.\n\t\t *\n\t\t * @instance\n\t\t * @method getInteractionPoint\n\t\t * @return {Object} An Object which contains the following properties:\n\t\t * direction, x, y, where x and y are in page coordinates and direction can be one of these:\n\t\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t */\n\t\tgetInteractionPoint() {\n\t\t\tconst eventPayload = this.props.editorEvent\n\t\t\t\t? this.props.editorEvent.data\n\t\t\t\t: null;\n\n\t\t\tif (!eventPayload) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selectionData = eventPayload.selectionData;\n\n\t\t\tconst nativeEvent = eventPayload.nativeEvent;\n\n\t\t\tconst pos = {\n\t\t\t\tx: eventPayload.nativeEvent.pageX,\n\t\t\t\ty: selectionData.region.top,\n\t\t\t};\n\n\t\t\tlet direction = selectionData.region.direction;\n\n\t\t\tconst endRect = selectionData.region.endRect;\n\n\t\t\tconst startRect = selectionData.region.startRect;\n\n\t\t\tif (endRect && startRect && startRect.top === endRect.top) {\n\t\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t}\n\n\t\t\tlet x;\n\t\t\tlet y;\n\n\t\t\t// If we have the point where user released the mouse, show Toolbar at this point\n\t\t\t// otherwise show it on the middle of the selection.\n\n\t\t\tif (pos.x && pos.y) {\n\t\t\t\tx = this._getXPoint(selectionData, pos.x);\n\n\t\t\t\tif (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {\n\t\t\t\t\ty = Math.min(pos.y, selectionData.region.top);\n\t\t\t\t} else {\n\t\t\t\t\ty = Math.max(\n\t\t\t\t\t\tpos.y,\n\t\t\t\t\t\tthis._getYPoint(selectionData, nativeEvent)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tx = selectionData.region.left + selectionData.region.width / 2;\n\n\t\t\t\tif (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {\n\t\t\t\t\ty = this._getYPoint(selectionData, nativeEvent);\n\t\t\t\t} else {\n\t\t\t\t\ty = selectionData.region.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdirection,\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the toolbar.\n\t\t *\n\t\t * @instance\n\t\t * @method _getXPoint\n\t\t * @param {Object} eventX The X coordinate received from the native event (mouseup).\n\t\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * @protected\n\t\t * @return {Number} The calculated X point in page coordinates.\n\t\t */\n\t\t_getXPoint(selectionData, eventX) {\n\t\t\tconst region = selectionData.region;\n\n\t\t\tconst left = region.startRect ? region.startRect.left : region.left;\n\t\t\tconst right = region.endRect ? region.endRect.right : region.right;\n\n\t\t\tlet x;\n\n\t\t\tif (left < eventX && right > eventX) {\n\t\t\t\tx = eventX;\n\t\t\t} else {\n\t\t\t\tconst leftDist = Math.abs(left - eventX);\n\t\t\t\tconst rightDist = Math.abs(right - eventX);\n\n\t\t\t\tif (leftDist < rightDist) {\n\t\t\t\t\t// user raised the mouse on left on the selection\n\t\t\t\t\tx = left;\n\t\t\t\t} else {\n\t\t\t\t\tx = right;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn x;\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the toolbar.\n\t\t *\n\t\t * @instance\n\t\t * @method _getYPoint\n\t\t * @param {Object} nativeEvent The data about event is fired\n\t\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * @protected\n\t\t * @return {Number} The calculated Y point in page coordinates.\n\t\t */\n\t\t_getYPoint(selectionData, nativeEvent) {\n\t\t\tlet y = 0;\n\n\t\t\tif (selectionData && nativeEvent) {\n\t\t\t\tconst elementTarget = new CKEDITOR.dom.element(\n\t\t\t\t\tnativeEvent.target\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\telementTarget.$ &&\n\t\t\t\t\telementTarget.getStyle('overflow') === 'auto'\n\t\t\t\t) {\n\t\t\t\t\ty =\n\t\t\t\t\t\tnativeEvent.target.offsetTop +\n\t\t\t\t\t\tnativeEvent.target.offsetHeight;\n\t\t\t\t} else {\n\t\t\t\t\ty = selectionData.region.bottom;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn y;\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the toolbar taking in consideration the\n\t\t * {{#crossLink \"ToolbarButtons/gutter:attribute\"}}{{/crossLink}} attribute.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @protected\n\t\t * @method  getWidgetXYPoint\n\t\t * @param {Number} left The left offset in page coordinates where Toolbar should be shown.\n\t\t * @param {Number} top The top offset in page coordinates where Toolbar should be shown.\n\t\t * @param {Number} direction The direction of the selection. May be one of the following:\n\t\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t * @return {Array} An Array with left and top offsets in page coordinates.\n\t\t */\n\t\tgetWidgetXYPoint(left, top, direction) {\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tconst gutter = this.props.gutter;\n\n\t\t\tif (\n\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM ||\n\t\t\t\tdirection === CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t\t) {\n\t\t\t\tleft = left - gutter.left - domNode.offsetWidth / 2;\n\n\t\t\t\ttop =\n\t\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t\t? top + gutter.top\n\t\t\t\t\t\t: top - domNode.offsetHeight - gutter.top;\n\t\t\t} else if (\n\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT ||\n\t\t\t\tdirection === CKEDITOR.SELECTION_RIGHT_TO_LEFT\n\t\t\t) {\n\t\t\t\tleft =\n\t\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT\n\t\t\t\t\t\t? left + gutter.left + domNode.offsetHeight / 2\n\t\t\t\t\t\t: left - (3 * domNode.offsetHeight) / 2 - gutter.left;\n\n\t\t\t\ttop = top - gutter.top - domNode.offsetHeight / 2;\n\t\t\t}\n\n\t\t\tif (left < 0) {\n\t\t\t\tleft = 0;\n\t\t\t}\n\n\t\t\tif (top < 0) {\n\t\t\t\ttop = 0;\n\t\t\t}\n\n\t\t\treturn [left, top];\n\t\t}\n\n\t\t/**\n\t\t * Returns true if the toolbar is visible, false otherwise\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method isVisible\n\t\t * @return {Boolean} True if the toolbar is visible, false otherwise\n\t\t */\n\t\tisVisible() {\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (domNode) {\n\t\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\treturn domElement.hasClass('alloy-editor-visible');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Moves a toolbar from a starting point to a destination point.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method moveToPoint\n\t\t * @param  {Object} startPoint The starting point for the movement.\n\t\t * @param  {Object} endPoint The destination point for the movement.\n\t\t */\n\t\tmoveToPoint(startPoint, endPoint) {\n\t\t\tconst domElement = new CKEDITOR.dom.element(\n\t\t\t\tReactDOM.findDOMNode(this)\n\t\t\t);\n\n\t\t\tdomElement.setStyles({\n\t\t\t\tleft: startPoint[0] + 'px',\n\t\t\t\ttop: startPoint[1] + 'px',\n\t\t\t\topacity: 0,\n\t\t\t\tpointerEvents: 'none',\n\t\t\t});\n\n\t\t\tdomElement.removeClass('alloy-editor-invisible');\n\n\t\t\tthis._animationFrameId = window.requestAnimationFrame(() => {\n\t\t\t\tdomElement.addClass('ae-toolbar-transition');\n\t\t\t\tdomElement.addClass('alloy-editor-visible');\n\t\t\t\tdomElement.setStyles({\n\t\t\t\t\tleft: endPoint[0] + 'px',\n\t\t\t\t\ttop: endPoint[1] + 'px',\n\t\t\t\t\topacity: 1,\n\t\t\t\t});\n\n\t\t\t\t// 150ms to match transition-duration for .ae-toolbar-transition:\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdomElement.setStyles({\n\t\t\t\t\t\tpointerEvents: '',\n\t\t\t\t\t});\n\t\t\t\t}, 150);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Shows the toolbar with the default animation transition.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method show\n\t\t */\n\t\tshow() {\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\t\t\tconst uiNode = this.context.editor.get('uiNode');\n\n\t\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\tif (!this.isVisible() && domNode) {\n\t\t\t\tconst interactionPoint = this.getInteractionPoint();\n\n\t\t\t\tif (interactionPoint) {\n\t\t\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\t\tlet finalX;\n\t\t\t\t\tlet finalY;\n\t\t\t\t\tlet initialX;\n\t\t\t\t\tlet initialY;\n\n\t\t\t\t\tfinalX = initialX = parseFloat(domElement.getStyle('left'));\n\t\t\t\t\tfinalY = initialY = parseFloat(domElement.getStyle('top'));\n\n\t\t\t\t\tif (this.props.constrainToViewport) {\n\t\t\t\t\t\tconst res = this.getConstrainedPosition({\n\t\t\t\t\t\t\theight: parseFloat(domNode.offsetHeight),\n\t\t\t\t\t\t\tleft: finalX,\n\t\t\t\t\t\t\ttop: finalY,\n\t\t\t\t\t\t\twidth: parseFloat(domNode.offsetWidth),\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfinalX = res.x;\n\t\t\t\t\t\tfinalY = res.y;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tinteractionPoint.direction ===\n\t\t\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t) {\n\t\t\t\t\t\tinitialY =\n\t\t\t\t\t\t\tthis.props.selectionData.region.bottom + scrollTop;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinitialY =\n\t\t\t\t\t\t\tthis.props.selectionData.region.top + scrollTop;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.moveToPoint([initialX, initialY], [finalX, finalY]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Updates the toolbar position based on the current interaction point.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method updatePosition\n\t\t */\n\t\tupdatePosition() {\n\t\t\tconst interactionPoint = this.getInteractionPoint();\n\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (interactionPoint && domNode) {\n\t\t\t\tconst uiNode =\n\t\t\t\t\tthis.context.editor.get('uiNode') || document.body;\n\t\t\t\tconst uiNodeStyle = getComputedStyle(uiNode);\n\t\t\t\tconst uiNodeMarginLeft = parseInt(\n\t\t\t\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t\t\t\t10\n\t\t\t\t);\n\t\t\t\tconst uiNodeMarginRight = parseInt(\n\t\t\t\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t\t\t\t10\n\t\t\t\t);\n\t\t\t\tconst totalWidth =\n\t\t\t\t\tuiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\t\t\t\tconst scrollTop =\n\t\t\t\t\tuiNode.tagName !== 'BODY' ? uiNode.scrollTop : 0;\n\n\t\t\t\tconst xy = this.getWidgetXYPoint(\n\t\t\t\t\tinteractionPoint.x,\n\t\t\t\t\tinteractionPoint.y,\n\t\t\t\t\tinteractionPoint.direction\n\t\t\t\t);\n\t\t\t\txy[1] += scrollTop;\n\n\t\t\t\tif (xy[0] < 0) {\n\t\t\t\t\txy[0] = 0;\n\t\t\t\t}\n\t\t\t\tif (xy[0] > totalWidth - domNode.offsetWidth) {\n\t\t\t\t\txy[0] = totalWidth - domNode.offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tnew CKEDITOR.dom.element(domNode).setStyles({\n\t\t\t\t\tleft: xy[0] + 'px',\n\t\t\t\t\ttop: xy[1] + 'px',\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Analyses the current selection and returns the buttons or button groups to be rendered.\n\t\t *\n\t\t * @instance\n\t\t * @method getToolbarButtonGroups\n\t\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t\t * @return {Array} An Array which contains the buttons or button groups that should be rendered.\n\t\t */\n\t\tgetToolbarButtonGroups(buttons, additionalProps) {\n\t\t\tif (Lang.isFunction(buttons)) {\n\t\t\t\tbuttons = buttons.call(this) || [];\n\t\t\t}\n\n\t\t\treturn buttons.reduce((list, button) => {\n\t\t\t\tif (Array.isArray(button)) {\n\t\t\t\t\tlist.push(this.getToolbarButtons(button, additionalProps));\n\t\t\t\t\treturn list;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.getToolbarButtons(buttons, additionalProps);\n\t\t\t\t}\n\t\t\t}, []);\n\t\t}\n\n\t\t/**\n\t\t * Analyzes the current selection and the buttons exclusive mode value to figure out which\n\t\t * buttons should be present in a given state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getToolbarButtons\n\t\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t\t * @return {Array} An Array which contains the buttons that should be rendered.\n\t\t */\n\t\tgetToolbarButtons(buttons, additionalProps) {\n\t\t\tconst buttonProps = {};\n\n\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\t\tconst buttonCfg = nativeEditor.config.buttonCfg || {};\n\n\t\t\tif (Lang.isFunction(buttons)) {\n\t\t\t\tbuttons = buttons.call(this) || [];\n\t\t\t}\n\n\t\t\tconst toolbarButtons = this.filterExclusive(\n\t\t\t\tbuttons\n\t\t\t\t\t.filter(button => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tbutton &&\n\t\t\t\t\t\t\t(AlloyEditor.Buttons[button] ||\n\t\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name])\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t.map(button => {\n\t\t\t\t\t\tif (Lang.isString(button)) {\n\t\t\t\t\t\t\tbuttonProps[button] = buttonCfg[button];\n\t\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button];\n\t\t\t\t\t\t} else if (Lang.isString(button.name)) {\n\t\t\t\t\t\t\tbuttonProps[\n\t\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name].key\n\t\t\t\t\t\t\t] = CKEDITOR.tools.merge(\n\t\t\t\t\t\t\t\tbuttonCfg[button],\n\t\t\t\t\t\t\t\tbutton.cfg\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button.name];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn button;\n\t\t\t\t\t})\n\t\t\t).map(function(button, index) {\n\t\t\t\tlet props = this.mergeExclusiveProps(\n\t\t\t\t\t{\n\t\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\t\tkey:\n\t\t\t\t\t\t\tbutton.key !== 'separator'\n\t\t\t\t\t\t\t\t? button.key\n\t\t\t\t\t\t\t\t: `${button.key}-${index}`,\n\t\t\t\t\t\ttabKey: button.key,\n\t\t\t\t\t\ttabIndex:\n\t\t\t\t\t\t\tthis.props.trigger &&\n\t\t\t\t\t\t\tthis.props.trigger.props.tabKey === button.key\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: -1,\n\t\t\t\t\t\ttrigger: this.props.trigger,\n\t\t\t\t\t},\n\t\t\t\t\tbutton.key\n\t\t\t\t);\n\n\t\t\t\tprops = this.mergeDropdownProps(props, button.key);\n\n\t\t\t\tif (additionalProps) {\n\t\t\t\t\tprops = CKEDITOR.tools.merge(props, additionalProps);\n\t\t\t\t}\n\n\t\t\t\tprops = CKEDITOR.tools.merge(props, buttonProps[button.key]);\n\n\t\t\t\treturn React.createElement(button, props);\n\t\t\t}, this);\n\n\t\t\treturn toolbarButtons;\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from './lang';\n\n/**\n * Sets the prototype, constructor and superclass properties to support an inheritance strategy\n * that can chain constructors and methods. Static members will not be inherited.\n *\n * @memberof OOP\n * @method extend\n * @param {Function} receiver The class which will extend another class.\n * @param {Function} supplier The class which will provide the properties the child class.\n * @param {Object} protoProps Prototype properties to add/override.\n * @param {Object} staticProps Static properties to add/overwrite.\n * @return {Function} The extended class.\n * @static\n */\nconst extend = function(receiver, supplier, protoProps, staticProps) {\n\tif (!supplier || !receiver) {\n\t\tthrow new Error('extend failed, verify dependencies');\n\t}\n\n\tconst supplierProto = supplier.prototype;\n\n\tconst receiverProto = Object.create(supplierProto);\n\treceiver.prototype = receiverProto;\n\n\treceiverProto.constructor = receiver;\n\treceiver.superclass = supplierProto;\n\n\t// assign constructor property\n\tif (\n\t\tsupplier !== Object &&\n\t\tsupplierProto.constructor === Object.prototype.constructor\n\t) {\n\t\tsupplierProto.constructor = supplier;\n\t}\n\n\t// add prototype overrides\n\tif (protoProps) {\n\t\tLang.mix(receiverProto, protoProps);\n\t}\n\n\t// add object overrides\n\tif (staticProps) {\n\t\tLang.mix(receiver, staticProps);\n\t}\n\n\treturn receiver;\n};\n\nexport default extend;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst _isRangeAtElementEnd = function(range, element) {\n\t// Finding if a range is at the end of an element is somewhat tricky\n\t// due to how CKEditor handles ranges. It might depend on whether a\n\t// source node inside the element is selected or not. For now, we\n\t// need to cover the following cases:\n\t//\n\t// - The text length of the element is the same as the endOffset of\n\t//   the range.\n\t// - Both start and end containers match the element and the start\n\t//   and end offsets are 1.\n\n\treturn (\n\t\telement.getText().length === range.endOffset ||\n\t\t(element.equals(range.startContainer) &&\n\t\t\telement.equals(range.endContainer) &&\n\t\t\trange.startOffset === range.endOffset &&\n\t\t\trange.endOffset === 1)\n\t);\n};\n\nconst embedSelectionTest = function(payload) {\n\tconst selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\tselectionData.element &&\n\t\tselectionData.element.getAttribute('data-widget') === 'ae_embed'\n\t);\n};\n\nconst embedUrlSelectionTest = function(payload) {\n\tconst selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\tselectionData.element &&\n\t\tselectionData.element.getAttribute('data-widget') === 'embedurl'\n\t);\n};\n\nconst headingTextSelectionTest = function(payload) {\n\tconst headings = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\tconst selectionData = payload.data.selectionData;\n\tconst selectionEmpty = nativeEditor.isSelectionEmpty();\n\n\treturn !!(\n\t\t!selectionData.element &&\n\t\tselectionData.region &&\n\t\t!selectionEmpty &&\n\t\t!nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getCommonAncestor()\n\t\t\t.isReadOnly() &&\n\t\tnativeEditor.elementPath().contains(headings)\n\t);\n};\n\nconst linkSelectionTest = function(payload) {\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\tconst range = nativeEditor.getSelection().getRanges()[0];\n\tconst selectionData = payload.data.selectionData;\n\n\tconst element = new CKEDITOR.Link(nativeEditor).getFromSelection();\n\tconst isSelectionEmpty = nativeEditor.isSelectionEmpty();\n\tconst elementIsNotImage = selectionData.element\n\t\t? selectionData.element.getName() !== 'img'\n\t\t: true;\n\n\treturn !!(\n\t\tisSelectionEmpty &&\n\t\telementIsNotImage &&\n\t\telement &&\n\t\telement.getText().length !== range.endOffset &&\n\t\telement &&\n\t\t!element.isReadOnly() &&\n\t\t!_isRangeAtElementEnd(range, element)\n\t);\n};\n\nconst imageSelectionTest = function(payload) {\n\tconst selectionData = payload.data.selectionData;\n\tconst element = selectionData.element;\n\tconst hasImage = !!element && !!element.findOne('img');\n\tconst isImage = !!element && element.getName() === 'img';\n\n\treturn !!(element && (hasImage || isImage));\n};\n\nconst textSelectionTest = function(payload) {\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\n\tconst selectionEmpty = nativeEditor.isSelectionEmpty();\n\n\tconst selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\t!selectionData.element &&\n\t\tselectionData.region &&\n\t\t!selectionEmpty &&\n\t\t!nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getCommonAncestor()\n\t\t\t.isReadOnly()\n\t);\n};\n\nconst tableSelectionTest = function(payload) {\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\n\tconst table = new CKEDITOR.Table(nativeEditor);\n\tconst element = table.getFromSelection();\n\n\treturn !!(element && table.isEditable(element));\n};\n\nconst SelectionTest = {\n\tembed: embedSelectionTest,\n\tembedUrl: embedUrlSelectionTest,\n\theader: headingTextSelectionTest,\n\timage: imageSelectionTest,\n\tlink: linkSelectionTest,\n\ttable: tableSelectionTest,\n\ttext: textSelectionTest,\n};\n\nexport default SelectionTest;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\n/**\n * The ButtonsStylesListHeader class provides the header of an list of style items.\n *\n * @class ButtonsStylesListHeader\n */\nclass ButtonsStylesListHeader extends React.Component {\n\tstatic key = 'buttonStylesListHeader';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonsStylesListHeader\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.styles && this.props.styles.length) {\n\t\t\treturn <span className=\"ae-list-header\">{this.props.name}</span>;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default ButtonsStylesListHeader;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonStylesListItemRemove class provides functionality for previewing a style definition\n * inside a list and applying it to the current editor selection.\n *\n * @class ButtonStylesListItemRemove\n */\nclass ButtonStylesListItemRemove extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tremoveBlocks: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre'],\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonStylesListItemRemove\n\t * @memberof ButtonStylesListItemRemove\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonStylesListItemRemove';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<li role=\"option\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this._removeStyles}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t{AlloyEditor.Strings.normal}\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t);\n\t}\n\n\t/**\n\t * Removes all inline styles and configured block elements applied to the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method _removeStyles\n\t * @protected\n\t */\n\t_removeStyles = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.execCommand('removeFormat');\n\n\t\tthis.props.removeBlocks.forEach(blockItem => {\n\t\t\tconst blockStyle = new CKEDITOR.style({element: blockItem});\n\n\t\t\teditor.removeStyle(blockStyle);\n\t\t});\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default ButtonStylesListItemRemove;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonActionStyle from '../base/button-action-style';\nimport ButtonStyle from '../base/button-style';\n\n/**\n * The ButtonStylesListItem class provides functionality for previewing a style definition\n * inside a list and applying it to the current editor selection.\n *\n * @class ButtonStylesListItem\n * @uses ButtonActionStyle\n * @uses ButtonStyle\n */\nclass ButtonStylesListItem extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonStylesListItem\n\t * @memberof ButtonStylesListItem\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonStylesListItem';\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\t// Styles with wildcard element (*) generate an empty tag in their preview < class=\"custom-class\" />.\n\t\t// We default to element span and remove the margins to obtain a more consistent set of previews.\n\t\tlet styleCfg = {\n\t\t\telement: 'span',\n\t\t\tstyles: {\n\t\t\t\tmargin: 0,\n\t\t\t},\n\t\t};\n\n\t\tstyleCfg = CKEDITOR.tools.merge(styleCfg, this.props.style);\n\n\t\tthis._preview = new CKEDITOR.style(styleCfg).buildPreview(\n\t\t\tthis.props.name\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\t// We need to use dangerouselySetInnterHTML since we're not in control of the style\n\t\t// preview that is generated by CKEditor.\n\t\tconst className =\n\t\t\tthis.props.name === this.props.activeStyle\n\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t: 'ae-toolbar-element';\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName={className}\n\t\t\t\tdangerouslySetInnerHTML={{__html: this._preview}}\n\t\t\t\tonClick={this._onClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t/>\n\t\t);\n\t}\n\n\t/**\n\t * Applies the item style to the editor selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method _onClick\n\t * @protected\n\t */\n\t_onClick = () => {\n\t\tif (this.props.styleFn) {\n\t\t\tthis.props.styleFn();\n\t\t} else {\n\t\t\t// Typically, we want the style to be the only one applied to the current selection, so\n\t\t\t// we execute the 'removeFormat' command first. Note that block styles won't be cleaned.\n\t\t\t// However, this is consistent with other editors implementations of this feature.\n\t\t\tthis.context.editor.get('nativeEditor').execCommand('removeFormat');\n\n\t\t\tthis.applyStyle();\n\t\t}\n\t};\n}\n\nexport default ButtonActionStyle(ButtonStyle(ButtonStylesListItem));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonCameraImage class takes photo from camera and inserts it to the content.\n *\n * @class ButtonCameraImage\n */\nclass ButtonCameraImage extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t */\n\tstatic defaultProps = {\n\t\tvideoWidth: 320,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default cameraImage\n\t * @memberof ButtonCameraImage\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'cameraImage';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._buttonTakePhotoRef = React.createRef();\n\t\tthis._canvasContainerRef = React.createRef();\n\t\tthis._videoContainerRef = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses the take photo button.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._buttonTakePhotoRef.current.focus();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tif (this._stream) {\n\t\t\tif (this._stream.stop) {\n\t\t\t\tthis._stream.stop();\n\t\t\t} else if (this._stream.getVideoTracks) {\n\t\t\t\tthis._stream.getVideoTracks().forEach(track => {\n\t\t\t\t\ttrack.stop();\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis._stream = null;\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst getUserMedia =\n\t\t\tnavigator.getUserMedia ||\n\t\t\tnavigator.webkitGetUserMedia ||\n\t\t\tnavigator.mozGetUserMedia ||\n\t\t\tnavigator.msGetUserMedia;\n\n\t\tgetUserMedia.call(\n\t\t\tnavigator,\n\t\t\t{\n\t\t\t\tvideo: true,\n\t\t\t\taudio: false,\n\t\t\t},\n\t\t\tthis._handleStreamSuccess,\n\t\t\tthis._handleStreamError\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"ae-camera\">\n\t\t\t\t<video ref={this._videoContainerRef}>\n\t\t\t\t\tVideo stream not available.\n\t\t\t\t</video>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-camera-shoot\"\n\t\t\t\t\tonClick={this.takePhoto}\n\t\t\t\t\tref={this._buttonTakePhotoRef}>\n\t\t\t\t\tTake photo\n\t\t\t\t</button>\n\t\t\t\t<canvas\n\t\t\t\t\tclassName=\"ae-camera-canvas\"\n\t\t\t\t\tref={this._canvasContainerRef}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Takes photo from the video stream and inserts in into editor's content.\n\t *\n\t * @fires ButtonCameraImage#imageCameraAdd\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method takePhoto\n\t */\n\ttakePhoto = () => {\n\t\tconst videoEl = this._videoContainerRef.current;\n\t\tconst canvasEl = this._canvasContainerRef.current;\n\n\t\tconst context = canvasEl.getContext('2d');\n\n\t\tconst height = this._videoHeight;\n\t\tconst width = this.props.videoWidth;\n\n\t\tif (width && height) {\n\t\t\tcanvasEl.width = width;\n\t\t\tcanvasEl.height = height;\n\n\t\t\tcontext.drawImage(videoEl, 0, 0, width, height);\n\n\t\t\tconst imgURL = canvasEl.toDataURL('image/png');\n\n\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t'<img src=\"' + imgURL + '\">'\n\t\t\t);\n\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\teditor.insertElement(el);\n\n\t\t\tthis.props.cancelExclusive();\n\n\t\t\teditor.fire('actionPerformed', this);\n\n\t\t\teditor.fire('imageCameraAdd', el);\n\t\t}\n\t};\n\n\t/**\n\t * Displays error message in case of video stream capturing failure.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method _handleStreamError\n\t * @param {Event} error The fired event in case of error.\n\t * @protected\n\t */\n\t_handleStreamError = error => {\n\t\twindow.alert('An error occurred! ' + error);\n\t};\n\n\t/**\n\t * Starts streaming video in the video element and sets width/height to the video\n\t * and canvas elements.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method _handleStreamSuccess\n\t * @param {Object} stream The video stream\n\t * @protected\n\t */\n\t_handleStreamSuccess = stream => {\n\t\tconst videoEl = this._videoContainerRef.current;\n\t\tconst canvasEl = this._canvasContainerRef.current;\n\n\t\tvideoEl.addEventListener(\n\t\t\t'canplay',\n\t\t\t() => {\n\t\t\t\tlet height =\n\t\t\t\t\tvideoEl.videoHeight /\n\t\t\t\t\t(videoEl.videoWidth / this.props.videoWidth);\n\n\t\t\t\tif (isNaN(height)) {\n\t\t\t\t\theight = this.props.videoWidth / (4 / 3);\n\t\t\t\t}\n\n\t\t\t\tvideoEl.setAttribute('width', this.props.videoWidth);\n\t\t\t\tvideoEl.setAttribute('height', height);\n\t\t\t\tcanvasEl.setAttribute('width', this.props.videoWidth);\n\t\t\t\tcanvasEl.setAttribute('height', height);\n\n\t\t\t\tthis._videoHeight = height;\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\n\t\tthis._stream = stream;\n\n\t\tif (navigator.mozGetUserMedia) {\n\t\t\tvideoEl.mozSrcObject = stream;\n\t\t} else {\n\t\t\tvideoEl.srcObject = stream;\n\t\t}\n\n\t\tvideoEl.play();\n\n\t\tthis._buttonTakePhotoRef.current.disabled = false;\n\t};\n\n\t/**\n\t * Fired when an image is being taken from the camera and added as an element to the editor.\n\t *\n\t * @event ButtonCameraImage#imageCameraAdd\n\t * @memberof ButtonCameraImage\n\t * @param {CKEDITOR.dom.element} el The created img element in editor.\n\t */\n}\n\nexport default ButtonCameraImage;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\n\n/**\n * The ButtonCommandListItem class is a UI class that renders a ButtonCommand that can be used inside\n * a list as an item, with a string representation of its behaviour.\n *\n * @class ButtonCommandListItem\n * @uses ButtonCommand\n */\nclass ButtonCommandListItem extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonCommandListItem\n\t * @memberof ButtonCommandListItem\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonCommandListItem';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandListItem\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={this.props.description}\n\t\t\t\tclassName={this._getClassName()}\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t{this.props.description}\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Returns the class name of Widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandListItem\n\t * @method _getClassName\n\t * @protected\n\t * @return {String} The class name of the Widget.\n\t */\n\t_getClassName() {\n\t\tconst className = 'ae-container ae-toolbar-element';\n\n\t\treturn className;\n\t}\n}\n\nexport default ButtonCommand(ButtonCommandListItem);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonEmbedEdit class provides functionality for creating and editing an embed link in a document.\n * Provides UI for creating and editing an embed link.\n *\n * @class ButtonEmbedEdit\n */\nclass ButtonEmbedEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default embedEdit\n\t * @memberof ButtonEmbedEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'embedEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.linkInput = React.createRef();\n\t\tthis.state = this.getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(this._focusLinkInput);\n\t\t\t} else {\n\t\t\t\tsetTimeout(this._focusLinkInput, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.setState(this.getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\t// Can't access context from constructor, so get editor from props.\n\t\tconst editor = this.props.context.editor.get('nativeEditor');\n\t\tlet embed;\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement) {\n\t\t\t\tembed = selectedElement.findOne('[data-widget=\"ae_embed\"]');\n\t\t\t}\n\t\t}\n\n\t\tconst href = embed ? embed.getAttribute('data-ae-embed-url') : '';\n\n\t\treturn {\n\t\t\telement: embed,\n\t\t\tinitialLink: {\n\t\t\t\thref,\n\t\t\t},\n\t\t\tlinkHref: href,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst clearLinkStyle = {\n\t\t\topacity: this.state.linkHref ? 1 : 0,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.deleteEmbed}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed-remove\"\n\t\t\t\t\tdisabled={!this.state.element}\n\t\t\t\t\tonClick={this._removeEmbed}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.deleteEmbed}>\n\t\t\t\t\t<ButtonIcon className=\"ae-icon-svg-trash\" symbol=\"trash\" />\n\t\t\t\t</button>\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tonChange={this._handleLinkHrefChange}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder={AlloyEditor.Strings.editLink}\n\t\t\t\t\t\tref={this.linkInput}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.linkHref}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\t\tclassName=\"ae-button ae-button-clear\"\n\t\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\t\tstyle={clearLinkStyle}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.clear}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"times-clear\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._embedLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon className=\"ae-icon-svg-check\" symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink = () => {\n\t\tthis.setState({\n\t\t\tlinkHref: '',\n\t\t});\n\t};\n\n\t/**\n\t * Triggers the embedUrl command to transform the link into an embed media object\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _embedLink\n\t * @protected\n\t */\n\t_embedLink = () => {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\tnativeEditor.execCommand('embedUrl', {\n\t\t\turl: this.state.linkHref,\n\t\t});\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _focusLinkInput\n\t * @protected\n\t */\n\t_focusLinkInput = () => {\n\t\tthis.linkInput.current.focus();\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._embedLink();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\t\tthis.props.cancelExclusive();\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _handleLinkHrefChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleLinkHrefChange = event => {\n\t\tthis.setState({\n\t\t\tlinkHref: event.target.value,\n\t\t});\n\t};\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty href that's different from the original one.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} True if the state is valid, false otherwise\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.linkHref &&\n\t\t\tthis.state.linkHref !== this.state.initialLink.href;\n\n\t\treturn validState;\n\t}\n\n\t/**\n\t * Removes the embed in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _removeEmbed\n\t * @protected\n\t */\n\t_removeEmbed = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst embedWrapper = this.state.element.getAscendant(element => {\n\t\t\treturn element.hasClass('cke_widget_wrapper');\n\t\t});\n\n\t\tembedWrapper.remove();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default EditorContext.toProps(ButtonEmbedEdit);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonEmbedVideoEdit class provides functionality for changing text color in a document.\n *\n * @uses ButtonIcon\n *\n * @class ButtonEmbedVideoEdit\n */\nclass ButtonEmbedVideoEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'embedVideoEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = this.getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(this._focusVideoUrlInput);\n\t\t\t} else {\n\t\t\t\tsetTimeout(this._focusVideoUrlInput, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tconst newState = this.getInitialState();\n\n\t\tthis.setState({\n\t\t\tall: undefined,\n\t\t\tkeys: undefined,\n\t\t\tnew: newState,\n\t\t\told: undefined,\n\t\t});\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\t// Can't access context from constructor, so get editor from props.\n\t\tconst editor = this.props.context.editor.get('nativeEditor');\n\t\tlet element;\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement) {\n\t\t\t\telement = selectedElement.findOne('[data-widget=\"videoembed\"]');\n\t\t\t}\n\t\t}\n\n\t\tconst videoURL = element\n\t\t\t? element.getAttribute('data-embed-video-url')\n\t\t\t: '';\n\n\t\treturn {\n\t\t\telement,\n\t\t\tinitialEmbed: {\n\t\t\t\tvideoURL,\n\t\t\t},\n\t\t\tvideoURL,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst inputPlaceholder = AlloyEditor.Strings.pasteVideoLink;\n\n\t\tconst clearVideoURLStyle = {\n\t\t\topacity: this.state.videoURL ? 1 : 0,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-embed-video-edit\">\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tonChange={this._handleVideoURLChange}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder={inputPlaceholder}\n\t\t\t\t\t\tref=\"linkInput\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.videoURL}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\t\tclassName=\"ae-button ae-icon-remove\"\n\t\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\t\tstyle={clearVideoURLStyle}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.clear}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._embedVideoURL}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink() {\n\t\tthis.setState({\n\t\t\tvideoURL: '',\n\t\t});\n\t}\n\n\t/**\n\t * Triggers the embedVideoUrl command to transform the link into an embed media object\n\t *\n\t * @instance\n\t * @memberof EmbedVideoEdit\n\t * @method _embedVideoURL\n\t * @protected\n\t */\n\t_embedVideoURL = () => {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\tnativeEditor.execCommand('embedUrl', {\n\t\t\ttype: 'video',\n\t\t\turl: this.state.videoURL,\n\t\t});\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _focusVideoUrlInput\n\t * @protected\n\t */\n\t_focusVideoUrlInput = () => {\n\t\tReactDOM.findDOMNode(this.refs.linkInput).focus();\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._embedVideoURL();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tthis.props.cancelExclusive();\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _handleVideoURLChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleVideoURLChange = event => {\n\t\tthis.setState({\n\t\t\tvideoURL: event.target.value,\n\t\t});\n\t};\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty videoURL that's different from the original one.\n\t *\n\t * @instance\n\t * @memberof EmbedVideoEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} True if the state is valid, false otherwise\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.videoURL &&\n\t\t\tthis.state.videoURL !== this.state.initialEmbed.videoURL;\n\n\t\treturn validState;\n\t}\n}\n\nexport default EditorContext.toProps(ButtonEmbedVideoEdit);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonDropdown from './button-dropdown.jsx';\n\n/**\n * The ButtonLinkAutocompleteList class provides functionality for showing a list of\n * items that can be selected for the link.\n *\n * @class ButtonLinkAutocompleteList\n * @uses WidgetFocusManager\n */\nclass ButtonLinkAutocompleteList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdata: [],\n\t\tdelay: 100,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonLinkAutocompleteList\n\t * @memberof ButtonLinkAutocompleteList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonLinkAutocompleteList';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!nextProps.term || nextProps.term !== this.props.term) {\n\t\t\tclearTimeout(this._timeout);\n\n\t\t\tif (nextProps.term) {\n\t\t\t\tthis._timeout = setTimeout(this._updateItems, this.props.delay);\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\titems: [],\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (nextProps.autocompleteSelected) {\n\t\t\tsetTimeout(this.focus, 0);\n\t\t\tthis.props.setAutocompleteState({\n\t\t\t\tselected: false,\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this._timeout);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (!this.props.expanded || !this.state.items.length) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<ButtonDropdown>\n\t\t\t\t{this._renderAutocompleteItems(this.state.items)}\n\t\t\t</ButtonDropdown>\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked before rendering when new props or state are being received.\n\t * This method is not called for the initial render or when forceUpdate is used.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method  shouldComponentUpdate\n\t * @return {Boolean} Returns false when the transition to the new props and state will not\n\t * require a component update.\n\t */\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn (\n\t\t\tnextProps.expanded !== this.props.expanded ||\n\t\t\tnextProps.term !== this.props.term ||\n\t\t\tnextState.items !== this.state.items\n\t\t);\n\t}\n\n\t/**\n\t * Renders a set of list items for the provided items\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method _renderAutocompleteItems\n\t * @param {Array} items List of autocomplete items to render\n\t * @protected\n\t * @return {Array} Rendered list item instances\n\t */\n\t_renderAutocompleteItems(items) {\n\t\titems = items || [];\n\n\t\tconst handleLinkAutocompleteClick = this.props\n\t\t\t.handleLinkAutocompleteClick;\n\n\t\treturn items.map(item => {\n\t\t\tconst className =\n\t\t\t\tthis.props.term === item.url\n\t\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t\t: 'ae-toolbar-element';\n\n\t\t\treturn (\n\t\t\t\t<li key={item.url} role=\"option\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\tdata-value={item.url}\n\t\t\t\t\t\tonClick={handleLinkAutocompleteClick}>\n\t\t\t\t\t\t{item.title}\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the data according to {this.props.term} and calls setState() with the returned data\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method _updateItems\n\t * @protected\n\t */\n\t_updateItems() {\n\t\tif (!this.props.term) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst promise = Promise.resolve(this.props.data(this.props.term));\n\n\t\tpromise.then(items => {\n\t\t\tif (items.length && !this.props.expanded) {\n\t\t\t\tthis.props.toggleDropdown();\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\titems,\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport default WidgetFocusManager(ButtonLinkAutocompleteList);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\n\n/**\n * The LinkEditBrowse class provides functionality for creating and editing a link in a document,\n * and also allows to link to an existing file in DM.\n * Provides UI for creating, editing and removing a link.\n *\n * @class ButtonLinkEditBrowse\n */\nclass ButtonLinkEditBrowse extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'linkEditBrowse';\n\n\t/**\n\t *\n\t * @inheritDoc\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst link = new CKEDITOR.Link(\n\t\t\t// Can't access context from constructor, so get editor from props.\n\t\t\tthis.props.context.editor.get('nativeEditor')\n\t\t).getFromSelection();\n\n\t\tconst href = link ? link.getAttribute('href') : '';\n\n\t\tthis.linkEditButtonRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\telement: link,\n\t\t\tlinkHref: href,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ae-container-link-edit-browse\">\n\t\t\t\t<ButtonLinkEdit ref={this.linkEditButtonRef} {...this.props} />\n\t\t\t\t<button\n\t\t\t\t\taria-label=\"Browse\"\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._browseClick}\n\t\t\t\t\ttitle=\"browse\">\n\t\t\t\t\t<ButtonIcon symbol=\"folder\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Opens an item selector dialog.\n\t *\n\t * @protected\n\t * @method _browseClick\n\t */\n\t_browseClick = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst url = editor.config.documentBrowseLinkUrl;\n\t\tconst browseLinkCallback = editor.config.documentBrowseLinkCallback;\n\t\tconst linkTarget = this.linkEditButtonRef.current\n\t\t\t? this.linkEditButtonRef.current.state.linkTarget\n\t\t\t: '';\n\n\t\tconst changeLinkCallback = selectedItem => {\n\t\t\tthis._updateLink(\n\t\t\t\tselectedItem.value,\n\t\t\t\tlinkTarget,\n\t\t\t\tselectedItem.title\n\t\t\t);\n\t\t};\n\n\t\tif (Lang.isFunction(browseLinkCallback)) {\n\t\t\tbrowseLinkCallback.apply(null, [editor, url, changeLinkCallback]);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the link in the editor element. If the element didn't exist previously, it will\n\t * create a new <a> element with the href specified in the link input.\n\t *\n\t * @protected\n\t * @method _updateLink\n\t * @param {String} linkHref href value for the link\n\t * @param {String} linkTarget target value for the link\n\t * @param {String} linkTitle if the link is a title that points to a wiki page (only works for creole)\n\t */\n\t_updateLink = (linkHref, linkTarget, linkTitle) => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor, {appendProtocol: false});\n\t\tconst linkAttrs = {\n\t\t\ttarget: linkTarget,\n\t\t};\n\t\tconst modifySelection = {advance: true};\n\n\t\tif (linkHref) {\n\t\t\tif (editor.plugins && editor.plugins.creole && !linkTitle) {\n\t\t\t\tlinkHref = location.origin + linkHref;\n\t\t\t}\n\n\t\t\tif (this.state.element) {\n\t\t\t\tlinkAttrs.href = linkHref;\n\n\t\t\t\tlinkUtils.update(\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tthis.state.element,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlinkUtils.create(linkHref, linkAttrs, modifySelection);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t};\n}\n\nexport default EditorContext.toProps(ButtonLinkEditBrowse);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonTargetList from './button-target-list.jsx';\n\n/**\n * The ButtonLinkTargetEdit class provides functionality for changing the target of a link\n * in the document.\n *\n * @class ButtonLinkTargetEdit\n */\nclass ButtonLinkTargetEdit extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkTargetEdit\n\t * @memberof ButtonLinkTargetEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'linkTargetEdit';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkTargetEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst handleLinkTargetChange = this.props.handleLinkTargetChange;\n\t\tconst allowedLinkTargets = this.props.allowedTargets;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-container-dropdown ae-container-dropdown-medium ae-container-edit-link-target ae-has-dropdown\"\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={this.props.selectedTarget}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={this.props.selectedTarget}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{this.props.selectedTarget}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t<ButtonTargetList\n\t\t\t\t\t\tallowedLinkTargets={allowedLinkTargets}\n\t\t\t\t\t\thandleLinkTargetChange={handleLinkTargetChange}\n\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t\t\tselectedTarget={this.props.selectedTarget}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked before rendering when new props or state are being received.\n\t * This method is not called for the initial render or when forceUpdate is used.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkTargetEdit\n\t * @method  shouldComponentUpdate\n\t * @return {Boolean} Returns false when the transition to the new props and state will not\n\t * require a component update.\n\t */\n\tshouldComponentUpdate(nextProps) {\n\t\treturn (\n\t\t\tnextProps.expanded !== this.props.expanded ||\n\t\t\tnextProps.selectedTarget !== this.props.selectedTarget\n\t\t);\n\t}\n}\n\nexport default ButtonLinkTargetEdit;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonDropdown from './button-dropdown.jsx';\n\n/**\n * The ButtonTargetList class provides functionality for changing the target of a link\n * in the document.\n *\n * @class ButtonTargetList\n * @uses WidgetFocusManager\n */\nclass ButtonTargetList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\tcircular: true,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkTargetEdit\n\t * @memberof ButtonTargetList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'targetList';\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tReactDOM.findDOMNode(this).focus();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst listTargets = this._renderListTargets();\n\n\t\treturn <ButtonDropdown {...this.props}>{listTargets}</ButtonDropdown>;\n\t}\n\n\t/**\n\t * Returns the the allowed link target items.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method _getAllowedTargetItems\n\t * @protected\n\t * @return {Array} The allowed target items.\n\t */\n\t_getAllowedTargetItems() {\n\t\treturn (\n\t\t\tthis.props.allowedLinkTargets || [\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetDefault,\n\t\t\t\t\tvalue: '',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetSelf,\n\t\t\t\t\tvalue: '_self',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetBlank,\n\t\t\t\t\tvalue: '_blank',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetParent,\n\t\t\t\t\tvalue: '_parent',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetTop,\n\t\t\t\t\tvalue: '_top',\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n\n\t/**\n\t * Renders the allowed link target items.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method _renderListTargets\n\t * @protected\n\t * @return {Object} Returns the rendered link items\n\t */\n\t_renderListTargets() {\n\t\tlet targets = this._getAllowedTargetItems();\n\n\t\tconst handleLinkTargetChange = this.props.handleLinkTargetChange;\n\n\t\ttargets = targets.map(target => {\n\t\t\tconst className =\n\t\t\t\tthis.props.selectedTarget === target.value\n\t\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t\t: 'ae-toolbar-element';\n\n\t\t\treturn (\n\t\t\t\t<li key={target.value} role=\"option\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\tdata-value={target.value}\n\t\t\t\t\t\tonClick={handleLinkTargetChange}>\n\t\t\t\t\t\t{target.label}\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\treturn targets;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonTargetList);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonProps from '../base/button-props';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\n\n/**\n * The ButtonLink class provides functionality for creating and editing a link in a document. ButtonLink\n * renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonLinkEdit UI with all the link edition controls.\n *\n * @class ButtonLink\n * @uses ButtonProps\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n */\nclass ButtonLink extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t\tname: 'link',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default link\n\t * @memberof ButtonLink\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'link';\n\n\t/**\n\t * Checks if the current selection is contained within a link.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method isActive\n\t * @return {Boolean} True if the selection is inside a link, false otherwise.\n\t */\n\tisActive() {\n\t\treturn (\n\t\t\tnew CKEDITOR.Link(\n\t\t\t\tthis.context.editor.get('nativeEditor')\n\t\t\t).getFromSelection() !== null\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tconst props = this.mergeButtonCfgProps();\n\n\t\t\treturn <ButtonLinkEdit {...props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.link}\n\t\t\t\t\tclassName={cssClass}\n\t\t\t\t\tdata-type=\"button-link\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.link}>\n\t\t\t\t\t<ButtonIcon symbol=\"link\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method _requestExclusive\n\t * @protected\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonLink.key);\n\t};\n}\n\nexport default ButtonProps(ButtonKeystroke(ButtonStateClasses(ButtonLink)));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nconst INPUT_NAMES = {\n\tCOLS: 'cols',\n\tROWS: 'rows',\n};\n\nconst MINIMUM_GRID_VALUE = 1;\n\n/**\n * The ButtonTableEdit class provides functionality for creating and editing a table in a document.\n * Provides UI for creating a table.\n *\n * @class ButtonTableEdit\n */\nclass ButtonTableEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\ttableAttributes: {\n\t\t\tborder: 1,\n\t\t\tcellPadding: 0,\n\t\t\tcellSpacing: 0,\n\t\t\tstyle: 'table-layout: fixed; width: 100%;',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableEdit\n\t * @memberof ButtonTableEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableEdit';\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method getInitialState\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.rowsRef = React.createRef();\n\t\tthis.colsRef = React.createRef();\n\t\tthis.state = {\n\t\t\tcols: 3,\n\t\t\trows: 3,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis.rowsRef.current.focus();\n\t}\n\n\t/**\n\t * Creates a table.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _createTable\n\t * @protected\n\t */\n\t_createTable = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst tableUtils = new CKEDITOR.Table(editor);\n\n\t\ttableUtils.create({\n\t\t\tattrs: this.props.tableAttributes,\n\t\t\tcols: this.state.cols,\n\t\t\trows: this.state.rows,\n\t\t});\n\n\t\tthis.props.cancelExclusive();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Handles a change in input value. Sets the provided value from the user back to the input.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _handleChange\n\t * @param {String} inputName The name of the input which value should be updated.\n\t * @param {SyntheticEvent} event The provided event.\n\t * @protected\n\t */\n\t_handleChange = (inputName, event) => {\n\t\tconst state = {};\n\n\t\tif (inputName === INPUT_NAMES.COLS || inputName === INPUT_NAMES.ROWS) {\n\t\t\tstate[inputName] = Math.min(event.target.value, MINIMUM_GRID_VALUE);\n\t\t} else {\n\t\t\tstate[inputName] = event.target.value;\n\t\t}\n\n\t\tthis.setState(state);\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates the table.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._createTable();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tthis.props.cancelExclusive();\n\t\t}\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst time = Date.now();\n\t\tconst rowsId = time + INPUT_NAMES.ROWS;\n\t\tconst colsId = time + INPUT_NAMES.COLS;\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-table\">\n\t\t\t\t<label htmlFor={rowsId}>{AlloyEditor.Strings.rows}</label>\n\t\t\t\t<div className=\"ae-container-input small\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tid={rowsId}\n\t\t\t\t\t\tmin={MINIMUM_GRID_VALUE}\n\t\t\t\t\t\tonChange={this._handleChange.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tINPUT_NAMES.ROWS\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder=\"Rows\"\n\t\t\t\t\t\tref={this.rowsRef}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={this.state.rows}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<label htmlFor={colsId}>{AlloyEditor.Strings.columns}</label>\n\t\t\t\t<div className=\"ae-container-input small\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tid={colsId}\n\t\t\t\t\t\tmin={MINIMUM_GRID_VALUE}\n\t\t\t\t\t\tonChange={this._handleChange.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tINPUT_NAMES.COLS\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder=\"Colums\"\n\t\t\t\t\t\tref={this.colsRef}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={this.state.cols}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\taria-label=\"Confirm\"\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._createTable}>\n\t\t\t\t\t<ButtonIcon symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ButtonTableEdit;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\n/**\n * Provides functionality for calculating the point of interaction of the user with the Editor.\n *\n * @class WidgetInteractionPoint\n */\nconst WidgetInteractionPoint = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The provided editor event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetInteractionPoint\n\t\t * @property {SyntheticEvent} editorEvent\n\t\t */\n\t\teditorEvent: PropTypes.object,\n\t},\n\n\t/**\n\t * Returns the position, in page coordinates, according to which a widget should appear.\n\t * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.\n\t *\n\t * It depends on the props editorEvent to analyze the following user-interaction parameters:\n\t * - {Object} selectionData The data about the selection in the editor as returned from\n\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t * - {Number} pos Contains the coordinates of the position, considered as most appropriate.\n\t * This may be the point where the user released the mouse, or just the beginning or the end of\n\t * the selection.\n\t *\n\t * @instance\n\t * @memberof WidgetInteractionPoint\n\t * @method getInteractionPoint\n\t * @return {Object} An Object which contains the following properties:\n\t * direction, x, y, where x and y are in page coordinates and direction can be one of these:\n\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t */\n\tgetInteractionPoint() {\n\t\tconst eventPayload = this.props.editorEvent\n\t\t\t? this.props.editorEvent.data\n\t\t\t: null;\n\n\t\tif (!eventPayload) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selectionData = eventPayload.selectionData;\n\n\t\tconst nativeEvent = eventPayload.nativeEvent;\n\n\t\tconst pos = {\n\t\t\tx: eventPayload.nativeEvent.pageX,\n\t\t\ty: selectionData.region.top,\n\t\t};\n\n\t\tlet direction = selectionData.region.direction;\n\n\t\tconst endRect = selectionData.region.endRect;\n\n\t\tconst startRect = selectionData.region.startRect;\n\n\t\tif (endRect && startRect && startRect.top === endRect.top) {\n\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t}\n\n\t\tlet x;\n\t\tlet y;\n\n\t\t// If we have the point where user released the mouse, show Toolbar at this point\n\t\t// otherwise show it on the middle of the selection.\n\n\t\tif (pos.x && pos.y) {\n\t\t\tx = this._getXPoint(selectionData, pos.x);\n\n\t\t\tif (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {\n\t\t\t\ty = Math.min(pos.y, selectionData.region.top);\n\t\t\t} else {\n\t\t\t\ty = Math.max(\n\t\t\t\t\tpos.y,\n\t\t\t\t\tthis._getYPoint(selectionData, nativeEvent)\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tx = selectionData.region.left + selectionData.region.width / 2;\n\n\t\t\tif (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {\n\t\t\t\ty = this._getYPoint(selectionData, nativeEvent);\n\t\t\t} else {\n\t\t\t\ty = selectionData.region.top;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tdirection,\n\t\t\tx,\n\t\t\ty,\n\t\t};\n\t},\n\n\t/**\n\t * Returns the position of the Widget.\n\t *\n\t * @instance\n\t * @memberof WidgetInteractionPoint\n\t * @method _getXPoint\n\t * @param {Object} eventX The X coordinate received from the native event (mouseup).\n\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t * @protected\n\t * @return {Number} The calculated X point in page coordinates.\n\t */\n\t_getXPoint(selectionData, eventX) {\n\t\tconst region = selectionData.region;\n\n\t\tconst left = region.startRect ? region.startRect.left : region.left;\n\t\tconst right = region.endRect ? region.endRect.right : region.right;\n\n\t\tlet x;\n\n\t\tif (left < eventX && right > eventX) {\n\t\t\tx = eventX;\n\t\t} else {\n\t\t\tconst leftDist = Math.abs(left - eventX);\n\t\t\tconst rightDist = Math.abs(right - eventX);\n\n\t\t\tif (leftDist < rightDist) {\n\t\t\t\t// user raised the mouse on left on the selection\n\t\t\t\tx = left;\n\t\t\t} else {\n\t\t\t\tx = right;\n\t\t\t}\n\t\t}\n\n\t\treturn x;\n\t},\n\n\t/**\n\t * Returns the position of the Widget.\n\t *\n\t * @instance\n\t * @memberof WidgetInteractionPoint\n\t * @method _getYPoint\n\t * @param {Object} nativeEvent The data about event is fired\n\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t * @protected\n\t * @return {Number} The calculated Y point in page coordinates.\n\t */\n\t_getYPoint(selectionData, nativeEvent) {\n\t\tlet y = 0;\n\n\t\tif (selectionData && nativeEvent) {\n\t\t\tconst elementTarget = new CKEDITOR.dom.element(nativeEvent.target);\n\n\t\t\tif (\n\t\t\t\telementTarget.$ &&\n\t\t\t\telementTarget.getStyle('overflow') === 'auto'\n\t\t\t) {\n\t\t\t\ty =\n\t\t\t\t\tnativeEvent.target.offsetTop +\n\t\t\t\t\tnativeEvent.target.offsetHeight;\n\t\t\t} else {\n\t\t\t\ty = selectionData.region.bottom;\n\t\t\t}\n\t\t}\n\n\t\treturn y;\n\t},\n};\n\nexport default WidgetInteractionPoint;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from './lang';\n\n/**\n * Attribute implementation.\n *\n * @class Attribute\n * @constructor\n */\nfunction Attribute(config) {\n\tthis.__config__ = config || {};\n\tthis.__ATTRS__ = {};\n}\n\nAttribute.prototype = {\n\tconstructor: Attribute,\n\n\t/**\n\t * Retrieves the value of an attribute.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method get\n\t * @param {String} attr The attribute which value should be retrieved.\n\t * @return {Any} The value of the attribute.\n\t */\n\tget(attr) {\n\t\tconst currentAttr = this.constructor.ATTRS[attr];\n\n\t\tif (!currentAttr) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._isInitialized(attr)) {\n\t\t\tthis._init(attr);\n\t\t}\n\n\t\tlet curValue = this.__ATTRS__[attr];\n\n\t\tif (currentAttr.getter) {\n\t\t\tcurValue = this._callStringOrFunction(currentAttr.getter, curValue);\n\t\t}\n\n\t\treturn curValue;\n\t},\n\n\t/**\n\t * Sets the value of an attribute.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method set\n\t * @param {String} attr The attribute which value should be set.\n\t * @param {Any} value The value which should be set to the attribute.\n\t */\n\tset(attr, value) {\n\t\tconst currentAttr = this.constructor.ATTRS[attr];\n\n\t\tif (!currentAttr) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._isInitialized(attr)) {\n\t\t\tthis._init(attr);\n\t\t}\n\n\t\tif (currentAttr.readOnly) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentAttr.writeOnce && this._isInitialized(attr)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tcurrentAttr.validator &&\n\t\t\t!this._callStringOrFunction(currentAttr.validator, value)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentAttr.setter) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.setter, value);\n\t\t}\n\n\t\tthis.__ATTRS__[attr] = value;\n\t},\n\n\t/**\n\t * Calls the provided param as function with the supplied arguments.\n\t * If param provided as string, a corresponding function in this object will\n\t * be called. If provided param is a function, it will be directly called.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _callStringOrFunction\n\t * @param  {Any|Array} args The arguments which will be provided to the called function\n\t * @param  {String|Function} stringOrFunction The function which should be called\n\t * @protected\n\t * @return {Any} The returned value from the called function\n\t */\n\t_callStringOrFunction(stringOrFunction, args) {\n\t\tlet result = null;\n\n\t\tif (!Lang.isArray(args)) {\n\t\t\targs = [args];\n\t\t}\n\n\t\tif (\n\t\t\tLang.isString(stringOrFunction) &&\n\t\t\tLang.isFunction(this[stringOrFunction])\n\t\t) {\n\t\t\tresult = this[stringOrFunction](...args);\n\t\t} else if (Lang.isFunction(stringOrFunction)) {\n\t\t\tresult = stringOrFunction.apply(this, args);\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Initializes an attribute. Sets its default value depending on the flags of the\n\t * attribute and the passed configuration object to the constructor.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _init\n\t * @param {String} attr The name of the attribute which have to be initialized.\n\t * @protected\n\t */\n\t_init(attr) {\n\t\tlet value;\n\n\t\tconst currentAttr = this.constructor.ATTRS[attr];\n\n\t\t// Check if there is default value or passed one via configuration object\n\t\tconst hasDefaultValue = Object.prototype.hasOwnProperty.call(\n\t\t\tcurrentAttr,\n\t\t\t'value'\n\t\t);\n\t\tconst hasPassedValueViaConfig = Object.prototype.hasOwnProperty.call(\n\t\t\tthis.__config__,\n\t\t\tattr\n\t\t);\n\n\t\t// If there is valueFn, set the value to be the result of invocation of this function\n\t\tif (currentAttr.valueFn) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.valueFn, value);\n\n\t\t\tthis.__ATTRS__[attr] = value;\n\t\t}\n\t\t// else if the attribute has readOnly flag, set the default value from the attribute,\n\t\t// regardless if there is value or not\n\t\telse if (currentAttr.readOnly) {\n\t\t\tvalue = currentAttr.value;\n\t\t}\n\t\t// else if the attribute has writeOnce value, set it from the passed configuration or from the\n\t\t// default value, in this order. Otherwise, return miserable.\n\t\telse if (currentAttr.writeOnce) {\n\t\t\tif (hasPassedValueViaConfig) {\n\t\t\t\tvalue = this.__config__[attr];\n\t\t\t} else if (hasDefaultValue) {\n\t\t\t\tvalue = currentAttr.value;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// These two cases below are easy - set the value to be from the passed config or\n\t\t// from the default value, in this order.\n\t\telse if (hasPassedValueViaConfig) {\n\t\t\tvalue = this.__config__[attr];\n\t\t} else if (hasDefaultValue) {\n\t\t\tvalue = currentAttr.value;\n\t\t}\n\n\t\t// If there is validator, and user passed config object - check the returned value.\n\t\t// If it is false, then set as initial value the default one.\n\t\t// However, if there is no default value, just return.\n\t\tif (\n\t\t\tcurrentAttr.validator &&\n\t\t\thasPassedValueViaConfig &&\n\t\t\t!this._callStringOrFunction(currentAttr.validator, value)\n\t\t) {\n\t\t\tif (hasDefaultValue) {\n\t\t\t\tvalue = currentAttr.value;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// If there is setter and user passed config object - pass the value thought the setter.\n\t\t// The value might be one from defaultFn, default value or provided from the config.\n\t\tif (currentAttr.setter && hasPassedValueViaConfig) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.setter, value);\n\t\t}\n\n\t\t// Finally, set the value as initial value to the storage with values.\n\t\tthis.__ATTRS__[attr] = value;\n\t},\n\n\t/**\n\t * Checks if an attribute is initialized. An attribute is considered as initialized\n\t * when there is an own property with this name in the local collection of attribute values\n\t * for the current instance.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _isInitialized\n\t * @param {String} attr The attribute which should be checked if it is initialized.\n\t * @protected\n\t * @return {Boolean} Returns true if the attribute has been initialized, false otherwise.\n\t */\n\t_isInitialized(attr) {\n\t\treturn Object.prototype.hasOwnProperty.call(this.__ATTRS__, attr);\n\t},\n};\n\nexport default Attribute;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst tableSelectionGetArrowBoxClasses = function() {\n\treturn 'ae-arrow-box ae-arrow-box-bottom';\n};\n\nconst SelectionGetArrowBoxClasses = {\n\ttable: tableSelectionGetArrowBoxClasses,\n};\n\nexport default SelectionGetArrowBoxClasses;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ReactDOM from 'react-dom';\n\n// Default gutter value for toolbar positioning\nconst DEFAULT_GUTTER = {\n\tleft: 0,\n\ttop: 0,\n};\n\n/**\n * Centers a Toolbar according to given rectangle\n *\n * @method centerToolbar\n * @param {Object} toolbar The toolbar to be centered\n * @param {Object} rect The rectangle according to which the Toolbar will be centered\n */\nconst centerToolbar = function(toolbar, rect) {\n\tconst toolbarNode = ReactDOM.findDOMNode(toolbar);\n\n\tconst nativeEditor = toolbar.context.editor.get('nativeEditor');\n\tconst uiNode = nativeEditor.config.uiNode || document.body;\n\tconst uiNodeStyle = getComputedStyle(uiNode);\n\tconst uiNodeMarginLeft = parseInt(\n\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t10\n\t);\n\tconst uiNodeMarginRight = parseInt(\n\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t10\n\t);\n\tconst totalWidth =\n\t\tuiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\tconst halfNodeWidth = toolbarNode.offsetWidth / 2;\n\tconst scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();\n\n\tconst gutter = toolbar.props.gutter || DEFAULT_GUTTER;\n\n\tconst widgetXY = toolbar.getWidgetXYPoint(\n\t\trect.left + rect.width / 2 - scrollPosition.x,\n\t\trect.top + scrollPosition.y,\n\t\tCKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t);\n\n\tconst caretPosition = nativeEditor.getSelection();\n\tconst ranges = caretPosition.getRanges();\n\tlet offsetHeight = 0;\n\n\tif (ranges && ranges.length === 1) {\n\t\tlet startContainer = ranges[0].startContainer;\n\t\tif (startContainer.$.nodeType !== Node.ELEMENT_NODE) {\n\t\t\tstartContainer = startContainer.getParent();\n\t\t}\n\t\tif (startContainer) {\n\t\t\tconst startContainerClientRect = startContainer.getClientRect();\n\t\t\toffsetHeight = startContainerClientRect.y - rect.top;\n\t\t}\n\t}\n\n\tconst endPosition = [\n\t\trect.left + rect.width / 2 - halfNodeWidth - scrollPosition.x,\n\t\trect.top +\n\t\t\toffsetHeight -\n\t\t\ttoolbarNode.offsetHeight +\n\t\t\tscrollPosition.y -\n\t\t\tgutter.top,\n\t];\n\n\tif (endPosition[0] < 0) {\n\t\tendPosition[0] = 0;\n\t} else if (endPosition[0] > totalWidth - toolbarNode.offsetWidth) {\n\t\tendPosition[0] = totalWidth - toolbarNode.offsetWidth;\n\t}\n\n\ttoolbar.moveToPoint(widgetXY, endPosition);\n};\n\n/**\n * Sets the position of a toolbar according to the position of the selected image\n *\n * @method imageSelectionSetPosition\n * @param {Object} payload Payload, should contain the selection data for retrieving the\n * client rectangle of the selected image\n * @return {Boolean} True, in all cases\n */\nconst imageSelectionSetPosition = function(payload) {\n\tconst selectionData = payload.selectionData\n\t\t? payload.selectionData\n\t\t: payload.editorEvent\n\t\t? payload.editorEvent.data.selectionData\n\t\t: null;\n\n\tif (selectionData && selectionData.element) {\n\t\tconst nativeEditor = payload.editor.get('nativeEditor');\n\t\tconst uiNode = nativeEditor.config.uiNode;\n\n\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\tconst rect = selectionData.element.getClientRect();\n\t\trect.top += scrollTop;\n\n\t\tcenterToolbar(this, rect);\n\n\t\treturn true;\n\t}\n};\n\n/**\n * Sets the position of a toolbar according to the position of the selected image\n *\n * @method tableSelectionSetPosition\n * @param {Object} payload Object, which contains the selection data for retrieving the\n * client rectangle of the selected table\n * @return {Boolean} True, in all cases\n */\nconst tableSelectionSetPosition = function(payload) {\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\tconst uiNode = nativeEditor.config.uiNode;\n\n\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\tconst table = new CKEDITOR.Table(nativeEditor).getFromSelection();\n\tconst rect = table.getClientRect();\n\trect.top += scrollTop;\n\n\tcenterToolbar(this, rect);\n\n\treturn true;\n};\n\nconst SelectionSetPosition = {\n\timage: imageSelectionSetPosition,\n\ttable: tableSelectionSetPosition,\n};\n\nexport default SelectionSetPosition;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport SelectionGetArrowBoxClasses from './selection-arrowbox';\nimport SelectionSetPosition from './selection-position';\nimport SelectionTest from './selection-test';\n\nconst Selections = [\n\t{\n\t\tname: 'embed',\n\t\tbuttons: ['embedRemove', 'embedEdit'],\n\t\ttest: SelectionTest.embed,\n\t},\n\t{\n\t\tname: 'embedUrl',\n\t\tbuttons: ['embedVideo', 'embedVideoEdit'],\n\t\ttest: SelectionTest.embedUrl,\n\t},\n\t{\n\t\tname: 'link',\n\t\tbuttons: ['linkEdit'],\n\t\ttest: SelectionTest.link,\n\t},\n\t{\n\t\tname: 'image',\n\t\tbuttons: ['imageLeft', 'imageCenter', 'imageRight', 'removeImage'],\n\t\tsetPosition: SelectionSetPosition.image,\n\t\ttest: SelectionTest.image,\n\t},\n\t{\n\t\tname: 'text',\n\t\tbuttons: {\n\t\t\tfull: [\n\t\t\t\t[\n\t\t\t\t\t'Font',\n\t\t\t\t\t'FontSize',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'bold',\n\t\t\t\t\t'italic',\n\t\t\t\t\t'underline',\n\t\t\t\t\t'strike',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'link',\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t'paragraphAlign',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'ul',\n\t\t\t\t\t'ol',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'h1',\n\t\t\t\t\t'h2',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'indentBlock',\n\t\t\t\t\t'outdentBlock',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'TextColor',\n\t\t\t\t\t'BGColor',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'code',\n\t\t\t\t\t'quote',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'removeFormat',\n\t\t\t\t],\n\t\t\t],\n\n\t\t\tsimple: ['styles', 'bold', 'italic', 'underline', 'link'],\n\t\t},\n\t\ttest: SelectionTest.text,\n\t},\n\t{\n\t\tname: 'table',\n\t\tbuttons: [\n\t\t\t'tableHeading',\n\t\t\t'tableRow',\n\t\t\t'tableColumn',\n\t\t\t'tableCell',\n\t\t\t'tableRemove',\n\t\t],\n\t\tgetArrowBoxClasses: SelectionGetArrowBoxClasses.table,\n\t\tsetPosition: SelectionSetPosition.table,\n\t\ttest: SelectionTest.table,\n\t},\n];\n\nexport default Selections;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport './addimages';\n\nimport './autolink';\n\nimport './autolist';\n\nimport './dragresize';\n\nimport './dragresize_ie';\n\nimport './dragresize_ie11';\n\nimport './embed';\nimport embedurl from './embedurl';\n\nimport './imagealignment';\n\nimport './pasteimages';\n\nimport './placeholder';\n\nimport './selectionkeystrokes';\n\nimport './tableresize';\n\nimport './tabletools';\n\nexport {embedurl};\n","import * as AlloyEditor from '../../src/adapter/main';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nif (typeof window !== 'undefined') {\n\twindow.CKEDITOR.disableAutoInline = true;\n\twindow.AlloyEditor = AlloyEditor;\n\tAlloyEditor.React = React;\n\tAlloyEditor.React.PropTypes = PropTypes;\n\tAlloyEditor.VERSION = require('./version');\n}\n\nexport {AlloyEditor};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nexport {default as ButtonActionStyle} from './button-action-style';\nexport {default as ButtonCommandActive} from './button-command-active';\nexport {default as ButtonCommand} from './button-command';\nexport {default as ButtonKeystroke} from './button-keystroke';\nexport {default as ButtonProps} from './button-props';\nexport {default as ButtonStateClasses} from './button-state-classes';\nexport {default as ButtonStyle} from './button-style';\nexport {default as ToolbarButtons} from './toolbar-buttons';\nexport {default as WidgetDropdown} from './widget-dropdown';\nexport {default as WidgetExclusive} from './widget-exclusive';\nexport {default as WidgetFocusManager} from './widget-focus-manager';\n","/** @license React v16.8.5\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var k=require(\"object-assign\"),n=\"function\"===typeof Symbol&&Symbol.for,p=n?Symbol.for(\"react.element\"):60103,q=n?Symbol.for(\"react.portal\"):60106,r=n?Symbol.for(\"react.fragment\"):60107,t=n?Symbol.for(\"react.strict_mode\"):60108,u=n?Symbol.for(\"react.profiler\"):60114,v=n?Symbol.for(\"react.provider\"):60109,w=n?Symbol.for(\"react.context\"):60110,x=n?Symbol.for(\"react.concurrent_mode\"):60111,y=n?Symbol.for(\"react.forward_ref\"):60112,z=n?Symbol.for(\"react.suspense\"):60113,aa=n?Symbol.for(\"react.memo\"):\n60115,ba=n?Symbol.for(\"react.lazy\"):60116,A=\"function\"===typeof Symbol&&Symbol.iterator;function ca(a,b,d,c,e,g,h,f){if(!a){a=void 0;if(void 0===b)a=Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var l=[d,c,e,g,h,f],m=0;a=Error(b.replace(/%s/g,function(){return l[m++]}));a.name=\"Invariant Violation\"}a.framesToPop=1;throw a;}}\nfunction B(a){for(var b=arguments.length-1,d=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=0;c<b;c++)d+=\"&args[]=\"+encodeURIComponent(arguments[c+1]);ca(!1,\"Minified React error #\"+a+\"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",d)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};\nfunction E(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}E.prototype.isReactComponent={};E.prototype.setState=function(a,b){\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a?B(\"85\"):void 0;this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}var H=G.prototype=new F;\nH.constructor=G;k(H,E.prototype);H.isPureReactComponent=!0;var I={current:null},J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,d){var c=void 0,e={},g=null,h=null;if(null!=b)for(c in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(g=\"\"+b.key),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=b[c]);var f=arguments.length-2;if(1===f)e.children=d;else if(1<f){for(var l=Array(f),m=0;m<f;m++)l[m]=arguments[m+2];e.children=l}if(a&&a.defaultProps)for(c in f=a.defaultProps,f)void 0===e[c]&&(e[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:h,props:e,_owner:J.current}}\nfunction da(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function N(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+a).replace(/[=:]/g,function(a){return b[a]})}var O=/\\/+/g,P=[];function Q(a,b,d,c){if(P.length){var e=P.pop();e.result=a;e.keyPrefix=b;e.func=d;e.context=c;e.count=0;return e}return{result:a,keyPrefix:b,func:d,context:c,count:0}}\nfunction R(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>P.length&&P.push(a)}\nfunction S(a,b,d,c){var e=typeof a;if(\"undefined\"===e||\"boolean\"===e)a=null;var g=!1;if(null===a)g=!0;else switch(e){case \"string\":case \"number\":g=!0;break;case \"object\":switch(a.$$typeof){case p:case q:g=!0}}if(g)return d(c,a,\"\"===b?\".\"+T(a,0):b),1;g=0;b=\"\"===b?\".\":b+\":\";if(Array.isArray(a))for(var h=0;h<a.length;h++){e=a[h];var f=b+T(e,h);g+=S(e,f,d,c)}else if(null===a||\"object\"!==typeof a?f=null:(f=A&&a[A]||a[\"@@iterator\"],f=\"function\"===typeof f?f:null),\"function\"===typeof f)for(a=f.call(a),h=\n0;!(e=a.next()).done;)e=e.value,f=b+T(e,h++),g+=S(e,f,d,c);else\"object\"===e&&(d=\"\"+a,B(\"31\",\"[object Object]\"===d?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":d,\"\"));return g}function U(a,b,d){return null==a?0:S(a,\"\",b,d)}function T(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function ea(a,b){a.func.call(a.context,b,a.count++)}\nfunction fa(a,b,d){var c=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?V(a,c,d,function(a){return a}):null!=a&&(N(a)&&(a=da(a,e+(!a.key||b&&b.key===a.key?\"\":(\"\"+a.key).replace(O,\"$&/\")+\"/\")+d)),c.push(a))}function V(a,b,d,c,e){var g=\"\";null!=d&&(g=(\"\"+d).replace(O,\"$&/\")+\"/\");b=Q(b,g,c,e);U(a,fa,b);R(b)}function W(){var a=I.current;null===a?B(\"321\"):void 0;return a}\nvar X={Children:{map:function(a,b,d){if(null==a)return a;var c=[];V(a,c,null,b,d);return c},forEach:function(a,b,d){if(null==a)return a;b=Q(null,null,b,d);U(a,ea,b);R(b)},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];V(a,b,null,function(a){return a});return b},only:function(a){N(a)?void 0:B(\"143\");return a}},createRef:function(){return{current:null}},Component:E,PureComponent:G,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,\n_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:v,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:y,render:a}},lazy:function(a){return{$$typeof:ba,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:aa,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return W().useCallback(a,b)},useContext:function(a,b){return W().useContext(a,b)},useEffect:function(a,b){return W().useEffect(a,b)},useImperativeHandle:function(a,\nb,d){return W().useImperativeHandle(a,b,d)},useDebugValue:function(){},useLayoutEffect:function(a,b){return W().useLayoutEffect(a,b)},useMemo:function(a,b){return W().useMemo(a,b)},useReducer:function(a,b,d){return W().useReducer(a,b,d)},useRef:function(a){return W().useRef(a)},useState:function(a){return W().useState(a)},Fragment:r,StrictMode:t,Suspense:z,createElement:M,cloneElement:function(a,b,d){null===a||void 0===a?B(\"267\",a):void 0;var c=void 0,e=k({},a.props),g=a.key,h=a.ref,f=a._owner;if(null!=\nb){void 0!==b.ref&&(h=b.ref,f=J.current);void 0!==b.key&&(g=\"\"+b.key);var l=void 0;a.type&&a.type.defaultProps&&(l=a.type.defaultProps);for(c in b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==l?l[c]:b[c])}c=arguments.length-2;if(1===c)e.children=d;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];e.children=l}return{$$typeof:p,type:a.type,key:g,ref:h,props:e,_owner:f}},createFactory:function(a){var b=M.bind(null,a);b.type=a;return b},isValidElement:N,version:\"16.8.5\",\nunstable_ConcurrentMode:x,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentOwner:J,assign:k}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z;\n","/** @license React v16.8.5\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),n=require(\"object-assign\"),r=require(\"scheduler\");function ba(a,b,c,d,e,f,g,h){if(!a){a=void 0;if(void 0===b)a=Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var l=[c,d,e,f,g,h],k=0;a=Error(b.replace(/%s/g,function(){return l[k++]}));a.name=\"Invariant Violation\"}a.framesToPop=1;throw a;}}\nfunction x(a){for(var b=arguments.length-1,c=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,d=0;d<b;d++)c+=\"&args[]=\"+encodeURIComponent(arguments[d+1]);ba(!1,\"Minified React error #\"+a+\"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",c)}aa?void 0:x(\"227\");function ca(a,b,c,d,e,f,g,h,l){var k=Array.prototype.slice.call(arguments,3);try{b.apply(c,k)}catch(m){this.onError(m)}}\nvar da=!1,ea=null,fa=!1,ha=null,ia={onError:function(a){da=!0;ea=a}};function ja(a,b,c,d,e,f,g,h,l){da=!1;ea=null;ca.apply(ia,arguments)}function ka(a,b,c,d,e,f,g,h,l){ja.apply(this,arguments);if(da){if(da){var k=ea;da=!1;ea=null}else x(\"198\"),k=void 0;fa||(fa=!0,ha=k)}}var la=null,ma={};\nfunction na(){if(la)for(var a in ma){var b=ma[a],c=la.indexOf(a);-1<c?void 0:x(\"96\",a);if(!oa[c]){b.extractEvents?void 0:x(\"97\",a);oa[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;pa.hasOwnProperty(h)?x(\"99\",h):void 0;pa[h]=f;var l=f.phasedRegistrationNames;if(l){for(e in l)l.hasOwnProperty(e)&&qa(l[e],g,h);e=!0}else f.registrationName?(qa(f.registrationName,g,h),e=!0):e=!1;e?void 0:x(\"98\",d,a)}}}}\nfunction qa(a,b,c){ra[a]?x(\"100\",a):void 0;ra[a]=b;sa[a]=b.eventTypes[c].dependencies}var oa=[],pa={},ra={},sa={},ta=null,ua=null,va=null;function wa(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=va(c);ka(d,b,void 0,a);a.currentTarget=null}function xa(a,b){null==b?x(\"30\"):void 0;if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}\nfunction ya(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var za=null;function Aa(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)wa(a,b[d],c[d]);else b&&wa(a,b,c);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}}\nvar Ba={injectEventPluginOrder:function(a){la?x(\"101\"):void 0;la=Array.prototype.slice.call(a);na()},injectEventPluginsByName:function(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];ma.hasOwnProperty(c)&&ma[c]===d||(ma[c]?x(\"102\",c):void 0,ma[c]=d,b=!0)}b&&na()}};\nfunction Ca(a,b){var c=a.stateNode;if(!c)return null;var d=ta(c);if(!d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;c&&\"function\"!==typeof c?x(\"231\",b,typeof c):void 0;\nreturn c}function Da(a){null!==a&&(za=xa(za,a));a=za;za=null;if(a&&(ya(a,Aa),za?x(\"95\"):void 0,fa))throw a=ha,fa=!1,ha=null,a;}var Ea=Math.random().toString(36).slice(2),Fa=\"__reactInternalInstance$\"+Ea,Ga=\"__reactEventHandlers$\"+Ea;function Ha(a){if(a[Fa])return a[Fa];for(;!a[Fa];)if(a.parentNode)a=a.parentNode;else return null;a=a[Fa];return 5===a.tag||6===a.tag?a:null}function Ia(a){a=a[Fa];return!a||5!==a.tag&&6!==a.tag?null:a}\nfunction Ja(a){if(5===a.tag||6===a.tag)return a.stateNode;x(\"33\")}function Ka(a){return a[Ga]||null}function La(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}function Ma(a,b,c){if(b=Ca(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a)}\nfunction Na(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=La(b);for(b=c.length;0<b--;)Ma(c[b],\"captured\",a);for(b=0;b<c.length;b++)Ma(c[b],\"bubbled\",a)}}function Oa(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Ca(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a))}function Pa(a){a&&a.dispatchConfig.registrationName&&Oa(a._targetInst,null,a)}\nfunction Qa(a){ya(a,Na)}var Ra=!(\"undefined\"===typeof window||!window.document||!window.document.createElement);function Sa(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ta={animationend:Sa(\"Animation\",\"AnimationEnd\"),animationiteration:Sa(\"Animation\",\"AnimationIteration\"),animationstart:Sa(\"Animation\",\"AnimationStart\"),transitionend:Sa(\"Transition\",\"TransitionEnd\")},Ua={},Va={};\nRa&&(Va=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),\"TransitionEvent\"in window||delete Ta.transitionend.transition);function Wa(a){if(Ua[a])return Ua[a];if(!Ta[a])return a;var b=Ta[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Va)return Ua[a]=b[c];return a}\nvar Xa=Wa(\"animationend\"),Ya=Wa(\"animationiteration\"),Za=Wa(\"animationstart\"),$a=Wa(\"transitionend\"),ab=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),bb=null,cb=null,db=null;\nfunction eb(){if(db)return db;var a,b=cb,c=b.length,d,e=\"value\"in bb?bb.value:bb.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return db=e.slice(a,1<d?1-d:void 0)}function fb(){return!0}function gb(){return!1}\nfunction y(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):\"target\"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?fb:gb;this.isPropagationStopped=gb;return this}\nn(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=fb)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=fb)},persist:function(){this.isPersistent=fb},isPersistent:gb,destructor:function(){var a=this.constructor.Interface,\nb;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=gb;this._dispatchInstances=this._dispatchListeners=null}});y.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};\ny.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;n(e,c.prototype);c.prototype=e;c.prototype.constructor=c;c.Interface=n({},d.Interface,a);c.extend=d.extend;hb(c);return c};hb(y);function ib(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function jb(a){a instanceof this?void 0:x(\"279\");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}\nfunction hb(a){a.eventPool=[];a.getPooled=ib;a.release=jb}var kb=y.extend({data:null}),lb=y.extend({data:null}),mb=[9,13,27,32],nb=Ra&&\"CompositionEvent\"in window,ob=null;Ra&&\"documentMode\"in document&&(ob=document.documentMode);\nvar pb=Ra&&\"TextEvent\"in window&&!ob,qb=Ra&&(!nb||ob&&8<ob&&11>=ob),rb=String.fromCharCode(32),sb={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"blur compositionend keydown keypress keyup mousedown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",\ncaptured:\"onCompositionStartCapture\"},dependencies:\"blur compositionstart keydown keypress keyup mousedown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")}},tb=!1;\nfunction ub(a,b){switch(a){case \"keyup\":return-1!==mb.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"blur\":return!0;default:return!1}}function vb(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var wb=!1;function xb(a,b){switch(a){case \"compositionend\":return vb(b);case \"keypress\":if(32!==b.which)return null;tb=!0;return rb;case \"textInput\":return a=b.data,a===rb&&tb?null:a;default:return null}}\nfunction yb(a,b){if(wb)return\"compositionend\"===a||!nb&&ub(a,b)?(a=eb(),db=cb=bb=null,wb=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return qb&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar zb={eventTypes:sb,extractEvents:function(a,b,c,d){var e=void 0;var f=void 0;if(nb)b:{switch(a){case \"compositionstart\":e=sb.compositionStart;break b;case \"compositionend\":e=sb.compositionEnd;break b;case \"compositionupdate\":e=sb.compositionUpdate;break b}e=void 0}else wb?ub(a,c)&&(e=sb.compositionEnd):\"keydown\"===a&&229===c.keyCode&&(e=sb.compositionStart);e?(qb&&\"ko\"!==c.locale&&(wb||e!==sb.compositionStart?e===sb.compositionEnd&&wb&&(f=eb()):(bb=d,cb=\"value\"in bb?bb.value:bb.textContent,wb=\n!0)),e=kb.getPooled(e,b,c,d),f?e.data=f:(f=vb(c),null!==f&&(e.data=f)),Qa(e),f=e):f=null;(a=pb?xb(a,c):yb(a,c))?(b=lb.getPooled(sb.beforeInput,b,c,d),b.data=a,Qa(b)):b=null;return null===f?b:null===b?f:[f,b]}},Ab=null,Bb=null,Cb=null;function Db(a){if(a=ua(a)){\"function\"!==typeof Ab?x(\"280\"):void 0;var b=ta(a.stateNode);Ab(a.stateNode,a.type,b)}}function Eb(a){Bb?Cb?Cb.push(a):Cb=[a]:Bb=a}function Fb(){if(Bb){var a=Bb,b=Cb;Cb=Bb=null;Db(a);if(b)for(a=0;a<b.length;a++)Db(b[a])}}\nfunction Gb(a,b){return a(b)}function Hb(a,b,c){return a(b,c)}function Ib(){}var Jb=!1;function Kb(a,b){if(Jb)return a(b);Jb=!0;try{return Gb(a,b)}finally{if(Jb=!1,null!==Bb||null!==Cb)Ib(),Fb()}}var Lb={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mb(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!Lb[a.type]:\"textarea\"===b?!0:!1}\nfunction Nb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function Ob(a){if(!Ra)return!1;a=\"on\"+a;var b=a in document;b||(b=document.createElement(\"div\"),b.setAttribute(a,\"return;\"),b=\"function\"===typeof b[a]);return b}function Pb(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Qb(a){var b=Pb(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Rb(a){a._valueTracker||(a._valueTracker=Qb(a))}function Sb(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Pb(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}var Tb=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Tb.hasOwnProperty(\"ReactCurrentDispatcher\")||(Tb.ReactCurrentDispatcher={current:null});\nvar Ub=/^(.*)[\\\\\\/]/,z=\"function\"===typeof Symbol&&Symbol.for,Vb=z?Symbol.for(\"react.element\"):60103,Wb=z?Symbol.for(\"react.portal\"):60106,Xb=z?Symbol.for(\"react.fragment\"):60107,Yb=z?Symbol.for(\"react.strict_mode\"):60108,Zb=z?Symbol.for(\"react.profiler\"):60114,$b=z?Symbol.for(\"react.provider\"):60109,ac=z?Symbol.for(\"react.context\"):60110,bc=z?Symbol.for(\"react.concurrent_mode\"):60111,cc=z?Symbol.for(\"react.forward_ref\"):60112,dc=z?Symbol.for(\"react.suspense\"):60113,ec=z?Symbol.for(\"react.memo\"):\n60115,fc=z?Symbol.for(\"react.lazy\"):60116,gc=\"function\"===typeof Symbol&&Symbol.iterator;function hc(a){if(null===a||\"object\"!==typeof a)return null;a=gc&&a[gc]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nfunction ic(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case bc:return\"ConcurrentMode\";case Xb:return\"Fragment\";case Wb:return\"Portal\";case Zb:return\"Profiler\";case Yb:return\"StrictMode\";case dc:return\"Suspense\"}if(\"object\"===typeof a)switch(a.$$typeof){case ac:return\"Context.Consumer\";case $b:return\"Context.Provider\";case cc:var b=a.render;b=b.displayName||b.name||\"\";return a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\n\")\":\"ForwardRef\");case ec:return ic(a.type);case fc:if(a=1===a._status?a._result:null)return ic(a)}return null}function jc(a){var b=\"\";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c=\"\";break a;default:var d=a._debugOwner,e=a._debugSource,f=ic(a.type);c=null;d&&(c=ic(d.type));d=f;f=\"\";e?f=\" (at \"+e.fileName.replace(Ub,\"\")+\":\"+e.lineNumber+\")\":c&&(f=\" (created by \"+c+\")\");c=\"\\n    in \"+(d||\"Unknown\")+f}b+=c;a=a.return}while(a);return b}\nvar kc=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,lc=Object.prototype.hasOwnProperty,mc={},nc={};\nfunction oc(a){if(lc.call(nc,a))return!0;if(lc.call(mc,a))return!1;if(kc.test(a))return nc[a]=!0;mc[a]=!0;return!1}function pc(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qc(a,b,c,d){if(null===b||\"undefined\"===typeof b||pc(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function C(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new C(a,0,!1,a,null)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new C(b,1,!1,a[1],null)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new C(a,2,!1,a.toLowerCase(),null)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new C(a,2,!1,a,null)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new C(a,3,!1,a.toLowerCase(),null)});[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new C(a,3,!0,a,null)});\n[\"capture\",\"download\"].forEach(function(a){D[a]=new C(a,4,!1,a,null)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new C(a,6,!1,a,null)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new C(a,5,!1,a.toLowerCase(),null)});var rc=/[\\-:]([a-z])/g;function sc(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(rc,\nsc);D[b]=new C(b,1,!1,a,null)});\"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(rc,sc);D[b]=new C(b,1,!1,a,\"http://www.w3.org/1999/xlink\")});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(rc,sc);D[b]=new C(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\")});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new C(a,1,!1,a.toLowerCase(),null)});\nfunction tc(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(qc(b,c,e,d)&&(c=null),d||null===e?oc(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nfunction uc(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function vc(a,b){var c=b.checked;return n({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}\nfunction wc(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=uc(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function xc(a,b){b=b.checked;null!=b&&tc(a,\"checked\",b,!1)}\nfunction yc(a,b){xc(a,b);var c=uc(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?zc(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&zc(a,b.type,uc(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction Ac(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction zc(a,b,c){if(\"number\"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var Bc={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"blur change click focus input keydown keyup selectionchange\".split(\" \")}};function Cc(a,b,c){a=y.getPooled(Bc.change,a,b,c);a.type=\"change\";Eb(c);Qa(a);return a}var Dc=null,Ec=null;function Fc(a){Da(a)}\nfunction Gc(a){var b=Ja(a);if(Sb(b))return a}function Hc(a,b){if(\"change\"===a)return b}var Ic=!1;Ra&&(Ic=Ob(\"input\")&&(!document.documentMode||9<document.documentMode));function Jc(){Dc&&(Dc.detachEvent(\"onpropertychange\",Kc),Ec=Dc=null)}function Kc(a){\"value\"===a.propertyName&&Gc(Ec)&&(a=Cc(Ec,a,Nb(a)),Kb(Fc,a))}function Lc(a,b,c){\"focus\"===a?(Jc(),Dc=b,Ec=c,Dc.attachEvent(\"onpropertychange\",Kc)):\"blur\"===a&&Jc()}function Mc(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return Gc(Ec)}\nfunction Nc(a,b){if(\"click\"===a)return Gc(b)}function Oc(a,b){if(\"input\"===a||\"change\"===a)return Gc(b)}\nvar Pc={eventTypes:Bc,_isInputEventSupported:Ic,extractEvents:function(a,b,c,d){var e=b?Ja(b):window,f=void 0,g=void 0,h=e.nodeName&&e.nodeName.toLowerCase();\"select\"===h||\"input\"===h&&\"file\"===e.type?f=Hc:Mb(e)?Ic?f=Oc:(f=Mc,g=Lc):(h=e.nodeName)&&\"input\"===h.toLowerCase()&&(\"checkbox\"===e.type||\"radio\"===e.type)&&(f=Nc);if(f&&(f=f(a,b)))return Cc(f,c,d);g&&g(a,e,b);\"blur\"===a&&(a=e._wrapperState)&&a.controlled&&\"number\"===e.type&&zc(e,\"number\",e.value)}},Qc=y.extend({view:null,detail:null}),Rc={Alt:\"altKey\",\nControl:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Sc(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Rc[a])?!!b[a]:!1}function Tc(){return Sc}\nvar Uc=0,Vc=0,Wc=!1,Xc=!1,Yc=Qc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Tc,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if(\"movementX\"in a)return a.movementX;var b=Uc;Uc=a.screenX;return Wc?\"mousemove\"===a.type?a.screenX-b:0:(Wc=!0,0)},movementY:function(a){if(\"movementY\"in a)return a.movementY;\nvar b=Vc;Vc=a.screenY;return Xc?\"mousemove\"===a.type?a.screenY-b:0:(Xc=!0,0)}}),Zc=Yc.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$c={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"mouseout\",\"mouseover\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"mouseout\",\"mouseover\"]},pointerEnter:{registrationName:\"onPointerEnter\",dependencies:[\"pointerout\",\"pointerover\"]},pointerLeave:{registrationName:\"onPointerLeave\",\ndependencies:[\"pointerout\",\"pointerover\"]}},ad={eventTypes:$c,extractEvents:function(a,b,c,d){var e=\"mouseover\"===a||\"pointerover\"===a,f=\"mouseout\"===a||\"pointerout\"===a;if(e&&(c.relatedTarget||c.fromElement)||!f&&!e)return null;e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;f?(f=b,b=(b=c.relatedTarget||c.toElement)?Ha(b):null):f=null;if(f===b)return null;var g=void 0,h=void 0,l=void 0,k=void 0;if(\"mouseout\"===a||\"mouseover\"===a)g=Yc,h=$c.mouseLeave,l=$c.mouseEnter,k=\"mouse\";\nelse if(\"pointerout\"===a||\"pointerover\"===a)g=Zc,h=$c.pointerLeave,l=$c.pointerEnter,k=\"pointer\";var m=null==f?e:Ja(f);e=null==b?e:Ja(b);a=g.getPooled(h,f,c,d);a.type=k+\"leave\";a.target=m;a.relatedTarget=e;c=g.getPooled(l,b,c,d);c.type=k+\"enter\";c.target=e;c.relatedTarget=m;d=b;if(f&&d)a:{b=f;e=d;k=0;for(g=b;g;g=La(g))k++;g=0;for(l=e;l;l=La(l))g++;for(;0<k-g;)b=La(b),k--;for(;0<g-k;)e=La(e),g--;for(;k--;){if(b===e||b===e.alternate)break a;b=La(b);e=La(e)}b=null}else b=null;e=b;for(b=[];f&&f!==e;){k=\nf.alternate;if(null!==k&&k===e)break;b.push(f);f=La(f)}for(f=[];d&&d!==e;){k=d.alternate;if(null!==k&&k===e)break;f.push(d);d=La(d)}for(d=0;d<b.length;d++)Oa(b[d],\"bubbled\",a);for(d=f.length;0<d--;)Oa(f[d],\"captured\",c);return[a,c]}};function bd(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var cd=Object.prototype.hasOwnProperty;\nfunction dd(a,b){if(bd(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!cd.call(b,c[d])||!bd(a[c[d]],b[c[d]]))return!1;return!0}function ed(a){var b=a;if(a.alternate)for(;b.return;)b=b.return;else{if(0!==(b.effectTag&2))return 1;for(;b.return;)if(b=b.return,0!==(b.effectTag&2))return 1}return 3===b.tag?2:3}function fd(a){2!==ed(a)?x(\"188\"):void 0}\nfunction gd(a){var b=a.alternate;if(!b)return b=ed(a),3===b?x(\"188\"):void 0,1===b?null:a;for(var c=a,d=b;;){var e=c.return,f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return fd(e),a;if(g===d)return fd(e),b;g=g.sibling}x(\"188\")}if(c.return!==d.return)c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}g?\nvoid 0:x(\"189\")}}c.alternate!==d?x(\"190\"):void 0}3!==c.tag?x(\"188\"):void 0;return c.stateNode.current===c?a:b}function hd(a){a=gd(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nvar id=y.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jd=y.extend({clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),kd=Qc.extend({relatedTarget:null});function ld(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}\nvar md={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",\n116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},od=Qc.extend({key:function(a){if(a.key){var b=md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=ld(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?nd[a.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Tc,charCode:function(a){return\"keypress\"===\na.type?ld(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===a.type?ld(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),pd=Yc.extend({dataTransfer:null}),qd=Qc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Tc}),rd=y.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sd=Yc.extend({deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in\na?-a.wheelDeltaX:0},deltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),td=[[\"abort\",\"abort\"],[Xa,\"animationEnd\"],[Ya,\"animationIteration\"],[Za,\"animationStart\"],[\"canplay\",\"canPlay\"],[\"canplaythrough\",\"canPlayThrough\"],[\"drag\",\"drag\"],[\"dragenter\",\"dragEnter\"],[\"dragexit\",\"dragExit\"],[\"dragleave\",\"dragLeave\"],[\"dragover\",\"dragOver\"],[\"durationchange\",\"durationChange\"],[\"emptied\",\"emptied\"],[\"encrypted\",\"encrypted\"],\n[\"ended\",\"ended\"],[\"error\",\"error\"],[\"gotpointercapture\",\"gotPointerCapture\"],[\"load\",\"load\"],[\"loadeddata\",\"loadedData\"],[\"loadedmetadata\",\"loadedMetadata\"],[\"loadstart\",\"loadStart\"],[\"lostpointercapture\",\"lostPointerCapture\"],[\"mousemove\",\"mouseMove\"],[\"mouseout\",\"mouseOut\"],[\"mouseover\",\"mouseOver\"],[\"playing\",\"playing\"],[\"pointermove\",\"pointerMove\"],[\"pointerout\",\"pointerOut\"],[\"pointerover\",\"pointerOver\"],[\"progress\",\"progress\"],[\"scroll\",\"scroll\"],[\"seeking\",\"seeking\"],[\"stalled\",\"stalled\"],\n[\"suspend\",\"suspend\"],[\"timeupdate\",\"timeUpdate\"],[\"toggle\",\"toggle\"],[\"touchmove\",\"touchMove\"],[$a,\"transitionEnd\"],[\"waiting\",\"waiting\"],[\"wheel\",\"wheel\"]],ud={},vd={};function wd(a,b){var c=a[0];a=a[1];var d=\"on\"+(a[0].toUpperCase()+a.slice(1));b={phasedRegistrationNames:{bubbled:d,captured:d+\"Capture\"},dependencies:[c],isInteractive:b};ud[a]=b;vd[c]=b}\n[[\"blur\",\"blur\"],[\"cancel\",\"cancel\"],[\"click\",\"click\"],[\"close\",\"close\"],[\"contextmenu\",\"contextMenu\"],[\"copy\",\"copy\"],[\"cut\",\"cut\"],[\"auxclick\",\"auxClick\"],[\"dblclick\",\"doubleClick\"],[\"dragend\",\"dragEnd\"],[\"dragstart\",\"dragStart\"],[\"drop\",\"drop\"],[\"focus\",\"focus\"],[\"input\",\"input\"],[\"invalid\",\"invalid\"],[\"keydown\",\"keyDown\"],[\"keypress\",\"keyPress\"],[\"keyup\",\"keyUp\"],[\"mousedown\",\"mouseDown\"],[\"mouseup\",\"mouseUp\"],[\"paste\",\"paste\"],[\"pause\",\"pause\"],[\"play\",\"play\"],[\"pointercancel\",\"pointerCancel\"],\n[\"pointerdown\",\"pointerDown\"],[\"pointerup\",\"pointerUp\"],[\"ratechange\",\"rateChange\"],[\"reset\",\"reset\"],[\"seeked\",\"seeked\"],[\"submit\",\"submit\"],[\"touchcancel\",\"touchCancel\"],[\"touchend\",\"touchEnd\"],[\"touchstart\",\"touchStart\"],[\"volumechange\",\"volumeChange\"]].forEach(function(a){wd(a,!0)});td.forEach(function(a){wd(a,!1)});\nvar xd={eventTypes:ud,isInteractiveTopLevelEventType:function(a){a=vd[a];return void 0!==a&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=vd[a];if(!e)return null;switch(a){case \"keypress\":if(0===ld(c))return null;case \"keydown\":case \"keyup\":a=od;break;case \"blur\":case \"focus\":a=kd;break;case \"click\":if(2===c.button)return null;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":a=Yc;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":a=\npd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":a=qd;break;case Xa:case Ya:case Za:a=id;break;case $a:a=rd;break;case \"scroll\":a=Qc;break;case \"wheel\":a=sd;break;case \"copy\":case \"cut\":case \"paste\":a=jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":a=Zc;break;default:a=y}b=a.getPooled(e,b,c,d);Qa(b);return b}},yd=xd.isInteractiveTopLevelEventType,\nzd=[];function Ad(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d;for(d=c;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo;if(!d)break;a.ancestors.push(c);c=Ha(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=Nb(a.nativeEvent);d=a.topLevelType;for(var f=a.nativeEvent,g=null,h=0;h<oa.length;h++){var l=oa[h];l&&(l=l.extractEvents(d,b,f,e))&&(g=xa(g,l))}Da(g)}}var Bd=!0;\nfunction E(a,b){if(!b)return null;var c=(yd(a)?Cd:Dd).bind(null,a);b.addEventListener(a,c,!1)}function Ed(a,b){if(!b)return null;var c=(yd(a)?Cd:Dd).bind(null,a);b.addEventListener(a,c,!0)}function Cd(a,b){Hb(Dd,a,b)}\nfunction Dd(a,b){if(Bd){var c=Nb(b);c=Ha(c);null===c||\"number\"!==typeof c.tag||2===ed(c)||(c=null);if(zd.length){var d=zd.pop();d.topLevelType=a;d.nativeEvent=b;d.targetInst=c;a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{Kb(Ad,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>zd.length&&zd.push(a)}}}var Fd={},Gd=0,Hd=\"_reactListenersID\"+(\"\"+Math.random()).slice(2);\nfunction Id(a){Object.prototype.hasOwnProperty.call(a,Hd)||(a[Hd]=Gd++,Fd[a[Hd]]={});return Fd[a[Hd]]}function Jd(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Kd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ld(a,b){var c=Kd(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Kd(c)}}function Md(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Md(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Nd(){for(var a=window,b=Jd();b instanceof a.HTMLIFrameElement;){try{a=b.contentDocument.defaultView}catch(c){break}b=Jd(a.document)}return b}function Od(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Pd(){var a=Nd();if(Od(a)){if(\"selectionStart\"in a)var b={start:a.selectionStart,end:a.selectionEnd};else a:{b=(b=a.ownerDocument)&&b.defaultView||window;var c=b.getSelection&&b.getSelection();if(c&&0!==c.rangeCount){b=c.anchorNode;var d=c.anchorOffset,e=c.focusNode;c=c.focusOffset;try{b.nodeType,e.nodeType}catch(A){b=null;break a}var f=0,g=-1,h=-1,l=0,k=0,m=a,p=null;b:for(;;){for(var t;;){m!==b||0!==d&&3!==m.nodeType||(g=f+d);m!==e||0!==c&&3!==m.nodeType||(h=f+c);3===m.nodeType&&(f+=m.nodeValue.length);\nif(null===(t=m.firstChild))break;p=m;m=t}for(;;){if(m===a)break b;p===b&&++l===d&&(g=f);p===e&&++k===c&&(h=f);if(null!==(t=m.nextSibling))break;m=p;p=m.parentNode}m=t}b=-1===g||-1===h?null:{start:g,end:h}}else b=null}b=b||{start:0,end:0}}else b=null;return{focusedElem:a,selectionRange:b}}\nfunction Qd(a){var b=Nd(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Md(c.ownerDocument.documentElement,c)){if(null!==d&&Od(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ld(c,f);var g=Ld(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Rd=Ra&&\"documentMode\"in document&&11>=document.documentMode,Sd={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")}},Td=null,Ud=null,Vd=null,Wd=!1;\nfunction Xd(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if(Wd||null==Td||Td!==Jd(c))return null;c=Td;\"selectionStart\"in c&&Od(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return Vd&&dd(Vd,c)?null:(Vd=c,a=y.getPooled(Sd.select,Ud,a,b),a.type=\"select\",a.target=Td,Qa(a),a)}\nvar Yd={eventTypes:Sd,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument,f;if(!(f=!e)){a:{e=Id(e);f=sa.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;e=b?Ja(b):window;switch(a){case \"focus\":if(Mb(e)||\"true\"===e.contentEditable)Td=e,Ud=b,Vd=null;break;case \"blur\":Vd=Ud=Td=null;break;case \"mousedown\":Wd=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":return Wd=!1,Xd(c,d);case \"selectionchange\":if(Rd)break;\ncase \"keydown\":case \"keyup\":return Xd(c,d)}return null}};Ba.injectEventPluginOrder(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \"));ta=Ka;ua=Ia;va=Ja;Ba.injectEventPluginsByName({SimpleEventPlugin:xd,EnterLeaveEventPlugin:ad,ChangeEventPlugin:Pc,SelectEventPlugin:Yd,BeforeInputEventPlugin:zb});function Zd(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}\nfunction $d(a,b){a=n({children:void 0},b);if(b=Zd(b.children))a.children=b;return a}function ae(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+uc(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction be(a,b){null!=b.dangerouslySetInnerHTML?x(\"91\"):void 0;return n({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function ce(a,b){var c=b.value;null==c&&(c=b.defaultValue,b=b.children,null!=b&&(null!=c?x(\"92\"):void 0,Array.isArray(b)&&(1>=b.length?void 0:x(\"93\"),b=b[0]),c=b),null==c&&(c=\"\"));a._wrapperState={initialValue:uc(c)}}\nfunction de(a,b){var c=uc(b.value),d=uc(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function ee(a){var b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b)}var fe={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction ge(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function he(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?ge(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar ie=void 0,je=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==fe.svg||\"innerHTML\"in a)a.innerHTML=b;else{ie=ie||document.createElement(\"div\");ie.innerHTML=\"<svg>\"+b+\"</svg>\";for(b=ie.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ke(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar le={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(le).forEach(function(a){me.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);le[b]=le[a]})});function ne(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||le.hasOwnProperty(a)&&le[a]?(\"\"+b).trim():b+\"px\"}\nfunction oe(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=ne(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var pe=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction qe(a,b){b&&(pe[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?x(\"137\",a,\"\"):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?x(\"60\"):void 0,\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML?void 0:x(\"61\")),null!=b.style&&\"object\"!==typeof b.style?x(\"62\",\"\"):void 0)}\nfunction re(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}\nfunction se(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=Id(a);b=sa[b];for(var d=0;d<b.length;d++){var e=b[d];if(!c.hasOwnProperty(e)||!c[e]){switch(e){case \"scroll\":Ed(\"scroll\",a);break;case \"focus\":case \"blur\":Ed(\"focus\",a);Ed(\"blur\",a);c.blur=!0;c.focus=!0;break;case \"cancel\":case \"close\":Ob(e)&&Ed(e,a);break;case \"invalid\":case \"submit\":case \"reset\":break;default:-1===ab.indexOf(e)&&E(e,a)}c[e]=!0}}}function te(){}var ue=null,ve=null;\nfunction we(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}function xe(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar ye=\"function\"===typeof setTimeout?setTimeout:void 0,ze=\"function\"===typeof clearTimeout?clearTimeout:void 0,Ae=r.unstable_scheduleCallback,Be=r.unstable_cancelCallback;\nfunction Ce(a,b,c,d,e){a[Ga]=e;\"input\"===c&&\"radio\"===e.type&&null!=e.name&&xc(a,e);re(c,d);d=re(c,e);for(var f=0;f<b.length;f+=2){var g=b[f],h=b[f+1];\"style\"===g?oe(a,h):\"dangerouslySetInnerHTML\"===g?je(a,h):\"children\"===g?ke(a,h):tc(a,g,h,d)}switch(c){case \"input\":yc(a,e);break;case \"textarea\":de(a,e);break;case \"select\":b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,c=e.value,null!=c?ae(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?ae(a,!!e.multiple,e.defaultValue,\n!0):ae(a,!!e.multiple,e.multiple?[]:\"\",!1))}}function De(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function Ee(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}new Set;var Fe=[],Ge=-1;function F(a){0>Ge||(a.current=Fe[Ge],Fe[Ge]=null,Ge--)}function G(a,b){Ge++;Fe[Ge]=a.current;a.current=b}var He={},H={current:He},I={current:!1},Ie=He;\nfunction Je(a,b){var c=a.type.contextTypes;if(!c)return He;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function J(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Ke(a){F(I,a);F(H,a)}function Le(a){F(I,a);F(H,a)}\nfunction Me(a,b,c){H.current!==He?x(\"168\"):void 0;G(H,b,a);G(I,c,a)}function Ne(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)e in a?void 0:x(\"108\",ic(b)||\"Unknown\",e);return n({},c,d)}function Oe(a){var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||He;Ie=H.current;G(H,b,a);G(I,I.current,a);return!0}\nfunction Pe(a,b,c){var d=a.stateNode;d?void 0:x(\"169\");c?(b=Ne(a,b,Ie),d.__reactInternalMemoizedMergedChildContext=b,F(I,a),F(H,a),G(H,b,a)):F(I,a);G(I,c,a)}var Qe=null,Re=null;function Se(a){return function(b){try{return a(b)}catch(c){}}}\nfunction Te(a){if(\"undefined\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);Qe=Se(function(a){return b.onCommitFiberRoot(c,a)});Re=Se(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}\nfunction Ue(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function K(a,b,c,d){return new Ue(a,b,c,d)}\nfunction Ve(a){a=a.prototype;return!(!a||!a.isReactComponent)}function We(a){if(\"function\"===typeof a)return Ve(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===cc)return 11;if(a===ec)return 14}return 2}\nfunction Xe(a,b){var c=a.alternate;null===c?(c=K(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;c.contextDependencies=a.contextDependencies;c.sibling=a.sibling;\nc.index=a.index;c.ref=a.ref;return c}\nfunction Ye(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)Ve(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case Xb:return Ze(c.children,e,f,b);case bc:return $e(c,e|3,f,b);case Yb:return $e(c,e|2,f,b);case Zb:return a=K(12,c,b,e|4),a.elementType=Zb,a.type=Zb,a.expirationTime=f,a;case dc:return a=K(13,c,b,e),a.elementType=dc,a.type=dc,a.expirationTime=f,a;default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case $b:g=10;break a;case ac:g=9;break a;case cc:g=11;break a;case ec:g=\n14;break a;case fc:g=16;d=null;break a}x(\"130\",null==a?a:typeof a,\"\")}b=K(g,c,b,e);b.elementType=a;b.type=d;b.expirationTime=f;return b}function Ze(a,b,c,d){a=K(7,a,d,b);a.expirationTime=c;return a}function $e(a,b,c,d){a=K(8,a,d,b);b=0===(b&1)?Yb:bc;a.elementType=b;a.type=b;a.expirationTime=c;return a}function af(a,b,c){a=K(6,a,null,b);a.expirationTime=c;return a}\nfunction bf(a,b,c){b=K(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function cf(a,b){a.didError=!1;var c=a.earliestPendingTime;0===c?a.earliestPendingTime=a.latestPendingTime=b:c<b?a.earliestPendingTime=b:a.latestPendingTime>b&&(a.latestPendingTime=b);df(b,a)}\nfunction ef(a,b){a.didError=!1;if(0===b)a.earliestPendingTime=0,a.latestPendingTime=0,a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0;else{b<a.latestPingedTime&&(a.latestPingedTime=0);var c=a.latestPendingTime;0!==c&&(c>b?a.earliestPendingTime=a.latestPendingTime=0:a.earliestPendingTime>b&&(a.earliestPendingTime=a.latestPendingTime));c=a.earliestSuspendedTime;0===c?cf(a,b):b<a.latestSuspendedTime?(a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0,cf(a,b)):\nb>c&&cf(a,b)}df(0,a)}function ff(a,b){a.didError=!1;a.latestPingedTime>=b&&(a.latestPingedTime=0);var c=a.earliestPendingTime,d=a.latestPendingTime;c===b?a.earliestPendingTime=d===b?a.latestPendingTime=0:d:d===b&&(a.latestPendingTime=c);c=a.earliestSuspendedTime;d=a.latestSuspendedTime;0===c?a.earliestSuspendedTime=a.latestSuspendedTime=b:c<b?a.earliestSuspendedTime=b:d>b&&(a.latestSuspendedTime=b);df(b,a)}\nfunction gf(a,b){var c=a.earliestPendingTime;a=a.earliestSuspendedTime;c>b&&(b=c);a>b&&(b=a);return b}function df(a,b){var c=b.earliestSuspendedTime,d=b.latestSuspendedTime,e=b.earliestPendingTime,f=b.latestPingedTime;e=0!==e?e:f;0===e&&(0===a||d<a)&&(e=d);a=e;0!==a&&c>a&&(a=c);b.nextExpirationTimeToWorkOn=e;b.expirationTime=a}function L(a,b){if(a&&a.defaultProps){b=n({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}\nfunction hf(a){var b=a._result;switch(a._status){case 1:return b;case 2:throw b;case 0:throw b;default:a._status=0;b=a._ctor;b=b();b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)});switch(a._status){case 1:return a._result;case 2:throw a._result;}a._result=b;throw b;}}var jf=(new aa.Component).refs;\nfunction kf(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:n({},b,c);a.memoizedState=c;d=a.updateQueue;null!==d&&0===a.expirationTime&&(d.baseState=c)}\nvar tf={isMounted:function(a){return(a=a._reactInternalFiber)?2===ed(a):!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=lf();d=mf(d,a);var e=nf(d);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);of();pf(a,e);qf(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=lf();d=mf(d,a);var e=nf(d);e.tag=rf;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);of();pf(a,e);qf(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=lf();c=mf(c,a);var d=nf(c);d.tag=\nsf;void 0!==b&&null!==b&&(d.callback=b);of();pf(a,d);qf(a,c)}};function uf(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!dd(c,d)||!dd(e,f):!0}\nfunction vf(a,b,c){var d=!1,e=He;var f=b.contextType;\"object\"===typeof f&&null!==f?f=M(f):(e=J(b)?Ie:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Je(a,e):He);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=tf;a.stateNode=b;b._reactInternalFiber=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction wf(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&tf.enqueueReplaceState(b,b.state,null)}\nfunction xf(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=jf;var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=M(f):(f=J(b)?Ie:H.current,e.context=Je(a,f));f=a.updateQueue;null!==f&&(yf(a,f,c,e,d),e.state=a.memoizedState);f=b.getDerivedStateFromProps;\"function\"===typeof f&&(kf(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==\ntypeof e.componentWillMount||(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&tf.enqueueReplaceState(e,e.state,null),f=a.updateQueue,null!==f&&(yf(a,f,c,e,d),e.state=a.memoizedState));\"function\"===typeof e.componentDidMount&&(a.effectTag|=4)}var zf=Array.isArray;\nfunction Af(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;var d=void 0;c&&(1!==c.tag?x(\"309\"):void 0,d=c.stateNode);d?void 0:x(\"147\",a);var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===jf&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}\"string\"!==typeof a?x(\"284\"):void 0;c._owner?void 0:x(\"290\",a)}return a}\nfunction Bf(a,b){\"textarea\"!==a.type&&x(\"31\",\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b,\"\")}\nfunction Cf(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){a=Xe(a,b,c);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=\n2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=af(c,a.mode,d),b.return=a,b;b=e(b,c,d);b.return=a;return b}function l(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props,d),d.ref=Af(a,b,c),d.return=a,d;d=Ye(c.type,c.key,c.props,null,a.mode,d);d.ref=Af(a,b,c);d.return=a;return d}function k(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==\nc.implementation)return b=bf(c,a.mode,d),b.return=a,b;b=e(b,c.children||[],d);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Ze(c,a.mode,d,f),b.return=a,b;b=e(b,c,d);b.return=a;return b}function p(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=af(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case Vb:return c=Ye(b.type,b.key,b.props,null,a.mode,c),c.ref=Af(a,null,b),c.return=a,c;case Wb:return b=bf(b,a.mode,c),b.return=a,b}if(zf(b)||\nhc(b))return b=Ze(b,a.mode,c,null),b.return=a,b;Bf(a,b)}return null}function t(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case Vb:return c.key===e?c.type===Xb?m(a,b,c.props.children,d,e):l(a,b,c,d):null;case Wb:return c.key===e?k(a,b,c,d):null}if(zf(c)||hc(c))return null!==e?null:m(a,b,c,d,null);Bf(a,c)}return null}function A(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=\na.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case Vb:return a=a.get(null===d.key?c:d.key)||null,d.type===Xb?m(b,a,d.props.children,e,d.key):l(b,a,d,e);case Wb:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e)}if(zf(d)||hc(d))return a=a.get(c)||null,m(b,a,d,e,null);Bf(b,d)}return null}function v(e,g,h,k){for(var l=null,m=null,q=g,u=g=0,B=null;null!==q&&u<h.length;u++){q.index>u?(B=q,q=null):B=q.sibling;var w=t(e,q,h[u],k);if(null===w){null===q&&(q=B);break}a&&\nq&&null===w.alternate&&b(e,q);g=f(w,g,u);null===m?l=w:m.sibling=w;m=w;q=B}if(u===h.length)return c(e,q),l;if(null===q){for(;u<h.length;u++)if(q=p(e,h[u],k))g=f(q,g,u),null===m?l=q:m.sibling=q,m=q;return l}for(q=d(e,q);u<h.length;u++)if(B=A(q,e,u,h[u],k))a&&null!==B.alternate&&q.delete(null===B.key?u:B.key),g=f(B,g,u),null===m?l=B:m.sibling=B,m=B;a&&q.forEach(function(a){return b(e,a)});return l}function R(e,g,h,k){var l=hc(h);\"function\"!==typeof l?x(\"150\"):void 0;h=l.call(h);null==h?x(\"151\"):void 0;\nfor(var m=l=null,q=g,u=g=0,B=null,w=h.next();null!==q&&!w.done;u++,w=h.next()){q.index>u?(B=q,q=null):B=q.sibling;var v=t(e,q,w.value,k);if(null===v){q||(q=B);break}a&&q&&null===v.alternate&&b(e,q);g=f(v,g,u);null===m?l=v:m.sibling=v;m=v;q=B}if(w.done)return c(e,q),l;if(null===q){for(;!w.done;u++,w=h.next())w=p(e,w.value,k),null!==w&&(g=f(w,g,u),null===m?l=w:m.sibling=w,m=w);return l}for(q=d(e,q);!w.done;u++,w=h.next())w=A(q,e,u,w.value,k),null!==w&&(a&&null!==w.alternate&&q.delete(null===w.key?u:\nw.key),g=f(w,g,u),null===m?l=w:m.sibling=w,m=w);a&&q.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===Xb&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case Vb:a:{l=f.key;for(k=d;null!==k;){if(k.key===l)if(7===k.tag?f.type===Xb:k.elementType===f.type){c(a,k.sibling);d=e(k,f.type===Xb?f.props.children:f.props,h);d.ref=Af(a,k,f);d.return=a;a=d;break a}else{c(a,k);break}else b(a,k);k=\nk.sibling}f.type===Xb?(d=Ze(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Ye(f.type,f.key,f.props,null,a.mode,h),h.ref=Af(a,d,f),h.return=a,a=h)}return g(a);case Wb:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],h);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=bf(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\n\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f,h),d.return=a,a=d):(c(a,d),d=af(f,a.mode,h),d.return=a,a=d),g(a);if(zf(f))return v(a,d,f,h);if(hc(f))return R(a,d,f,h);l&&Bf(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 0:h=a.type,x(\"152\",h.displayName||h.name||\"Component\")}return c(a,d)}}var Df=Cf(!0),Ef=Cf(!1),Ff={},N={current:Ff},Gf={current:Ff},Hf={current:Ff};function If(a){a===Ff?x(\"174\"):void 0;return a}\nfunction Jf(a,b){G(Hf,b,a);G(Gf,a,a);G(N,Ff,a);var c=b.nodeType;switch(c){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:he(null,\"\");break;default:c=8===c?b.parentNode:b,b=c.namespaceURI||null,c=c.tagName,b=he(b,c)}F(N,a);G(N,b,a)}function Kf(a){F(N,a);F(Gf,a);F(Hf,a)}function Lf(a){If(Hf.current);var b=If(N.current);var c=he(b,a.type);b!==c&&(G(Gf,a,a),G(N,c,a))}function Mf(a){Gf.current===a&&(F(N,a),F(Gf,a))}\nvar Nf=0,Of=2,Pf=4,Qf=8,Rf=16,Sf=32,Tf=64,Uf=128,Vf=Tb.ReactCurrentDispatcher,Wf=0,Xf=null,O=null,P=null,Yf=null,Q=null,Zf=null,$f=0,ag=null,bg=0,cg=!1,dg=null,eg=0;function fg(){x(\"321\")}function gg(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!bd(a[c],b[c]))return!1;return!0}\nfunction hg(a,b,c,d,e,f){Wf=f;Xf=b;P=null!==a?a.memoizedState:null;Vf.current=null===P?ig:jg;b=c(d,e);if(cg){do cg=!1,eg+=1,P=null!==a?a.memoizedState:null,Zf=Yf,ag=Q=O=null,Vf.current=jg,b=c(d,e);while(cg);dg=null;eg=0}Vf.current=kg;a=Xf;a.memoizedState=Yf;a.expirationTime=$f;a.updateQueue=ag;a.effectTag|=bg;a=null!==O&&null!==O.next;Wf=0;Zf=Q=Yf=P=O=Xf=null;$f=0;ag=null;bg=0;a?x(\"300\"):void 0;return b}function lg(){Vf.current=kg;Wf=0;Zf=Q=Yf=P=O=Xf=null;$f=0;ag=null;bg=0;cg=!1;dg=null;eg=0}\nfunction mg(){var a={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};null===Q?Yf=Q=a:Q=Q.next=a;return Q}function ng(){if(null!==Zf)Q=Zf,Zf=Q.next,O=P,P=null!==O?O.next:null;else{null===P?x(\"310\"):void 0;O=P;var a={memoizedState:O.memoizedState,baseState:O.baseState,queue:O.queue,baseUpdate:O.baseUpdate,next:null};Q=null===Q?Yf=a:Q.next=a;P=O.next}return Q}function og(a,b){return\"function\"===typeof b?b(a):b}\nfunction pg(a){var b=ng(),c=b.queue;null===c?x(\"311\"):void 0;if(0<eg){var d=c.dispatch;if(null!==dg){var e=dg.get(c);if(void 0!==e){dg.delete(c);var f=b.memoizedState;do f=a(f,e.action),e=e.next;while(null!==e);bd(f,b.memoizedState)||(qg=!0);b.memoizedState=f;b.baseUpdate===c.last&&(b.baseState=f);c.eagerReducer=a;c.eagerState=f;return[f,d]}}return[b.memoizedState,d]}d=c.last;var g=b.baseUpdate;f=b.baseState;null!==g?(null!==d&&(d.next=null),d=g.next):d=null!==d?d.next:null;if(null!==d){var h=e=null,\nl=d,k=!1;do{var m=l.expirationTime;m<Wf?(k||(k=!0,h=g,e=f),m>$f&&($f=m)):f=l.eagerReducer===a?l.eagerState:a(f,l.action);g=l;l=l.next}while(null!==l&&l!==d);k||(h=g,e=f);bd(f,b.memoizedState)||(qg=!0);b.memoizedState=f;b.baseUpdate=h;b.baseState=e;c.eagerReducer=a;c.eagerState=f}return[b.memoizedState,c.dispatch]}\nfunction rg(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};null===ag?(ag={lastEffect:null},ag.lastEffect=a.next=a):(b=ag.lastEffect,null===b?ag.lastEffect=a.next=a:(c=b.next,b.next=a,a.next=c,ag.lastEffect=a));return a}function sg(a,b,c,d){var e=mg();bg|=a;e.memoizedState=rg(b,c,void 0,void 0===d?null:d)}\nfunction tg(a,b,c,d){var e=ng();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&gg(d,g.deps)){rg(Nf,c,f,d);return}}bg|=a;e.memoizedState=rg(b,c,f,d)}function ug(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function vg(){}\nfunction wg(a,b,c){25>eg?void 0:x(\"301\");var d=a.alternate;if(a===Xf||null!==d&&d===Xf)if(cg=!0,a={expirationTime:Wf,action:c,eagerReducer:null,eagerState:null,next:null},null===dg&&(dg=new Map),c=dg.get(b),void 0===c)dg.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}else{of();var e=lf();e=mf(e,a);var f={expirationTime:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.last;if(null===g)f.next=f;else{var h=g.next;null!==h&&(f.next=h);g.next=f}b.last=f;if(0===a.expirationTime&&(null===\nd||0===d.expirationTime)&&(d=b.eagerReducer,null!==d))try{var l=b.eagerState,k=d(l,c);f.eagerReducer=d;f.eagerState=k;if(bd(k,l))return}catch(m){}finally{}qf(a,e)}}\nvar kg={readContext:M,useCallback:fg,useContext:fg,useEffect:fg,useImperativeHandle:fg,useLayoutEffect:fg,useMemo:fg,useReducer:fg,useRef:fg,useState:fg,useDebugValue:fg},ig={readContext:M,useCallback:function(a,b){mg().memoizedState=[a,void 0===b?null:b];return a},useContext:M,useEffect:function(a,b){return sg(516,Uf|Tf,a,b)},useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return sg(4,Pf|Sf,ug.bind(null,b,a),c)},useLayoutEffect:function(a,b){return sg(4,Pf|Sf,a,b)},\nuseMemo:function(a,b){var c=mg();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=mg();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={last:null,dispatch:null,eagerReducer:a,eagerState:b};a=a.dispatch=wg.bind(null,Xf,a);return[d.memoizedState,a]},useRef:function(a){var b=mg();a={current:a};return b.memoizedState=a},useState:function(a){var b=mg();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={last:null,dispatch:null,eagerReducer:og,\neagerState:a};a=a.dispatch=wg.bind(null,Xf,a);return[b.memoizedState,a]},useDebugValue:vg},jg={readContext:M,useCallback:function(a,b){var c=ng();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&gg(b,d[1]))return d[0];c.memoizedState=[a,b];return a},useContext:M,useEffect:function(a,b){return tg(516,Uf|Tf,a,b)},useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return tg(4,Pf|Sf,ug.bind(null,b,a),c)},useLayoutEffect:function(a,b){return tg(4,Pf|Sf,a,b)},\nuseMemo:function(a,b){var c=ng();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&gg(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a},useReducer:pg,useRef:function(){return ng().memoizedState},useState:function(a){return pg(og,a)},useDebugValue:vg},xg=null,yg=null,zg=!1;\nfunction Ag(a,b){var c=K(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function Bg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction Cg(a){if(zg){var b=yg;if(b){var c=b;if(!Bg(a,b)){b=De(c);if(!b||!Bg(a,b)){a.effectTag|=2;zg=!1;xg=a;return}Ag(xg,c)}xg=a;yg=Ee(b)}else a.effectTag|=2,zg=!1,xg=a}}function Dg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&18!==a.tag;)a=a.return;xg=a}function Eg(a){if(a!==xg)return!1;if(!zg)return Dg(a),zg=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!xe(b,a.memoizedProps))for(b=yg;b;)Ag(a,b),b=De(b);Dg(a);yg=xg?De(a.stateNode):null;return!0}function Fg(){yg=xg=null;zg=!1}\nvar Gg=Tb.ReactCurrentOwner,qg=!1;function S(a,b,c,d){b.child=null===a?Ef(b,null,c,d):Df(b,a.child,c,d)}function Hg(a,b,c,d,e){c=c.render;var f=b.ref;Ig(b,e);d=hg(a,b,c,d,f,e);if(null!==a&&!qg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Jg(a,b,e);b.effectTag|=1;S(a,b,d,e);return b.child}\nfunction Kg(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!Ve(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,Lg(a,b,g,d,e,f);a=Ye(c.type,null,d,null,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(e<f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:dd,c(e,d)&&a.ref===b.ref))return Jg(a,b,f);b.effectTag|=1;a=Xe(g,d,f);a.ref=b.ref;a.return=b;return b.child=a}\nfunction Lg(a,b,c,d,e,f){return null!==a&&dd(a.memoizedProps,d)&&a.ref===b.ref&&(qg=!1,e<f)?Jg(a,b,f):Mg(a,b,c,d,f)}function Ng(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function Mg(a,b,c,d,e){var f=J(c)?Ie:H.current;f=Je(b,f);Ig(b,e);c=hg(a,b,c,d,f,e);if(null!==a&&!qg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Jg(a,b,e);b.effectTag|=1;S(a,b,c,e);return b.child}\nfunction Og(a,b,c,d,e){if(J(c)){var f=!0;Oe(b)}else f=!1;Ig(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),vf(b,c,d,e),xf(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var l=g.context,k=c.contextType;\"object\"===typeof k&&null!==k?k=M(k):(k=J(c)?Ie:H.current,k=Je(b,k));var m=c.getDerivedStateFromProps,p=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;p||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||l!==k)&&wf(b,g,d,k);Pg=!1;var t=b.memoizedState;l=g.state=t;var A=b.updateQueue;null!==A&&(yf(b,A,d,g,e),l=b.memoizedState);h!==d||t!==l||I.current||Pg?(\"function\"===typeof m&&(kf(b,c,m,d),l=b.memoizedState),(h=Pg||uf(b,c,h,d,t,l,k))?(p||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&\ng.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.effectTag|=4)):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=l),g.props=d,g.state=l,g.context=k,d=h):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,h=b.memoizedProps,g.props=b.type===b.elementType?h:L(b.type,h),l=g.context,k=c.contextType,\"object\"===typeof k&&null!==k?k=M(k):(k=J(c)?Ie:H.current,k=Je(b,k)),m=c.getDerivedStateFromProps,(p=\"function\"===\ntypeof m||\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==d||l!==k)&&wf(b,g,d,k),Pg=!1,l=b.memoizedState,t=g.state=l,A=b.updateQueue,null!==A&&(yf(b,A,d,g,e),t=b.memoizedState),h!==d||l!==t||I.current||Pg?(\"function\"===typeof m&&(kf(b,c,m,d),t=b.memoizedState),(m=Pg||uf(b,c,h,d,l,t,k))?(p||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===\ntypeof g.componentWillUpdate&&g.componentWillUpdate(d,t,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,t,k)),\"function\"===typeof g.componentDidUpdate&&(b.effectTag|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=\nt),g.props=d,g.state=t,g.context=k,d=m):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),d=!1);return Qg(a,b,c,d,f,e)}\nfunction Qg(a,b,c,d,e,f){Ng(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Pe(b,c,!1),Jg(a,b,f);d=b.stateNode;Gg.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.effectTag|=1;null!==a&&g?(b.child=Df(b,a.child,null,f),b.child=Df(b,null,h,f)):S(a,b,h,f);b.memoizedState=d.state;e&&Pe(b,c,!0);return b.child}function Rg(a){var b=a.stateNode;b.pendingContext?Me(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Me(a,b.context,!1);Jf(a,b.containerInfo)}\nfunction Sg(a,b,c){var d=b.mode,e=b.pendingProps,f=b.memoizedState;if(0===(b.effectTag&64)){f=null;var g=!1}else f={timedOutAt:null!==f?f.timedOutAt:0},g=!0,b.effectTag&=-65;if(null===a)if(g){var h=e.fallback;a=Ze(null,d,0,null);0===(b.mode&1)&&(a.child=null!==b.memoizedState?b.child.child:b.child);d=Ze(h,d,c,null);a.sibling=d;c=a;c.return=d.return=b}else c=d=Ef(b,null,e.children,c);else null!==a.memoizedState?(d=a.child,h=d.sibling,g?(c=e.fallback,e=Xe(d,d.pendingProps,0),0===(b.mode&1)&&(g=null!==\nb.memoizedState?b.child.child:b.child,g!==d.child&&(e.child=g)),d=e.sibling=Xe(h,c,h.expirationTime),c=e,e.childExpirationTime=0,c.return=d.return=b):c=d=Df(b,d.child,e.children,c)):(h=a.child,g?(g=e.fallback,e=Ze(null,d,0,null),e.child=h,0===(b.mode&1)&&(e.child=null!==b.memoizedState?b.child.child:b.child),d=e.sibling=Ze(g,d,c,null),d.effectTag|=2,c=e,e.childExpirationTime=0,c.return=d.return=b):d=c=Df(b,h,e.children,c)),b.stateNode=a.stateNode;b.memoizedState=f;b.child=c;return d}\nfunction Jg(a,b,c){null!==a&&(b.contextDependencies=a.contextDependencies);if(b.childExpirationTime<c)return null;null!==a&&b.child!==a.child?x(\"153\"):void 0;if(null!==b.child){a=b.child;c=Xe(a,a.pendingProps,a.expirationTime);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Xe(a,a.pendingProps,a.expirationTime),c.return=b;c.sibling=null}return b.child}\nfunction Tg(a,b,c){var d=b.expirationTime;if(null!==a)if(a.memoizedProps!==b.pendingProps||I.current)qg=!0;else{if(d<c){qg=!1;switch(b.tag){case 3:Rg(b);Fg();break;case 5:Lf(b);break;case 1:J(b.type)&&Oe(b);break;case 4:Jf(b,b.stateNode.containerInfo);break;case 10:Ug(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;if(0!==d&&d>=c)return Sg(a,b,c);b=Jg(a,b,c);return null!==b?b.sibling:null}}return Jg(a,b,c)}}else qg=!1;b.expirationTime=0;switch(b.tag){case 2:d=\nb.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;var e=Je(b,H.current);Ig(b,c);e=hg(null,b,d,a,e,c);b.effectTag|=1;if(\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;lg();if(J(d)){var f=!0;Oe(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;var g=d.getDerivedStateFromProps;\"function\"===typeof g&&kf(b,d,g,a);e.updater=tf;b.stateNode=e;e._reactInternalFiber=b;xf(b,d,a,c);b=Qg(null,b,d,!0,f,\nc)}else b.tag=0,S(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);f=b.pendingProps;a=hf(e);b.type=a;e=b.tag=We(a);f=L(a,f);g=void 0;switch(e){case 0:g=Mg(null,b,a,f,c);break;case 1:g=Og(null,b,a,f,c);break;case 11:g=Hg(null,b,a,f,c);break;case 14:g=Kg(null,b,a,L(a.type,f),d,c);break;default:x(\"306\",a,\"\")}return g;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:L(d,e),Mg(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,\ne=b.elementType===d?e:L(d,e),Og(a,b,d,e,c);case 3:Rg(b);d=b.updateQueue;null===d?x(\"282\"):void 0;e=b.memoizedState;e=null!==e?e.element:null;yf(b,d,b.pendingProps,null,c);d=b.memoizedState.element;if(d===e)Fg(),b=Jg(a,b,c);else{e=b.stateNode;if(e=(null===a||null===a.child)&&e.hydrate)yg=Ee(b.stateNode.containerInfo),xg=b,e=zg=!0;e?(b.effectTag|=2,b.child=Ef(b,null,d,c)):(S(a,b,d,c),Fg());b=b.child}return b;case 5:return Lf(b),null===a&&Cg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,\ng=e.children,xe(d,e)?g=null:null!==f&&xe(d,f)&&(b.effectTag|=16),Ng(a,b),1!==c&&b.mode&1&&e.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(S(a,b,g,c),b=b.child),b;case 6:return null===a&&Cg(b),null;case 13:return Sg(a,b,c);case 4:return Jf(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Df(b,null,d,c):S(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:L(d,e),Hg(a,b,d,e,c);case 7:return S(a,b,b.pendingProps,c),b.child;case 8:return S(a,b,b.pendingProps.children,\nc),b.child;case 12:return S(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;Ug(b,f);if(null!==g){var h=g.value;f=bd(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0;if(0===f){if(g.children===e.children&&!I.current){b=Jg(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var l=h.contextDependencies;if(null!==l){g=h.child;for(var k=l.first;null!==k;){if(k.context===d&&0!==\n(k.observedBits&f)){1===h.tag&&(k=nf(c),k.tag=sf,pf(h,k));h.expirationTime<c&&(h.expirationTime=c);k=h.alternate;null!==k&&k.expirationTime<c&&(k.expirationTime=c);k=c;for(var m=h.return;null!==m;){var p=m.alternate;if(m.childExpirationTime<k)m.childExpirationTime=k,null!==p&&p.childExpirationTime<k&&(p.childExpirationTime=k);else if(null!==p&&p.childExpirationTime<k)p.childExpirationTime=k;else break;m=m.return}l.expirationTime<c&&(l.expirationTime=c);break}k=k.next}}else g=10===h.tag?h.type===b.type?\nnull:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}}S(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,Ig(b,c),e=M(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,S(a,b,d,c),b.child;case 14:return e=b.type,f=L(e,b.pendingProps),f=L(e.type,f),Kg(a,b,e,f,d,c);case 15:return Lg(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===\nd?e:L(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,J(d)?(a=!0,Oe(b)):a=!1,Ig(b,c),vf(b,d,e,c),xf(b,d,e,c),Qg(null,b,d,!0,a,c)}x(\"156\")}var Vg={current:null},Wg=null,Xg=null,Yg=null;function Ug(a,b){var c=a.type._context;G(Vg,c._currentValue,a);c._currentValue=b}function Zg(a){var b=Vg.current;F(Vg,a);a.type._context._currentValue=b}function Ig(a,b){Wg=a;Yg=Xg=null;var c=a.contextDependencies;null!==c&&c.expirationTime>=b&&(qg=!0);a.contextDependencies=null}\nfunction M(a,b){if(Yg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)Yg=a,b=1073741823;b={context:a,observedBits:b,next:null};null===Xg?(null===Wg?x(\"308\"):void 0,Xg=b,Wg.contextDependencies={first:b,expirationTime:0}):Xg=Xg.next=b}return a._currentValue}var $g=0,rf=1,sf=2,ah=3,Pg=!1;function bh(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}\nfunction ch(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function nf(a){return{expirationTime:a,tag:$g,payload:null,callback:null,next:null,nextEffect:null}}function dh(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}\nfunction pf(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue;var e=null;null===d&&(d=a.updateQueue=bh(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=bh(a.memoizedState),e=c.updateQueue=bh(c.memoizedState)):d=a.updateQueue=ch(e):null===e&&(e=c.updateQueue=ch(d));null===e||d===e?dh(d,b):null===d.lastUpdate||null===e.lastUpdate?(dh(d,b),dh(e,b)):(dh(d,b),e.lastUpdate=b)}\nfunction eh(a,b){var c=a.updateQueue;c=null===c?a.updateQueue=bh(a.memoizedState):fh(a,c);null===c.lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function fh(a,b){var c=a.alternate;null!==c&&b===c.updateQueue&&(b=a.updateQueue=ch(b));return b}\nfunction gh(a,b,c,d,e,f){switch(c.tag){case rf:return a=c.payload,\"function\"===typeof a?a.call(f,d,e):a;case ah:a.effectTag=a.effectTag&-2049|64;case $g:a=c.payload;e=\"function\"===typeof a?a.call(f,d,e):a;if(null===e||void 0===e)break;return n({},d,e);case sf:Pg=!0}return d}\nfunction yf(a,b,c,d,e){Pg=!1;b=fh(a,b);for(var f=b.baseState,g=null,h=0,l=b.firstUpdate,k=f;null!==l;){var m=l.expirationTime;m<e?(null===g&&(g=l,f=k),h<m&&(h=m)):(k=gh(a,b,l,k,c,d),null!==l.callback&&(a.effectTag|=32,l.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=l:(b.lastEffect.nextEffect=l,b.lastEffect=l)));l=l.next}m=null;for(l=b.firstCapturedUpdate;null!==l;){var p=l.expirationTime;p<e?(null===m&&(m=l,null===g&&(f=k)),h<p&&(h=p)):(k=gh(a,b,l,k,c,d),null!==l.callback&&(a.effectTag|=\n32,l.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=l:(b.lastCapturedEffect.nextEffect=l,b.lastCapturedEffect=l)));l=l.next}null===g&&(b.lastUpdate=null);null===m?b.lastCapturedUpdate=null:a.effectTag|=32;null===g&&null===m&&(f=k);b.baseState=f;b.firstUpdate=g;b.firstCapturedUpdate=m;a.expirationTime=h;a.memoizedState=k}\nfunction hh(a,b,c){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null);ih(b.firstEffect,c);b.firstEffect=b.lastEffect=null;ih(b.firstCapturedEffect,c);b.firstCapturedEffect=b.lastCapturedEffect=null}function ih(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;\"function\"!==typeof c?x(\"191\",c):void 0;c.call(d)}a=a.nextEffect}}\nfunction jh(a,b){return{value:a,source:b,stack:jc(b)}}function kh(a){a.effectTag|=4}var lh=void 0,mh=void 0,nh=void 0,oh=void 0;lh=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};mh=function(){};\nnh=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;If(N.current);a=null;switch(c){case \"input\":f=vc(g,f);d=vc(g,d);a=[];break;case \"option\":f=$d(g,f);d=$d(g,d);a=[];break;case \"select\":f=n({},f,{value:void 0});d=n({},d,{value:void 0});a=[];break;case \"textarea\":f=be(g,f);d=be(g,d);a=[];break;default:\"function\"!==typeof f.onClick&&\"function\"===typeof d.onClick&&(g.onclick=te)}qe(c,d);g=c=void 0;var h=null;for(c in f)if(!d.hasOwnProperty(c)&&f.hasOwnProperty(c)&&null!=f[c])if(\"style\"===\nc){var l=f[c];for(g in l)l.hasOwnProperty(g)&&(h||(h={}),h[g]=\"\")}else\"dangerouslySetInnerHTML\"!==c&&\"children\"!==c&&\"suppressContentEditableWarning\"!==c&&\"suppressHydrationWarning\"!==c&&\"autoFocus\"!==c&&(ra.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in d){var k=d[c];l=null!=f?f[c]:void 0;if(d.hasOwnProperty(c)&&k!==l&&(null!=k||null!=l))if(\"style\"===c)if(l){for(g in l)!l.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(h||(h={}),h[g]=\"\");for(g in k)k.hasOwnProperty(g)&&l[g]!==k[g]&&(h||\n(h={}),h[g]=k[g])}else h||(a||(a=[]),a.push(c,h)),h=k;else\"dangerouslySetInnerHTML\"===c?(k=k?k.__html:void 0,l=l?l.__html:void 0,null!=k&&l!==k&&(a=a||[]).push(c,\"\"+k)):\"children\"===c?l===k||\"string\"!==typeof k&&\"number\"!==typeof k||(a=a||[]).push(c,\"\"+k):\"suppressContentEditableWarning\"!==c&&\"suppressHydrationWarning\"!==c&&(ra.hasOwnProperty(c)?(null!=k&&se(e,c),a||l===k||(a=[])):(a=a||[]).push(c,k))}h&&(a=a||[]).push(\"style\",h);e=a;(b.updateQueue=e)&&kh(b)}};oh=function(a,b,c,d){c!==d&&kh(b)};\nvar ph=\"function\"===typeof WeakSet?WeakSet:Set;function qh(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=jc(c));null!==c&&ic(c.type);b=b.value;null!==a&&1===a.tag&&ic(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e;})}}function rh(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){sh(a,c)}else b.current=null}\nfunction th(a,b,c){c=c.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do{if((d.tag&a)!==Nf){var e=d.destroy;d.destroy=void 0;void 0!==e&&e()}(d.tag&b)!==Nf&&(e=d.create,d.destroy=e());d=d.next}while(d!==c)}}\nfunction uh(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d.style.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=ne(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if(13===c.tag&&null!==c.memoizedState){d=c.child.sibling;d.return=c;c=d;continue}else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===c.return||\nc.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction vh(a){\"function\"===typeof Re&&Re(a);switch(a.tag){case 0:case 11:case 14:case 15:var b=a.updateQueue;if(null!==b&&(b=b.lastEffect,null!==b)){var c=b=b.next;do{var d=c.destroy;if(void 0!==d){var e=a;try{d()}catch(f){sh(e,f)}}c=c.next}while(c!==b)}break;case 1:rh(a);b=a.stateNode;if(\"function\"===typeof b.componentWillUnmount)try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(f){sh(a,f)}break;case 5:rh(a);break;case 4:wh(a)}}\nfunction xh(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction yh(a){a:{for(var b=a.return;null!==b;){if(xh(b)){var c=b;break a}b=b.return}x(\"160\");c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode;d=!1;break;case 3:b=c.stateNode.containerInfo;d=!0;break;case 4:b=c.stateNode.containerInfo;d=!0;break;default:x(\"161\")}c.effectTag&16&&(ke(b,\"\"),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||xh(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.effectTag&\n2)continue b;if(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)if(c)if(d){var f=b,g=e.stateNode,h=c;8===f.nodeType?f.parentNode.insertBefore(g,h):f.insertBefore(g,h)}else b.insertBefore(e.stateNode,c);else d?(g=b,h=e.stateNode,8===g.nodeType?(f=g.parentNode,f.insertBefore(h,g)):(f=g,f.appendChild(h)),g=g._reactRootContainer,null!==g&&void 0!==g||null!==f.onclick||(f.onclick=te)):b.appendChild(e.stateNode);\nelse if(4!==e.tag&&null!==e.child){e.child.return=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return;e=e.sibling}}\nfunction wh(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b.return;a:for(;;){null===c?x(\"160\"):void 0;switch(c.tag){case 5:d=c.stateNode;e=!1;break a;case 3:d=c.stateNode.containerInfo;e=!0;break a;case 4:d=c.stateNode.containerInfo;e=!0;break a}c=c.return}c=!0}if(5===b.tag||6===b.tag){a:for(var f=b,g=f;;)if(vh(g),null!==g.child&&4!==g.tag)g.child.return=g,g=g.child;else{if(g===f)break;for(;null===g.sibling;){if(null===g.return||g.return===f)break a;g=g.return}g.sibling.return=g.return;g=g.sibling}e?\n(f=d,g=b.stateNode,8===f.nodeType?f.parentNode.removeChild(g):f.removeChild(g)):d.removeChild(b.stateNode)}else if(4===b.tag){if(null!==b.child){d=b.stateNode.containerInfo;e=!0;b.child.return=b;b=b.child;continue}}else if(vh(b),null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;b=b.return;4===b.tag&&(c=!1)}b.sibling.return=b.return;b=b.sibling}}\nfunction zh(a,b){switch(b.tag){case 0:case 11:case 14:case 15:th(Pf,Qf,b);break;case 1:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&Ce(c,f,e,a,d,b)}break;case 6:null===b.stateNode?x(\"162\"):void 0;b.stateNode.nodeValue=b.memoizedProps;break;case 3:break;case 12:break;case 13:c=b.memoizedState;d=void 0;a=b;null===c?d=!1:(d=!0,a=b.child,0===c.timedOutAt&&(c.timedOutAt=lf()));null!==a&&uh(a,d);c=\nb.updateQueue;if(null!==c){b.updateQueue=null;var g=b.stateNode;null===g&&(g=b.stateNode=new ph);c.forEach(function(a){var c=Ah.bind(null,b,a);g.has(a)||(g.add(a),a.then(c,c))})}break;case 17:break;default:x(\"163\")}}var Bh=\"function\"===typeof WeakMap?WeakMap:Map;function Ch(a,b,c){c=nf(c);c.tag=ah;c.payload={element:null};var d=b.value;c.callback=function(){Dh(d);qh(a,b)};return c}\nfunction Eh(a,b,c){c=nf(c);c.tag=ah;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Fh?Fh=new Set([this]):Fh.add(this));var c=b.value,e=b.stack;qh(a,b);this.componentDidCatch(c,{componentStack:null!==e?e:\"\"})});return c}\nfunction Gh(a){switch(a.tag){case 1:J(a.type)&&Ke(a);var b=a.effectTag;return b&2048?(a.effectTag=b&-2049|64,a):null;case 3:return Kf(a),Le(a),b=a.effectTag,0!==(b&64)?x(\"285\"):void 0,a.effectTag=b&-2049|64,a;case 5:return Mf(a),null;case 13:return b=a.effectTag,b&2048?(a.effectTag=b&-2049|64,a):null;case 18:return null;case 4:return Kf(a),null;case 10:return Zg(a),null;default:return null}}\nvar Hh=Tb.ReactCurrentDispatcher,Ih=Tb.ReactCurrentOwner,Jh=1073741822,Kh=!1,T=null,Lh=null,U=0,Mh=-1,Nh=!1,V=null,Oh=!1,Ph=null,Qh=null,Rh=null,Fh=null;function Sh(){if(null!==T)for(var a=T.return;null!==a;){var b=a;switch(b.tag){case 1:var c=b.type.childContextTypes;null!==c&&void 0!==c&&Ke(b);break;case 3:Kf(b);Le(b);break;case 5:Mf(b);break;case 4:Kf(b);break;case 10:Zg(b)}a=a.return}Lh=null;U=0;Mh=-1;Nh=!1;T=null}\nfunction Th(){for(;null!==V;){var a=V.effectTag;a&16&&ke(V.stateNode,\"\");if(a&128){var b=V.alternate;null!==b&&(b=b.ref,null!==b&&(\"function\"===typeof b?b(null):b.current=null))}switch(a&14){case 2:yh(V);V.effectTag&=-3;break;case 6:yh(V);V.effectTag&=-3;zh(V.alternate,V);break;case 4:zh(V.alternate,V);break;case 8:a=V,wh(a),a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null,a=a.alternate,null!==a&&(a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null)}V=V.nextEffect}}\nfunction Uh(){for(;null!==V;){if(V.effectTag&256)a:{var a=V.alternate,b=V;switch(b.tag){case 0:case 11:case 15:th(Of,Nf,b);break a;case 1:if(b.effectTag&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:L(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}break a;case 3:case 5:case 6:case 4:case 17:break a;default:x(\"163\")}}V=V.nextEffect}}\nfunction Vh(a,b){for(;null!==V;){var c=V.effectTag;if(c&36){var d=V.alternate,e=V,f=b;switch(e.tag){case 0:case 11:case 15:th(Rf,Sf,e);break;case 1:var g=e.stateNode;if(e.effectTag&4)if(null===d)g.componentDidMount();else{var h=e.elementType===e.type?d.memoizedProps:L(e.type,d.memoizedProps);g.componentDidUpdate(h,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}d=e.updateQueue;null!==d&&hh(e,d,g,f);break;case 3:d=e.updateQueue;if(null!==d){g=null;if(null!==e.child)switch(e.child.tag){case 5:g=\ne.child.stateNode;break;case 1:g=e.child.stateNode}hh(e,d,g,f)}break;case 5:f=e.stateNode;null===d&&e.effectTag&4&&we(e.type,e.memoizedProps)&&f.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:x(\"163\")}}c&128&&(e=V.ref,null!==e&&(f=V.stateNode,\"function\"===typeof e?e(f):e.current=f));c&512&&(Ph=a);V=V.nextEffect}}\nfunction Wh(a,b){Rh=Qh=Ph=null;var c=W;W=!0;do{if(b.effectTag&512){var d=!1,e=void 0;try{var f=b;th(Uf,Nf,f);th(Nf,Tf,f)}catch(g){d=!0,e=g}d&&sh(b,e)}b=b.nextEffect}while(null!==b);W=c;c=a.expirationTime;0!==c&&Xh(a,c);X||W||Yh(1073741823,!1)}function of(){null!==Qh&&Be(Qh);null!==Rh&&Rh()}\nfunction Zh(a,b){Oh=Kh=!0;a.current===b?x(\"177\"):void 0;var c=a.pendingCommitExpirationTime;0===c?x(\"261\"):void 0;a.pendingCommitExpirationTime=0;var d=b.expirationTime,e=b.childExpirationTime;ef(a,e>d?e:d);Ih.current=null;d=void 0;1<b.effectTag?null!==b.lastEffect?(b.lastEffect.nextEffect=b,d=b.firstEffect):d=b:d=b.firstEffect;ue=Bd;ve=Pd();Bd=!1;for(V=d;null!==V;){e=!1;var f=void 0;try{Uh()}catch(h){e=!0,f=h}e&&(null===V?x(\"178\"):void 0,sh(V,f),null!==V&&(V=V.nextEffect))}for(V=d;null!==V;){e=!1;\nf=void 0;try{Th()}catch(h){e=!0,f=h}e&&(null===V?x(\"178\"):void 0,sh(V,f),null!==V&&(V=V.nextEffect))}Qd(ve);ve=null;Bd=!!ue;ue=null;a.current=b;for(V=d;null!==V;){e=!1;f=void 0;try{Vh(a,c)}catch(h){e=!0,f=h}e&&(null===V?x(\"178\"):void 0,sh(V,f),null!==V&&(V=V.nextEffect))}if(null!==d&&null!==Ph){var g=Wh.bind(null,a,d);Qh=r.unstable_runWithPriority(r.unstable_NormalPriority,function(){return Ae(g)});Rh=g}Kh=Oh=!1;\"function\"===typeof Qe&&Qe(b.stateNode);c=b.expirationTime;b=b.childExpirationTime;b=\nb>c?b:c;0===b&&(Fh=null);$h(a,b)}\nfunction ai(a){for(;;){var b=a.alternate,c=a.return,d=a.sibling;if(0===(a.effectTag&1024)){T=a;a:{var e=b;b=a;var f=U;var g=b.pendingProps;switch(b.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:J(b.type)&&Ke(b);break;case 3:Kf(b);Le(b);g=b.stateNode;g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null);if(null===e||null===e.child)Eg(b),b.effectTag&=-3;mh(b);break;case 5:Mf(b);var h=If(Hf.current);f=b.type;if(null!==e&&null!=b.stateNode)nh(e,b,f,g,h),e.ref!==b.ref&&(b.effectTag|=\n128);else if(g){var l=If(N.current);if(Eg(b)){g=b;e=g.stateNode;var k=g.type,m=g.memoizedProps,p=h;e[Fa]=g;e[Ga]=m;f=void 0;h=k;switch(h){case \"iframe\":case \"object\":E(\"load\",e);break;case \"video\":case \"audio\":for(k=0;k<ab.length;k++)E(ab[k],e);break;case \"source\":E(\"error\",e);break;case \"img\":case \"image\":case \"link\":E(\"error\",e);E(\"load\",e);break;case \"form\":E(\"reset\",e);E(\"submit\",e);break;case \"details\":E(\"toggle\",e);break;case \"input\":wc(e,m);E(\"invalid\",e);se(p,\"onChange\");break;case \"select\":e._wrapperState=\n{wasMultiple:!!m.multiple};E(\"invalid\",e);se(p,\"onChange\");break;case \"textarea\":ce(e,m),E(\"invalid\",e),se(p,\"onChange\")}qe(h,m);k=null;for(f in m)m.hasOwnProperty(f)&&(l=m[f],\"children\"===f?\"string\"===typeof l?e.textContent!==l&&(k=[\"children\",l]):\"number\"===typeof l&&e.textContent!==\"\"+l&&(k=[\"children\",\"\"+l]):ra.hasOwnProperty(f)&&null!=l&&se(p,f));switch(h){case \"input\":Rb(e);Ac(e,m,!0);break;case \"textarea\":Rb(e);ee(e,m);break;case \"select\":case \"option\":break;default:\"function\"===typeof m.onClick&&\n(e.onclick=te)}f=k;g.updateQueue=f;g=null!==f?!0:!1;g&&kh(b)}else{m=b;p=f;e=g;k=9===h.nodeType?h:h.ownerDocument;l===fe.html&&(l=ge(p));l===fe.html?\"script\"===p?(e=k.createElement(\"div\"),e.innerHTML=\"<script>\\x3c/script>\",k=e.removeChild(e.firstChild)):\"string\"===typeof e.is?k=k.createElement(p,{is:e.is}):(k=k.createElement(p),\"select\"===p&&(p=k,e.multiple?p.multiple=!0:e.size&&(p.size=e.size))):k=k.createElementNS(l,p);e=k;e[Fa]=m;e[Ga]=g;lh(e,b,!1,!1);p=e;k=f;m=g;var t=h,A=re(k,m);switch(k){case \"iframe\":case \"object\":E(\"load\",\np);h=m;break;case \"video\":case \"audio\":for(h=0;h<ab.length;h++)E(ab[h],p);h=m;break;case \"source\":E(\"error\",p);h=m;break;case \"img\":case \"image\":case \"link\":E(\"error\",p);E(\"load\",p);h=m;break;case \"form\":E(\"reset\",p);E(\"submit\",p);h=m;break;case \"details\":E(\"toggle\",p);h=m;break;case \"input\":wc(p,m);h=vc(p,m);E(\"invalid\",p);se(t,\"onChange\");break;case \"option\":h=$d(p,m);break;case \"select\":p._wrapperState={wasMultiple:!!m.multiple};h=n({},m,{value:void 0});E(\"invalid\",p);se(t,\"onChange\");break;case \"textarea\":ce(p,\nm);h=be(p,m);E(\"invalid\",p);se(t,\"onChange\");break;default:h=m}qe(k,h);l=void 0;var v=k,R=p,u=h;for(l in u)if(u.hasOwnProperty(l)){var q=u[l];\"style\"===l?oe(R,q):\"dangerouslySetInnerHTML\"===l?(q=q?q.__html:void 0,null!=q&&je(R,q)):\"children\"===l?\"string\"===typeof q?(\"textarea\"!==v||\"\"!==q)&&ke(R,q):\"number\"===typeof q&&ke(R,\"\"+q):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ra.hasOwnProperty(l)?null!=q&&se(t,l):null!=q&&tc(R,l,q,A))}switch(k){case \"input\":Rb(p);\nAc(p,m,!1);break;case \"textarea\":Rb(p);ee(p,m);break;case \"option\":null!=m.value&&p.setAttribute(\"value\",\"\"+uc(m.value));break;case \"select\":h=p;h.multiple=!!m.multiple;p=m.value;null!=p?ae(h,!!m.multiple,p,!1):null!=m.defaultValue&&ae(h,!!m.multiple,m.defaultValue,!0);break;default:\"function\"===typeof h.onClick&&(p.onclick=te)}(g=we(f,g))&&kh(b);b.stateNode=e}null!==b.ref&&(b.effectTag|=128)}else null===b.stateNode?x(\"166\"):void 0;break;case 6:e&&null!=b.stateNode?oh(e,b,e.memoizedProps,g):(\"string\"!==\ntypeof g&&(null===b.stateNode?x(\"166\"):void 0),e=If(Hf.current),If(N.current),Eg(b)?(g=b,f=g.stateNode,e=g.memoizedProps,f[Fa]=g,(g=f.nodeValue!==e)&&kh(b)):(f=b,g=(9===e.nodeType?e:e.ownerDocument).createTextNode(g),g[Fa]=b,f.stateNode=g));break;case 11:break;case 13:g=b.memoizedState;if(0!==(b.effectTag&64)){b.expirationTime=f;T=b;break a}g=null!==g;f=null!==e&&null!==e.memoizedState;null!==e&&!g&&f&&(e=e.child.sibling,null!==e&&(h=b.firstEffect,null!==h?(b.firstEffect=e,e.nextEffect=h):(b.firstEffect=\nb.lastEffect=e,e.nextEffect=null),e.effectTag=8));if(g||f)b.effectTag|=4;break;case 7:break;case 8:break;case 12:break;case 4:Kf(b);mh(b);break;case 10:Zg(b);break;case 9:break;case 14:break;case 17:J(b.type)&&Ke(b);break;case 18:break;default:x(\"156\")}T=null}b=a;if(1===U||1!==b.childExpirationTime){g=0;for(f=b.child;null!==f;)e=f.expirationTime,h=f.childExpirationTime,e>g&&(g=e),h>g&&(g=h),f=f.sibling;b.childExpirationTime=g}if(null!==T)return T;null!==c&&0===(c.effectTag&1024)&&(null===c.firstEffect&&\n(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a))}else{a=Gh(a,U);if(null!==a)return a.effectTag&=1023,a;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=1024)}if(null!==d)return d;if(null!==c)a=c;else break}return null}\nfunction bi(a){var b=Tg(a.alternate,a,U);a.memoizedProps=a.pendingProps;null===b&&(b=ai(a));Ih.current=null;return b}\nfunction ci(a,b){Kh?x(\"243\"):void 0;of();Kh=!0;var c=Hh.current;Hh.current=kg;var d=a.nextExpirationTimeToWorkOn;if(d!==U||a!==Lh||null===T)Sh(),Lh=a,U=d,T=Xe(Lh.current,null,U),a.pendingCommitExpirationTime=0;var e=!1;do{try{if(b)for(;null!==T&&!di();)T=bi(T);else for(;null!==T;)T=bi(T)}catch(u){if(Yg=Xg=Wg=null,lg(),null===T)e=!0,Dh(u);else{null===T?x(\"271\"):void 0;var f=T,g=f.return;if(null===g)e=!0,Dh(u);else{a:{var h=a,l=g,k=f,m=u;g=U;k.effectTag|=1024;k.firstEffect=k.lastEffect=null;if(null!==\nm&&\"object\"===typeof m&&\"function\"===typeof m.then){var p=m;m=l;var t=-1,A=-1;do{if(13===m.tag){var v=m.alternate;if(null!==v&&(v=v.memoizedState,null!==v)){A=10*(1073741822-v.timedOutAt);break}v=m.pendingProps.maxDuration;if(\"number\"===typeof v)if(0>=v)t=0;else if(-1===t||v<t)t=v}m=m.return}while(null!==m);m=l;do{if(v=13===m.tag)v=void 0===m.memoizedProps.fallback?!1:null===m.memoizedState;if(v){l=m.updateQueue;null===l?(l=new Set,l.add(p),m.updateQueue=l):l.add(p);if(0===(m.mode&1)){m.effectTag|=\n64;k.effectTag&=-1957;1===k.tag&&(null===k.alternate?k.tag=17:(g=nf(1073741823),g.tag=sf,pf(k,g)));k.expirationTime=1073741823;break a}k=h;l=g;var R=k.pingCache;null===R?(R=k.pingCache=new Bh,v=new Set,R.set(p,v)):(v=R.get(p),void 0===v&&(v=new Set,R.set(p,v)));v.has(l)||(v.add(l),k=ei.bind(null,k,p,l),p.then(k,k));-1===t?h=1073741823:(-1===A&&(A=10*(1073741822-gf(h,g))-5E3),h=A+t);0<=h&&Mh<h&&(Mh=h);m.effectTag|=2048;m.expirationTime=g;break a}m=m.return}while(null!==m);m=Error((ic(k.type)||\"A React component\")+\n\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\"+jc(k))}Nh=!0;m=jh(m,k);h=l;do{switch(h.tag){case 3:h.effectTag|=2048;h.expirationTime=g;g=Ch(h,m,g);eh(h,g);break a;case 1:if(t=m,A=h.type,k=h.stateNode,0===(h.effectTag&64)&&(\"function\"===typeof A.getDerivedStateFromError||null!==k&&\"function\"===typeof k.componentDidCatch&&(null===Fh||!Fh.has(k)))){h.effectTag|=2048;\nh.expirationTime=g;g=Eh(h,t,g);eh(h,g);break a}}h=h.return}while(null!==h)}T=ai(f);continue}}}break}while(1);Kh=!1;Hh.current=c;Yg=Xg=Wg=null;lg();if(e)Lh=null,a.finishedWork=null;else if(null!==T)a.finishedWork=null;else{c=a.current.alternate;null===c?x(\"281\"):void 0;Lh=null;if(Nh){e=a.latestPendingTime;f=a.latestSuspendedTime;g=a.latestPingedTime;if(0!==e&&e<d||0!==f&&f<d||0!==g&&g<d){ff(a,d);fi(a,c,d,a.expirationTime,-1);return}if(!a.didError&&b){a.didError=!0;d=a.nextExpirationTimeToWorkOn=d;\nb=a.expirationTime=1073741823;fi(a,c,d,b,-1);return}}b&&-1!==Mh?(ff(a,d),b=10*(1073741822-gf(a,d)),b<Mh&&(Mh=b),b=10*(1073741822-lf()),b=Mh-b,fi(a,c,d,a.expirationTime,0>b?0:b)):(a.pendingCommitExpirationTime=d,a.finishedWork=c)}}\nfunction sh(a,b){for(var c=a.return;null!==c;){switch(c.tag){case 1:var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Fh||!Fh.has(d))){a=jh(b,a);a=Eh(c,a,1073741823);pf(c,a);qf(c,1073741823);return}break;case 3:a=jh(b,a);a=Ch(c,a,1073741823);pf(c,a);qf(c,1073741823);return}c=c.return}3===a.tag&&(c=jh(b,a),c=Ch(a,c,1073741823),pf(a,c),qf(a,1073741823))}\nfunction mf(a,b){var c=r.unstable_getCurrentPriorityLevel(),d=void 0;if(0===(b.mode&1))d=1073741823;else if(Kh&&!Oh)d=U;else{switch(c){case r.unstable_ImmediatePriority:d=1073741823;break;case r.unstable_UserBlockingPriority:d=1073741822-10*(((1073741822-a+15)/10|0)+1);break;case r.unstable_NormalPriority:d=1073741822-25*(((1073741822-a+500)/25|0)+1);break;case r.unstable_LowPriority:case r.unstable_IdlePriority:d=1;break;default:x(\"313\")}null!==Lh&&d===U&&--d}c===r.unstable_UserBlockingPriority&&\n(0===gi||d<gi)&&(gi=d);return d}function ei(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);if(null!==Lh&&U===c)Lh=null;else if(b=a.earliestSuspendedTime,d=a.latestSuspendedTime,0!==b&&c<=b&&c>=d){a.didError=!1;b=a.latestPingedTime;if(0===b||b>c)a.latestPingedTime=c;df(c,a);c=a.expirationTime;0!==c&&Xh(a,c)}}function Ah(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=lf();b=mf(b,a);a=hi(a,b);null!==a&&(cf(a,b),b=a.expirationTime,0!==b&&Xh(a,b))}\nfunction hi(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}return e}\nfunction qf(a,b){a=hi(a,b);null!==a&&(!Kh&&0!==U&&b>U&&Sh(),cf(a,b),Kh&&!Oh&&Lh===a||Xh(a,a.expirationTime),ii>ji&&(ii=0,x(\"185\")))}function ki(a,b,c,d,e){return r.unstable_runWithPriority(r.unstable_ImmediatePriority,function(){return a(b,c,d,e)})}var li=null,Y=null,mi=0,ni=void 0,W=!1,oi=null,Z=0,gi=0,pi=!1,qi=null,X=!1,ri=!1,si=null,ti=r.unstable_now(),ui=1073741822-(ti/10|0),vi=ui,ji=50,ii=0,wi=null;function xi(){ui=1073741822-((r.unstable_now()-ti)/10|0)}\nfunction yi(a,b){if(0!==mi){if(b<mi)return;null!==ni&&r.unstable_cancelCallback(ni)}mi=b;a=r.unstable_now()-ti;ni=r.unstable_scheduleCallback(zi,{timeout:10*(1073741822-b)-a})}function fi(a,b,c,d,e){a.expirationTime=d;0!==e||di()?0<e&&(a.timeoutHandle=ye(Ai.bind(null,a,b,c),e)):(a.pendingCommitExpirationTime=c,a.finishedWork=b)}function Ai(a,b,c){a.pendingCommitExpirationTime=c;a.finishedWork=b;xi();vi=ui;Bi(a,c)}function $h(a,b){a.expirationTime=b;a.finishedWork=null}\nfunction lf(){if(W)return vi;Ci();if(0===Z||1===Z)xi(),vi=ui;return vi}function Xh(a,b){null===a.nextScheduledRoot?(a.expirationTime=b,null===Y?(li=Y=a,a.nextScheduledRoot=a):(Y=Y.nextScheduledRoot=a,Y.nextScheduledRoot=li)):b>a.expirationTime&&(a.expirationTime=b);W||(X?ri&&(oi=a,Z=1073741823,Di(a,1073741823,!1)):1073741823===b?Yh(1073741823,!1):yi(a,b))}\nfunction Ci(){var a=0,b=null;if(null!==Y)for(var c=Y,d=li;null!==d;){var e=d.expirationTime;if(0===e){null===c||null===Y?x(\"244\"):void 0;if(d===d.nextScheduledRoot){li=Y=d.nextScheduledRoot=null;break}else if(d===li)li=e=d.nextScheduledRoot,Y.nextScheduledRoot=e,d.nextScheduledRoot=null;else if(d===Y){Y=c;Y.nextScheduledRoot=li;d.nextScheduledRoot=null;break}else c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null;d=c.nextScheduledRoot}else{e>a&&(a=e,b=d);if(d===Y)break;if(1073741823===\na)break;c=d;d=d.nextScheduledRoot}}oi=b;Z=a}var Ei=!1;function di(){return Ei?!0:r.unstable_shouldYield()?Ei=!0:!1}function zi(){try{if(!di()&&null!==li){xi();var a=li;do{var b=a.expirationTime;0!==b&&ui<=b&&(a.nextExpirationTimeToWorkOn=ui);a=a.nextScheduledRoot}while(a!==li)}Yh(0,!0)}finally{Ei=!1}}\nfunction Yh(a,b){Ci();if(b)for(xi(),vi=ui;null!==oi&&0!==Z&&a<=Z&&!(Ei&&ui>Z);)Di(oi,Z,ui>Z),Ci(),xi(),vi=ui;else for(;null!==oi&&0!==Z&&a<=Z;)Di(oi,Z,!1),Ci();b&&(mi=0,ni=null);0!==Z&&yi(oi,Z);ii=0;wi=null;if(null!==si)for(a=si,si=null,b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(d){pi||(pi=!0,qi=d)}}if(pi)throw a=qi,qi=null,pi=!1,a;}function Bi(a,b){W?x(\"253\"):void 0;oi=a;Z=b;Di(a,b,!1);Yh(1073741823,!1)}\nfunction Di(a,b,c){W?x(\"245\"):void 0;W=!0;if(c){var d=a.finishedWork;null!==d?Fi(a,d,b):(a.finishedWork=null,d=a.timeoutHandle,-1!==d&&(a.timeoutHandle=-1,ze(d)),ci(a,c),d=a.finishedWork,null!==d&&(di()?a.finishedWork=d:Fi(a,d,b)))}else d=a.finishedWork,null!==d?Fi(a,d,b):(a.finishedWork=null,d=a.timeoutHandle,-1!==d&&(a.timeoutHandle=-1,ze(d)),ci(a,c),d=a.finishedWork,null!==d&&Fi(a,d,b));W=!1}\nfunction Fi(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime>=c&&(null===si?si=[d]:si.push(d),d._defer)){a.finishedWork=b;a.expirationTime=0;return}a.finishedWork=null;a===wi?ii++:(wi=a,ii=0);r.unstable_runWithPriority(r.unstable_ImmediatePriority,function(){Zh(a,b)})}function Dh(a){null===oi?x(\"246\"):void 0;oi.expirationTime=0;pi||(pi=!0,qi=a)}function Gi(a,b){var c=X;X=!0;try{return a(b)}finally{(X=c)||W||Yh(1073741823,!1)}}\nfunction Hi(a,b){if(X&&!ri){ri=!0;try{return a(b)}finally{ri=!1}}return a(b)}function Ii(a,b,c){X||W||0===gi||(Yh(gi,!1),gi=0);var d=X;X=!0;try{return r.unstable_runWithPriority(r.unstable_UserBlockingPriority,function(){return a(b,c)})}finally{(X=d)||W||Yh(1073741823,!1)}}\nfunction Ji(a,b,c,d,e){var f=b.current;a:if(c){c=c._reactInternalFiber;b:{2===ed(c)&&1===c.tag?void 0:x(\"170\");var g=c;do{switch(g.tag){case 3:g=g.stateNode.context;break b;case 1:if(J(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break b}}g=g.return}while(null!==g);x(\"171\");g=void 0}if(1===c.tag){var h=c.type;if(J(h)){c=Ne(c,h,g);break a}}c=g}else c=He;null===b.context?b.context=c:b.pendingContext=c;b=e;e=nf(d);e.payload={element:a};b=void 0===b?null:b;null!==b&&(e.callback=b);\nof();pf(f,e);qf(f,d);return d}function Ki(a,b,c,d){var e=b.current,f=lf();e=mf(f,e);return Ji(a,b,c,e,d)}function Li(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Mi(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Wb,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nAb=function(a,b,c){switch(b){case \"input\":yc(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Ka(d);e?void 0:x(\"90\");Sb(d);yc(d,e)}}}break;case \"textarea\":de(a,c);break;case \"select\":b=c.value,null!=b&&ae(a,!!c.multiple,b,!1)}};\nfunction Ni(a){var b=1073741822-25*(((1073741822-lf()+500)/25|0)+1);b>=Jh&&(b=Jh-1);this._expirationTime=Jh=b;this._root=a;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}Ni.prototype.render=function(a){this._defer?void 0:x(\"250\");this._hasChildren=!0;this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new Oi;Ji(a,b,null,c,d._onCommit);return d};\nNi.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};\nNi.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;this._defer&&null!==b?void 0:x(\"251\");if(this._hasChildren){var c=this._expirationTime;if(b!==this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d?x(\"251\"):void 0;d._next=e._next;this._next=b;a.firstBatch=this}this._defer=!1;Bi(a,c);b=this._next;this._next=null;b=a.firstBatch=b;null!==b&&b._hasChildren&&b.render(b._children)}else this._next=\nnull,this._defer=!1};Ni.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++)(0,a[b])()}};function Oi(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}Oi.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};\nOi.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];\"function\"!==typeof c?x(\"191\",c):void 0;c()}}};\nfunction Pi(a,b,c){b=K(3,null,null,b?3:0);a={current:b,containerInfo:a,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:c,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null};this._internalRoot=b.stateNode=a}\nPi.prototype.render=function(a,b){var c=this._internalRoot,d=new Oi;b=void 0===b?null:b;null!==b&&d.then(b);Ki(a,c,null,d._onCommit);return d};Pi.prototype.unmount=function(a){var b=this._internalRoot,c=new Oi;a=void 0===a?null:a;null!==a&&c.then(a);Ki(null,b,null,c._onCommit);return c};Pi.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new Oi;c=void 0===c?null:c;null!==c&&e.then(c);Ki(b,d,a,e._onCommit);return e};\nPi.prototype.createBatch=function(){var a=new Ni(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=null;null!==d&&d._expirationTime>=b;)c=d,d=d._next;a._next=d;null!==c&&(c._next=a)}return a};function Qi(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}Gb=Gi;Hb=Ii;Ib=function(){W||0===gi||(Yh(gi,!1),gi=0)};\nfunction Ri(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new Pi(a,!1,b)}\nfunction Si(a,b,c,d,e){var f=c._reactRootContainer;if(f){if(\"function\"===typeof e){var g=e;e=function(){var a=Li(f._internalRoot);g.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{f=c._reactRootContainer=Ri(c,d);if(\"function\"===typeof e){var h=e;e=function(){var a=Li(f._internalRoot);h.call(a)}}Hi(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return Li(f._internalRoot)}\nfunction Ti(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;Qi(b)?void 0:x(\"200\");return Mi(a,b,null,c)}\nvar Vi={createPortal:Ti,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;void 0===b&&(\"function\"===typeof a.render?x(\"188\"):x(\"268\",Object.keys(a)));a=hd(b);a=null===a?null:a.stateNode;return a},hydrate:function(a,b,c){Qi(b)?void 0:x(\"200\");return Si(null,a,b,!0,c)},render:function(a,b,c){Qi(b)?void 0:x(\"200\");return Si(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){Qi(c)?void 0:x(\"200\");null==a||void 0===a._reactInternalFiber?\nx(\"38\"):void 0;return Si(a,b,c,!1,d)},unmountComponentAtNode:function(a){Qi(a)?void 0:x(\"40\");return a._reactRootContainer?(Hi(function(){Si(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return Ti.apply(void 0,arguments)},unstable_batchedUpdates:Gi,unstable_interactiveUpdates:Ii,flushSync:function(a,b){W?x(\"187\"):void 0;var c=X;X=!0;try{return ki(a,b)}finally{X=c,Yh(1073741823,!1)}},unstable_createRoot:Ui,unstable_flushControlled:function(a){var b=\nX;X=!0;try{ki(a)}finally{(X=b)||W||Yh(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Ia,Ja,Ka,Ba.injectEventPluginsByName,pa,Qa,function(a){ya(a,Pa)},Eb,Fb,Dd,Da]}};function Ui(a,b){Qi(a)?void 0:x(\"299\",\"unstable_createRoot\");return new Pi(a,!0,null!=b&&!0===b.hydrate)}\n(function(a){var b=a.findFiberByHostInstance;return Te(n({},a,{overrideProps:null,currentDispatcherRef:Tb.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=hd(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null}}))})({findFiberByHostInstance:Ha,bundleType:0,version:\"16.8.5\",rendererPackageName:\"react-dom\"});var Wi={default:Vi},Xi=Wi&&Vi||Wi;module.exports=Xi.default||Xi;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.13.5\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var d=null,e=!1,g=3,k=-1,l=-1,m=!1,n=!1;function p(){if(!m){var a=d.expirationTime;n?q():n=!0;r(t,a)}}\nfunction u(){var a=d,b=d.next;if(d===b)d=null;else{var c=d.previous;d=c.next=b;b.previous=c}a.next=a.previous=null;c=a.callback;b=a.expirationTime;a=a.priorityLevel;var f=g,Q=l;g=a;l=b;try{var h=c()}finally{g=f,l=Q}if(\"function\"===typeof h)if(h={callback:h,priorityLevel:a,expirationTime:b,next:null,previous:null},null===d)d=h.next=h.previous=h;else{c=null;a=d;do{if(a.expirationTime>=b){c=a;break}a=a.next}while(a!==d);null===c?c=d:c===d&&(d=h,p());b=c.previous;b.next=c.previous=h;h.next=c;h.previous=\nb}}function v(){if(-1===k&&null!==d&&1===d.priorityLevel){m=!0;try{do u();while(null!==d&&1===d.priorityLevel)}finally{m=!1,null!==d?p():n=!1}}}function t(a){m=!0;var b=e;e=a;try{if(a)for(;null!==d;){var c=exports.unstable_now();if(d.expirationTime<=c){do u();while(null!==d&&d.expirationTime<=c)}else break}else if(null!==d){do u();while(null!==d&&!w())}}finally{m=!1,e=b,null!==d?p():n=!1,v()}}\nvar x=Date,y=\"function\"===typeof setTimeout?setTimeout:void 0,z=\"function\"===typeof clearTimeout?clearTimeout:void 0,A=\"function\"===typeof requestAnimationFrame?requestAnimationFrame:void 0,B=\"function\"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,C,D;function E(a){C=A(function(b){z(D);a(b)});D=y(function(){B(C);a(exports.unstable_now())},100)}\nif(\"object\"===typeof performance&&\"function\"===typeof performance.now){var F=performance;exports.unstable_now=function(){return F.now()}}else exports.unstable_now=function(){return x.now()};var r,q,w,G=null;\"undefined\"!==typeof window?G=window:\"undefined\"!==typeof global&&(G=global);\nif(G&&G._schedMock){var H=G._schedMock;r=H[0];q=H[1];w=H[2];exports.unstable_now=H[3]}else if(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var I=null,J=function(a){if(null!==I)try{I(a)}finally{I=null}};r=function(a){null!==I?setTimeout(r,0,a):(I=a,setTimeout(J,0,!1))};q=function(){I=null};w=function(){return!1}}else{\"undefined\"!==typeof console&&(\"function\"!==typeof A&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"),\n\"function\"!==typeof B&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"));var K=null,L=!1,M=-1,N=!1,O=!1,P=0,R=33,S=33;w=function(){return P<=exports.unstable_now()};var T=new MessageChannel,U=T.port2;T.port1.onmessage=function(){L=!1;var a=K,b=M;K=null;M=-1;var c=exports.unstable_now(),f=!1;if(0>=P-c)if(-1!==b&&b<=c)f=!0;else{N||(N=!0,E(V));K=a;M=b;return}if(null!==a){O=!0;try{a(f)}finally{O=!1}}};\nvar V=function(a){if(null!==K){E(V);var b=a-P+S;b<S&&R<S?(8>b&&(b=8),S=b<R?R:b):R=b;P=a+S;L||(L=!0,U.postMessage(void 0))}else N=!1};r=function(a,b){K=a;M=b;O||0>b?U.postMessage(void 0):N||(N=!0,E(V))};q=function(){K=null;L=!1;M=-1}}exports.unstable_ImmediatePriority=1;exports.unstable_UserBlockingPriority=2;exports.unstable_NormalPriority=3;exports.unstable_IdlePriority=5;exports.unstable_LowPriority=4;\nexports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=g,f=k;g=a;k=exports.unstable_now();try{return b()}finally{g=c,k=f,v()}};exports.unstable_next=function(a){switch(g){case 1:case 2:case 3:var b=3;break;default:b=g}var c=g,f=k;g=b;k=exports.unstable_now();try{return a()}finally{g=c,k=f,v()}};\nexports.unstable_scheduleCallback=function(a,b){var c=-1!==k?k:exports.unstable_now();if(\"object\"===typeof b&&null!==b&&\"number\"===typeof b.timeout)b=c+b.timeout;else switch(g){case 1:b=c+-1;break;case 2:b=c+250;break;case 5:b=c+1073741823;break;case 4:b=c+1E4;break;default:b=c+5E3}a={callback:a,priorityLevel:g,expirationTime:b,next:null,previous:null};if(null===d)d=a.next=a.previous=a,p();else{c=null;var f=d;do{if(f.expirationTime>b){c=f;break}f=f.next}while(f!==d);null===c?c=d:c===d&&(d=a,p());\nb=c.previous;b.next=c.previous=a;a.next=c;a.previous=b}return a};exports.unstable_cancelCallback=function(a){var b=a.next;if(null!==b){if(b===a)d=null;else{a===d&&(d=b);var c=a.previous;c.next=b;b.previous=c}a.next=a.previous=null}};exports.unstable_wrapCallback=function(a){var b=g;return function(){var c=g,f=k;g=b;k=exports.unstable_now();try{return a.apply(this,arguments)}finally{g=c,k=f,v()}}};exports.unstable_getCurrentPriorityLevel=function(){return g};\nexports.unstable_shouldYield=function(){return!e&&(null!==d&&d.expirationTime<l||w())};exports.unstable_continueExecution=function(){null!==d&&p()};exports.unstable_pauseExecution=function(){};exports.unstable_getFirstCallbackNode=function(){return d};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ButtonAccessibilityImageAlt from './button-accessibility-image-alt.jsx';\nimport ButtonBackgroundColor from './button-background-color.jsx';\nimport ButtonBold from './button-bold.jsx';\nimport ButtonCameraImage from './button-camera-image.jsx';\nimport ButtonCamera from './button-camera.jsx';\nimport ButtonCode from './button-code.jsx';\nimport ButtonColor from './button-color.jsx';\nimport ButtonCommandListItem from './button-command-list-item.jsx';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonDropdown from './button-dropdown.jsx';\nimport ButtonEmbedEdit from './button-embed-edit.jsx';\nimport ButtonEmbedVideoEdit from './button-embed-video-edit.jsx';\nimport ButtonEmbedVideo from './button-embed-video.jsx';\nimport ButtonEmbed from './button-embed.jsx';\nimport ButtonH1 from './button-h1.jsx';\nimport ButtonH2 from './button-h2.jsx';\nimport ButtonHline from './button-hline.jsx';\nimport ButtonImageAlignCenter from './button-image-align-center.jsx';\nimport ButtonImageAlignLeft from './button-image-align-left.jsx';\nimport ButtonImageAlignRight from './button-image-align-right.jsx';\nimport ButtonImage from './button-image.jsx';\nimport ButtonIndentBlock from './button-indent-block.jsx';\nimport ButtonItalic from './button-italic.jsx';\nimport ButtonItemSelectorAudio from './button-item-selector-audio.jsx';\nimport ButtonItemSelectorImage from './button-item-selector-image.jsx';\nimport ButtonItemSelectorVideo from './button-item-selector-video.jsx';\nimport ButtonLinkAutocompleteList from './button-link-autocomplete-list.jsx';\nimport ButtonLinkBrowse from './button-link-browse.jsx';\nimport ButtonLinkEditBrowse from './button-link-edit-browse.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\nimport ButtonLinkTargetEdit from './button-link-target-edit.jsx';\nimport ButtonLink from './button-link.jsx';\nimport ButtonOl from './button-ol.jsx';\nimport ButtonOutdentBlock from './button-outdent-block.jsx';\nimport ButtonParagraphAlignLeft from './button-paragraph-align-left.jsx';\nimport ButtonParagraphAlignRight from './button-paragraph-align-right.jsx';\nimport ButtonParagraphAlign from './button-paragraph-align.jsx';\nimport ButtonParagraphCenter from './button-paragraph-center.jsx';\nimport ButtonParagraphJustify from './button-paragraph-justify.jsx';\nimport ButtonQuote from './button-quote.jsx';\nimport ButtonRemoveFormat from './button-remove-format.jsx';\nimport ButtonRemoveImage from './button-remove-image.jsx';\nimport ButtonSeparator from './button-separator.jsx';\nimport ButtonSpacing from './button-spacing.jsx';\nimport ButtonStrike from './button-strike.jsx';\nimport ButtonStylesListHeader from './button-styles-list-header.jsx';\nimport ButtonStylesListItemRemove from './button-styles-list-item-remove.jsx';\nimport ButtonStylesListItem from './button-styles-list-item.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport ButtonStyles from './button-styles.jsx';\nimport ButtonSubscript from './button-subscript.jsx';\nimport ButtonSuperscript from './button-superscript.jsx';\nimport ButtonTableCell from './button-table-cell.jsx';\nimport ButtonTableColumn from './button-table-column.jsx';\nimport ButtonTableEdit from './button-table-edit.jsx';\nimport ButtonTableHeading from './button-table-heading.jsx';\nimport ButtonTableRemove from './button-table-remove.jsx';\nimport ButtonTableRow from './button-table-row.jsx';\nimport ButtonTable from './button-table.jsx';\nimport ButtonTargetList from './button-target-list.jsx';\nimport ButtonTwitter from './button-twitter.jsx';\nimport ButtonUl from './button-ul.jsx';\nimport ButtonUnderline from './button-underline.jsx';\n\nexport default {\n\t[ButtonAccessibilityImageAlt.key]: ButtonAccessibilityImageAlt,\n\t[ButtonBackgroundColor.key]: ButtonBackgroundColor,\n\t[ButtonBold.key]: ButtonBold,\n\t[ButtonCameraImage.key]: ButtonCameraImage,\n\t[ButtonCamera.key]: ButtonCamera,\n\t[ButtonCode.key]: ButtonCode,\n\t[ButtonColor.key]: ButtonColor,\n\t[ButtonCommandListItem.key]: ButtonCommandListItem,\n\t[ButtonCommandsList.key]: ButtonCommandsList,\n\t[ButtonDropdown.key]: ButtonDropdown,\n\t[ButtonEmbedEdit.key]: ButtonEmbedEdit,\n\t[ButtonEmbed.key]: ButtonEmbed,\n\t[ButtonEmbedVideoEdit.key]: ButtonEmbedVideoEdit,\n\t[ButtonEmbedVideo.key]: ButtonEmbedVideo,\n\t[ButtonH1.key]: ButtonH1,\n\t[ButtonH2.key]: ButtonH2,\n\t[ButtonHline.key]: ButtonHline,\n\t[ButtonImageAlignCenter.key]: ButtonImageAlignCenter,\n\t[ButtonImageAlignLeft.key]: ButtonImageAlignLeft,\n\t[ButtonImageAlignRight.key]: ButtonImageAlignRight,\n\t[ButtonImage.key]: ButtonImage,\n\t[ButtonIndentBlock.key]: ButtonIndentBlock,\n\t[ButtonItalic.key]: ButtonItalic,\n\t[ButtonItemSelectorAudio.key]: ButtonItemSelectorAudio,\n\t[ButtonItemSelectorImage.key]: ButtonItemSelectorImage,\n\t[ButtonItemSelectorVideo.key]: ButtonItemSelectorVideo,\n\t[ButtonLinkAutocompleteList.key]: ButtonLinkAutocompleteList,\n\t[ButtonLinkBrowse.key]: ButtonLinkBrowse,\n\t[ButtonLinkEditBrowse.key]: ButtonLinkEditBrowse,\n\t[ButtonLinkEdit.key]: ButtonLinkEdit,\n\t[ButtonLinkTargetEdit.key]: ButtonLinkTargetEdit,\n\t[ButtonLink.key]: ButtonLink,\n\t[ButtonOl.key]: ButtonOl,\n\t[ButtonOutdentBlock.key]: ButtonOutdentBlock,\n\t[ButtonParagraphAlign.key]: ButtonParagraphAlign,\n\t[ButtonParagraphAlignLeft.key]: ButtonParagraphAlignLeft,\n\t[ButtonParagraphAlignRight.key]: ButtonParagraphAlignRight,\n\t[ButtonParagraphCenter.key]: ButtonParagraphCenter,\n\t[ButtonParagraphJustify.key]: ButtonParagraphJustify,\n\t[ButtonQuote.key]: ButtonQuote,\n\t[ButtonRemoveFormat.key]: ButtonRemoveFormat,\n\t[ButtonRemoveImage.key]: ButtonRemoveImage,\n\t[ButtonSeparator.key]: ButtonSeparator,\n\t[ButtonSpacing.key]: ButtonSpacing,\n\t[ButtonStrike.key]: ButtonStrike,\n\t[ButtonStylesListHeader.key]: ButtonStylesListHeader,\n\t[ButtonStylesListItemRemove.key]: ButtonStylesListItemRemove,\n\t[ButtonStylesListItem.key]: ButtonStylesListItem,\n\t[ButtonStylesList.key]: ButtonStylesList,\n\t[ButtonStyles.key]: ButtonStyles,\n\t[ButtonSubscript.key]: ButtonSubscript,\n\t[ButtonSuperscript.key]: ButtonSuperscript,\n\t[ButtonTableCell.key]: ButtonTableCell,\n\t[ButtonTableColumn.key]: ButtonTableColumn,\n\t[ButtonTableEdit.key]: ButtonTableEdit,\n\t[ButtonTableHeading.key]: ButtonTableHeading,\n\t[ButtonTableRemove.key]: ButtonTableRemove,\n\t[ButtonTableRow.key]: ButtonTableRow,\n\t[ButtonTable.key]: ButtonTable,\n\t[ButtonTargetList.key]: ButtonTargetList,\n\t[ButtonTwitter.key]: ButtonTwitter,\n\t[ButtonUl.key]: ButtonUl,\n\t[ButtonUnderline.key]: ButtonUnderline,\n};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonAccessibilityImageAlt class provides functionality for changing text color in a document.\n *\n * @class ButtonAccessibilityImageAlt\n *\n */\nclass ButtonAccessibilityImageAlt extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'imageAlt';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst selection = props.context.editor\n\t\t\t.get('nativeEditor')\n\t\t\t.getSelection();\n\n\t\tconst element =\n\t\t\tselection.getSelectedElement() || selection.getStartElement();\n\n\t\tthis._element = element;\n\n\t\tconst imageElement = this._element.findOne('img');\n\n\t\tconst imageAlt = imageElement\n\t\t\t? imageElement.getAttribute('alt')\n\t\t\t: this._element.getAttribute('alt');\n\n\t\tthis.state = {\n\t\t\timageAlt,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn (\n\t\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\taria-label=\"alt\"\n\t\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\t\tonChange={this._handleAltChange}\n\t\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\t\tplaceholder=\"alt\"\n\t\t\t\t\t\t\tref=\"refAltInput\"\n\t\t\t\t\t\t\ttitle=\"alt\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.imageAlt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\t\tonClick={this._updateImageAlt}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"check\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t<small className=\"ae-icon small\">Alt</small>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @protected\n\t * @method _focusAltInput\n\t */\n\t_focusAltInput() {\n\t\tconst instance = this;\n\n\t\tconst focusAltEl = function() {\n\t\t\tReactDOM.findDOMNode(instance.refs.refAltInput).focus();\n\t\t};\n\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(focusAltEl);\n\t\t} else {\n\t\t\tsetTimeout(focusAltEl, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Event attached to alt input that fires when its value is changed\n\t *\n\t * @protected\n\t * @method  _handleAltChange\n\t * @param {MouseEvent} event\n\t */\n\t_handleAltChange = event => {\n\t\tthis.setState({\n\t\t\timageAlt: event.target.value,\n\t\t});\n\n\t\tthis._focusAltInput();\n\t};\n\n\t/**\n\t * Event attached to al tinput that fires when key is down\n\t * This method check that enter key is pushed to update the component´s state\n\t *\n\t * @protected\n\t * @method  _handleKeyDown\n\t * @param {MouseEvent} event\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === 13) {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._updateImageAlt();\n\t\t}\n\t};\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @protected\n\t * @method _requestExclusive\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonAccessibilityImageAlt.key);\n\t};\n\n\t/**\n\t * Method called by clicking ok button or pushing key enter to update imageAlt state and to update alt property from the image that is selected\n\t * This method calls cancelExclusive to show the previous toolbar before enter to edit alt property\n\t *\n\t * @protected\n\t * @method  _updateImageAlt\n\t */\n\t_updateImageAlt = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst imageAlt = this.refs.refAltInput.value;\n\n\t\tthis.setState({\n\t\t\timageAlt,\n\t\t});\n\n\t\tconst imageElement = this._element.findOne('img');\n\t\tconst image = imageElement ? imageElement : this._element;\n\n\t\timage.setAttribute('alt', imageAlt);\n\n\t\teditor.fire('actionPerformed', this);\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the alt button)\n\t\tthis.props.cancelExclusive();\n\t};\n}\n\nexport default EditorContext.toProps(ButtonAccessibilityImageAlt);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\n\nclass ButtonBackgroundColor extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'backgroundColor';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeColor = AlloyEditor.Strings.normal;\n\n\t\tlet activeColorClass = '';\n\n\t\tconst colors = this._getColors();\n\n\t\tconst itemStyle = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: '',\n\t\t\t},\n\t\t};\n\n\t\tcolors.forEach(item => {\n\t\t\titemStyle.attributes.class = item.styleClass;\n\n\t\t\tif (this._checkActive(itemStyle)) {\n\t\t\t\tactiveColor = item.name;\n\n\t\t\t\tactiveColorClass = item.style.attributes.class;\n\t\t\t}\n\t\t});\n\n\t\tconst {expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeColor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: colors,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span className={activeColorClass}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"textbox\" />\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getColors().forEach(item => {\n\t\t\tstyleConfig.attributes.class = item.styleClass;\n\n\t\t\tif (this._checkActive(styleConfig)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(styleConfig));\n\t\t\t}\n\t\t});\n\n\t\tstyleConfig.attributes.class = className;\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given color definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonBackgroundColor\n\t * @method _checkActive\n\t * @param {Object} styleConfig color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of colors. Each color consists of two properties:\n\t * - name - the style name, for example \"default\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonBackgroundColor\n\t * @method _getColor\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the colors.\n\t */\n\t_getColors() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.normal,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-body',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: '',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.primary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-primary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-primary',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-primary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.disabled,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-secondary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-secondary',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-secondary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.success,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-success',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-success',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-success'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.danger,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-danger',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-danger',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-danger'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.warning,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-warning',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-warning',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-warning'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.info,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-info',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-info',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-info'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonBackgroundColor;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonBold class provides functionality for styling an selection with strong (bold) style.\n *\n * @class ButtonBold\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonBold extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonBold\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'bold',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 66 /* B*/,\n\t\t\tname: 'bold',\n\t\t},\n\t\tstyle: 'coreStyles_bold',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default bold\n\t * @memberof ButtonBold\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'bold';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonBold\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button  ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.bold}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-bold\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.bold}>\n\t\t\t\t<ButtonIcon symbol=\"bold\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonBold)))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCameraImage from './button-camera-image.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonCamera class renders in two different ways:\n *\n * - Normal: Just a button that allows to switch to the edition mode.\n * - Exclusive: Renders ButtonCameraImage in order to take photo from the camera.\n *\n * @class ButtonCamera\n */\nclass ButtonCamera extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default camera\n\t * @memberof ButtonCamera\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'camera';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCamera\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonCameraImage {...this.props} />;\n\t\t} else {\n\t\t\tconst disabled = !(\n\t\t\t\tnavigator.getUserMedia ||\n\t\t\t\t(navigator.webkitGetUserMedia &&\n\t\t\t\t\tlocation.protocol === 'https') ||\n\t\t\t\tnavigator.mozGetUserMedia ||\n\t\t\t\tnavigator.msGetUserMedia\n\t\t\t);\n\n\t\t\tconst label = disabled\n\t\t\t\t? AlloyEditor.Strings.cameraDisabled\n\t\t\t\t: AlloyEditor.Strings.camera;\n\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={label}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-image-camera\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonClick={this.props.requestExclusive.bind(ButtonCamera.key)}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={label}>\n\t\t\t\t\t<ButtonIcon symbol=\"camera\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonCamera;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonActionStyle from '../base/button-action-style';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonCode class provides wraps a selection in `pre` element.\n *\n * @class ButtonCode\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonCode extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCode\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'pre',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default code\n\t * @memberof ButtonCode\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'code';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCode\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.code}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-code\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.code}>\n\t\t\t\t<ButtonIcon symbol=\"code\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonCode)));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\n\n/**\n * The ButtonColor class provides functionality for changing text color in a document.\n *\n *\n * @class ButtonColor\n */\nclass ButtonColor extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'color';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeColor = AlloyEditor.Strings.normal;\n\n\t\tconst colors = this._getColors();\n\n\t\tcolors.some(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveColor = item.name;\n\t\t\t}\n\t\t});\n\n\t\tconst {expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeColor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: colors,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"color-picker\" />\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getColors().forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(item.style));\n\t\t\t}\n\t\t});\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given color definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonColor\n\t * @method _checkActive\n\t * @param {Object} styleConfig Color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of colors. Each color consists of two properties:\n\t * - name - The style name, for example \"default\".\n\t * - style - An object with one property, called `element` which value\n\t *          represents the style which have to be applied to the element.\n\t * - styleFn - The function that is invoked to apply the style to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonColor\n\t * @method _getColor\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the colors.\n\t */\n\t_getColors() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.primary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-primary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-primary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.success,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-success',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-success'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.danger,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-danger',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-danger'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.warning,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-warning',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-warning'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.info,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-info',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-info'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.dark,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-dark'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.darkGray,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-gray-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-gray-dark'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.secondary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-secondary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-secondary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.light,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-light'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.lighter,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-lighter'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.white,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-white'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonColor;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ButtonEmbedVideoEdit from './button-embed-video-edit.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonEmbedVideo class provides functionality for changing text color in a document.\n *\n * @class ButtonEmbedVideo\n */\nclass ButtonEmbedVideo extends React.Component {\n\tstatic key = 'embedVideo';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideo\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideo\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonEmbedVideoEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.video}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed-video\"\n\t\t\t\t\tonClick={this.props.requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.video}>\n\t\t\t\t\t<ButtonIcon symbol=\"video\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonEmbedVideo;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonEmbedEdit from './button-embed-edit.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonEmbed class provides functionality for creating and editing an embed link in a document.\n * ButtonEmbed renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonEmbedEdit UI with all the link edition controls.\n *\n * @class ButtonEmbed\n * @uses ButtonKeystroke\n */\nclass ButtonEmbed extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/,\n\t\t\tname: 'embed',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default embed\n\t * @memberof ButtonEmbed\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'embed';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonEmbedEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.link}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.link}>\n\t\t\t\t\t<ButtonIcon symbol=\"plus\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the embedding of a link.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method _requestExclusive\n\t * @protected\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonEmbed.key);\n\t};\n}\n\nexport default ButtonKeystroke(ButtonEmbed);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonActionStyle from '../base/button-action-style';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonH1 class provides wraps a selection in `h1` element.\n *\n * @class ButtonH1\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonH1 extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonH1\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'h1',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default h1\n\t * @memberof ButtonH1\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'h1';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonH1\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.h1}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-h1\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.h1}>\n\t\t\t\t<ButtonIcon symbol=\"h1\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonH1)));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonActionStyle from '../base/button-action-style';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonH2 class provides wraps a selection in `h2` element.\n *\n * @class ButtonH2\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonH2 extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonH2\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'h2',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default h2\n\t * @memberof ButtonH2\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'h2';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonH2\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.h2}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-h2\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.h2}>\n\t\t\t\t<ButtonIcon symbol=\"h2\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonH2)));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonHline class provides inserts horizontal line.\n *\n * @class ButtonHline\n * @uses ButtonCommand\n */\nclass ButtonHline extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonHline\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'horizontalrule',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default hline\n\t * @memberof ButtonHline\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'hline';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonHline\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.horizontalrule}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-hline\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.horizontalrule}>\n\t\t\t\t<ButtonIcon symbol=\"hr\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonHline);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonImageAlignCenter class provides functionality for aligning an image in the center.\n *\n * @class ButtonImageAlignCenter\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignCenter extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignCenter\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifycenter',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageCenter\n\t * @memberof ButtonImageAlignCenter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageCenter';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignCenter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignCenter}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-center\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignCenter}>\n\t\t\t\t<ButtonIcon symbol=\"align-image-center\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignCenter))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonImageAlignLeft class provides functionality for aligning an image on left.\n *\n * @class ButtonImageAlignLeft\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignLeft extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignLeft\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyleft',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageLeft\n\t * @memberof ButtonImageAlignLeft\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageLeft';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignLeft\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignLeft}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-left\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignLeft}>\n\t\t\t\t<ButtonIcon symbol=\"align-image-left\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignLeft))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonImageAlignRight class provides functionality for aligning an image on right.\n *\n * @class ButtonImageAlignRight\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignRight extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignRight\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyright',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageRight\n\t * @memberof ButtonImageAlignRight\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageRight';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignRight\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignRight}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-right\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignRight}>\n\t\t\t\t<ButtonIcon symbol=\"align-image-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignRight))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonImage class inserts an image to the content.\n *\n * @class ButtonImage\n */\nclass ButtonImage extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default image\n\t * @memberof ButtonImage\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageFromFile';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.fileInput = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst inputSyle = {display: 'none'};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.image}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-image\"\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.image}>\n\t\t\t\t\t<ButtonIcon symbol=\"document-image\" />\n\t\t\t\t</button>\n\n\t\t\t\t<input\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\tonChange={this._onInputChange}\n\t\t\t\t\tref={this.fileInput}\n\t\t\t\t\tstyle={inputSyle}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Simulates click on the input element. This will open browser's native file open dialog.\n\t *\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method handleClick\n\t * @param {SyntheticEvent} event The received click event on the button.\n\t */\n\thandleClick = () => {\n\t\tthis.fileInput.current.click();\n\t};\n\n\t/**\n\t * On input change, reads the chosen file and fires an event `beforeImageAdd` with the image which will be added\n\t * to the content. The image file will be passed in the `imageFiles` property.\n\t * If any of the listeners returns `false` or cancels the event, the image won't be added to the content.\n\t * Otherwise, an event `imageAdd` will be fired with the inserted element into the editable area.\n\t * The passed params will be:\n\t * - `el` - the created img element\n\t * - `file` - the original image file from the input element\n\t *\n\t * @fires ButtonImage#beforeImageAdd\n\t * @fires ButtonImage#imageAdd\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method _onInputChange\n\t * @protected\n\t */\n\t_onInputChange = () => {\n\t\tconst inputEl = this.fileInput.current;\n\n\t\t// On IE11 the function might be called with an empty array of\n\t\t// files. In such a case, no actions will be taken.\n\t\tif (!inputEl.files.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst reader = new FileReader();\n\t\tconst file = inputEl.files[0];\n\n\t\treader.onload = event => {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\tconst result = editor.fire('beforeImageAdd', {\n\t\t\t\timageFiles: file,\n\t\t\t});\n\n\t\t\tif (result) {\n\t\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t`<img src=\"${event.target.result}\">`\n\t\t\t\t);\n\n\t\t\t\teditor.insertElement(el);\n\n\t\t\t\teditor.fire('actionPerformed', this);\n\n\t\t\t\tconst imageData = {\n\t\t\t\t\tel,\n\t\t\t\t\tfile,\n\t\t\t\t};\n\n\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t}\n\t\t};\n\n\t\treader.readAsDataURL(file);\n\n\t\tinputEl.value = '';\n\t};\n}\n\nexport default ButtonImage;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonIndentBlock class provides functionality for indenting the selected blocks.\n *\n * @class ButtonIndentBlock\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonIndentBlock extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonIndentBlock\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'indent',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default indentBlock\n\t * @memberof ButtonIndentBlock\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'indentBlock';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonIndentBlock\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.indent}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-indent-block\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.indent}>\n\t\t\t\t<ButtonIcon symbol=\"indent-less\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonIndentBlock))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonItalic class provides functionality for styling an selection with italic (em) style.\n *\n * @class ButtonItalic\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonItalic extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonItalic\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'italic',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 73 /* I*/,\n\t\t\tname: 'italic',\n\t\t},\n\t\tstyle: 'coreStyles_italic',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default italic\n\t * @memberof ButtonItalic\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'italic';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonItalic\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.italic}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-italic\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.italic}>\n\t\t\t\t<ButtonIcon symbol=\"italic\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonItalic)))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * @class ButtonItemSelectorAudio\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorAudio extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'audioselector',\n\t};\n\n\tstatic key = 'audio';\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.audio}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-audio\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.audio}>\n\t\t\t\t<ButtonIcon symbol=\"audio\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorAudio);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * @class ButtonItemSelectorImage\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorImage extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'imageselector',\n\t};\n\n\tstatic key = 'image';\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.image}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-image\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.image}>\n\t\t\t\t<ButtonIcon symbol=\"picture\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorImage);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * @class ButtonItemSelectorVideo\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorVideo extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'videoselector',\n\t};\n\n\tstatic key = 'video';\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.video}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-video\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.video}>\n\t\t\t\t<ButtonIcon symbol=\"video\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorVideo);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonProps from '../base/button-props';\nimport ButtonLinkEditBrowse from './button-link-edit-browse.jsx';\nimport ButtonLink from './button-link.jsx';\n\n/**\n * The ButtonLinkBrowse class provides functionality for changing text color in a document.\n *\n * @uses ButtonKeystroke\n * @uses ButtonProps\n *\n * @class ButtonLinkBrowse\n */\nclass ButtonLinkBrowse extends React.Component {\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t\tname: 'linkBrowse',\n\t\t},\n\t};\n\n\tstatic key = 'linkBrowse';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.props = this.mergeButtonCfgProps();\n\n\t\t\treturn <ButtonLinkEditBrowse {...this.props} />;\n\t\t} else {\n\t\t\treturn <ButtonLink {...this.props} />;\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @protected\n\t * @method _requestExclusive\n\t */\n\t_requestExclusive() {\n\t\tthis.props.requestExclusive(ButtonLinkBrowse.key);\n\t}\n}\n\nexport default ButtonProps(ButtonKeystroke(ButtonLinkBrowse));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonOrderedList class provides functionality for creating ordered lists in an editor.\n *\n * @class ButtonOrderedList\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonOrderedList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonOrderedList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'numberedlist',\n\t\tstyle: {\n\t\t\telement: 'ol',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default ol\n\t * @memberof ButtonOrderedList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'ol';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonOrderedList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.numberedlist}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-ol\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.numberedlist}>\n\t\t\t\t<ButtonIcon symbol=\"list-ol\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonOrderedList))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonOutdentBlock class provides functionality for outdenting blocks.\n *\n * @class ButtonOutdentBlock\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonOutdentBlock extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonOutdentBlock\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'outdent',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default outdentBlock\n\t * @memberof ButtonOutdentBlock\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'outdentBlock';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonOutdentBlock\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.outdent}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-outdent-block\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.outdent}>\n\t\t\t\t<ButtonIcon symbol=\"indent-more\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonOutdentBlock))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphAlignLeft class provides functionality for aligning a paragraph on left.\n *\n * @class ButtonParagraphAlignLeft\n *\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphAlignLeft extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignLeft\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyleft',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphLeft\n\t * @memberof ButtonParagraphAlignLeft\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphLeft';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignLeft\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignLeft}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-align-left\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignLeft}>\n\t\t\t\t<ButtonIcon symbol=\"align-left\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphAlignLeft))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphAlignRight class provides functionality for aligning a paragraph on right.\n *\n * @class ButtonParagraphAlignRight\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphAlignRight extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignRight\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyright',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphRight\n\t * @memberof ButtonParagraphAlignRight\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphRight';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignRight\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignRight}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-align-right\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignRight}>\n\t\t\t\t<ButtonIcon symbol=\"align-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphAlignRight))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphAlign class provides functionality to work with table rows.\n *\n * @class ButtonParagraphAlign\n */\nclass ButtonParagraphAlign extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'paragraphAlign';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlign\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonParagraphAlign.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tinlineIcons={false}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst activeCommand = this._getCommands()\n\t\t\t.filter(alignment => {\n\t\t\t\tconst command = editor.getCommand(alignment.command);\n\n\t\t\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t\t\t})\n\t\t\t.pop();\n\n\t\tconst iconClassName = activeCommand.icon;\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown ae-container-dropdown-xsmall ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={activeCommand.label}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.row}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<ButtonIcon symbol={iconClassName} />\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlign\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyleft',\n\t\t\t\t\ticon: 'align-left',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignLeft,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifycenter',\n\t\t\t\t\ticon: 'align-center',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignCenter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyright',\n\t\t\t\t\ticon: 'align-right',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignRight,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyblock',\n\t\t\t\t\ticon: 'align-justify',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignJustify,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonParagraphAlign;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphCenter class provides functionality for centering a paragraph.\n *\n * @class ButtonParagraphCenter\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphCenter extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphCenter\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifycenter',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphCenter\n\t * @memberof ButtonParagraphCenter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphCenter';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphCenter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignCenter}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-center\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignCenter}>\n\t\t\t\t<ButtonIcon symbol=\"align-center\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphCenter))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphJustify class provides functionality for justfying a paragraph.\n *\n * @class ButtonParagraphJustify\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphJustify extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphJustify\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyblock',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphJustify\n\t * @memberof ButtonParagraphJustify\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphJustify';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphJustify\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignJustify}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-justify\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignJustify}>\n\t\t\t\t<ButtonIcon symbol=\"align-justify\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphJustify))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonQuote class wraps a selection in `blockquote` element.\n *\n * @class ButtonQuote\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonQuote extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonQuote\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'blockquote',\n\t\tstyle: {\n\t\t\telement: 'blockquote',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default quote\n\t * @memberof ButtonQuote\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'quote';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonQuote\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.quote}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-quote\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.quote}>\n\t\t\t\t<ButtonIcon symbol=\"quote-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonQuote)));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonRemoveFormat class removes style formatting.\n *\n * @class ButtonRemoveFormat\n * @uses ButtonCommand\n */\nclass ButtonRemoveFormat extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonRemoveFormat\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'removeFormat',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default removeFormat\n\t * @memberof ButtonRemoveFormat\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'removeFormat';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonRemoveFormat\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.removeformat}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-removeformat\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.removeformat}>\n\t\t\t\t<ButtonIcon symbol=\"remove-style\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonRemoveFormat);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonRemoveImage class removes an image using a CKEDITOR.command.\n *\n * @class ButtonRemoveImage\n * @uses ButtonCommand\n */\nclass ButtonRemoveImage extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'removeImage',\n\t};\n\n\tstatic key = 'removeImage';\n\n\t/**\n\t * @inheritDoc\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.removeImage}\n\t\t\t\taria-pressed={false}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttitle={AlloyEditor.Strings.removeImage}>\n\t\t\t\t<ButtonIcon symbol=\"times-circle\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonRemoveImage);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\n/**\n * The ButtonSeparator function renders a simple separator.\n */\nfunction ButtonSeparator(_props) {\n\treturn <span className=\"ae-separator\" />;\n}\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default separator\n * @memberof ButtonSeparator\n * @property {String} key\n * @static\n */\nButtonSeparator.key = 'separator';\n\nexport default ButtonSeparator;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\n\n/**\n * The ButtonSpacing class provides functionality for changing text spacing in a document.\n *\n * @class ButtonSpacing\n */\nclass ButtonSpacing extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'spacing';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeSpacing = '1.0x';\n\n\t\tconst spacings = this._getSpacings();\n\n\t\tspacings.forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveSpacing = item.name;\n\t\t\t}\n\t\t});\n\n\t\tconst {editor, expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeSpacing,\n\t\t\teditor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: spacings,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-container-dropdown-small ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"separator\" />\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t{activeSpacing}\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'div',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getSpacings().forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(item.style));\n\t\t\t}\n\t\t});\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given spacing definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof Spacing\n\t * @method _checkActive\n\t * @param {Object} styleConfig Spacing definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the spacing is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\tlet active = true;\n\n\t\tconst elementPath = nativeEditor.elementPath();\n\n\t\tif (elementPath && elementPath.lastElement) {\n\t\t\tstyleConfig.attributes.class.split(' ').forEach(className => {\n\t\t\t\tactive = active && elementPath.lastElement.hasClass(className);\n\t\t\t});\n\t\t} else {\n\t\t\tactive = false;\n\t\t}\n\n\t\treturn active;\n\t}\n\n\t/**\n\t * Returns an array of spacings. Each spacing consists from three properties:\n\t * - name - the style name, for example \"default\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t * - styleFn - a function which applies selected style to the editor selection\n\t *\n\t * @instance\n\t * @memberof Spacing\n\t * @method _getSpacings\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the spacings.\n\t */\n\t_getSpacings() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: '1.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '1.5x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-1 mb-1',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-1 mb-1'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '2.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-2 mb-2',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-2 mb-2'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '3.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-3 mb-3',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-3 mb-3'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '4.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-4 mb-4',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-4 mb-4'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '5.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-5 mb-5',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-5 mb-5'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonSpacing;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonStrike class styles a selection with strike style.\n *\n * @class ButtonStrike\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonStrike extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStrike\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'strike',\n\t\tstyle: 'coreStyles_strike',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default strike\n\t * @memberof ButtonStrike\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'strike';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t * @instance\n\t * @memberof ButtonStrike\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.strike}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-strike\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.strike}>\n\t\t\t\t<ButtonIcon symbol=\"strikethrough\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonStrike)));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\n\n/**\n * The ButtonStyles class provides functionality for styling a selection with a list of\n * configurable and customizable styles. The allowed styles follow CKEDITOR.Style configuration\n * (http://docs.ckeditor.com/#!/api/CKEDITOR.style)\n *\n * @class ButtonStyles\n */\nclass ButtonStyles extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default styles\n\t * @memberof ButtonStyles\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'styles';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeStyle = AlloyEditor.Strings.normal;\n\n\t\tconst styles = this._getStyles();\n\n\t\tstyles.forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveStyle = item.name;\n\t\t\t}\n\t\t});\n\n\t\tlet buttonStylesList;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonStylesList = (\n\t\t\t\t<ButtonStylesList\n\t\t\t\t\tactiveStyle={activeStyle}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t\tshowRemoveStylesItem={this.props.showRemoveStylesItem}\n\t\t\t\t\tstyles={styles}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.styles + ' ' + activeStyle}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.styles + ' ' + activeStyle}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{activeStyle}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonStylesList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Checks if the given style definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method _checkActive\n\t * @param {Object} styleConfig Style definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the style is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of styles. Each style consists from two properties:\n\t * - name - the style name, for example \"h1\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method _getStyles\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the styles.\n\t */\n\t_getStyles() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.h1,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'h1',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.h2,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'h2',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.formatted,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'pre',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.cite,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'cite',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.code,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'code',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonStyles;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonSubscript class provides functionality for applying subscript style to a text selection.\n *\n * @class ButtonSubscript\n *\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonSubscript extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonSubscript\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'subscript',\n\t\tstyle: 'coreStyles_subscript',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default subscript\n\t * @memberof ButtonSubscript\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'subscript';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonSubscript\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.subscript}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-subscript\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.subscript}>\n\t\t\t\t<ButtonIcon symbol=\"subscript\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonSubscript)));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonSuperscript class provides functionality for applying superscript style to a text selection.\n *\n * @class ButtonSuperscript\n *\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonSuperscript extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonSuperscript\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'superscript',\n\t\tstyle: 'coreStyles_superscript',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default superscript\n\t * @memberof ButtonSuperscript\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'superscript';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonSuperscript\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.superscript}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-superscript\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.superscript}>\n\t\t\t\t<ButtonIcon symbol=\"superscript\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonSuperscript))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableCell class provides functionality to work with table cells.\n *\n * @class ButtonTableCell\n */\nclass ButtonTableCell extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableCell\n\t * @memberof ButtonTableCell\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableCell';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableCell\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableCell.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.cell}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.cell}>\n\t\t\t\t\t<ButtonIcon symbol=\"add-cell\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableCell\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellDelete,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMerge',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMerge,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMergeDown',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMergeDown,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMergeRight',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMergeRight,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellHorizontalSplit',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellSplitHorizontal,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellVerticalSplit',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellSplitVertical,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableCell;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableColumn class provides functionality to work with table columns.\n *\n * @class ButtonTableColumn\n */\nclass ButtonTableColumn extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableColumn\n\t * @memberof ButtonTableColumn\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableColumn';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableColumn\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableColumn.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.column}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.column}>\n\t\t\t\t\t<ButtonIcon symbol=\"add-column\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableColumn\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnDelete,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableColumn;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableHeading class provides functionality to work with table heading.\n *\n * @class ButtonTableHeading\n */\nclass ButtonTableHeading extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRow\n\t * @memberof ButtonTableHeading\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableHeading';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableHeading\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableHeading.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst activeHeading = new CKEDITOR.Table(\n\t\t\tthis.context.editor.get('nativeEditor')\n\t\t).getHeading();\n\t\tconst activeHeadingIntro = AlloyEditor.Strings.headers + ':';\n\t\tconst activeHeadingLabel =\n\t\t\tAlloyEditor.Strings['headers' + activeHeading];\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown-xl ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label=\"\"\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle=\"\">\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{activeHeadingIntro}{' '}\n\t\t\t\t\t\t\t<strong>{activeHeadingLabel}</strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableHeading\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingNone',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersNone,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingRow',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersRow,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingColumn',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersColumn,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingBoth',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersBoth,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableHeading;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableRemove class provides functionality for removing a table\n *\n * @class ButtonTableRemove\n */\nclass ButtonTableRemove extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRemove\n\t * @memberof ButtonTableRemove\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableRemove';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRemove\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.deleteTable}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-table-remove\"\n\t\t\t\tonClick={this._removeTable}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.deleteTable}>\n\t\t\t\t<ButtonIcon symbol=\"trash\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Removes the table in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRemove\n\t * @method _removeTable\n\t * @protected\n\t */\n\t_removeTable = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst tableUtils = new CKEDITOR.Table(editor);\n\n\t\ttableUtils.remove();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default ButtonTableRemove;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableRow class provides functionality to work with table rows.\n *\n * @class ButtonTableRow\n */\nclass ButtonTableRow extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRow\n\t * @memberof ButtonTableRow\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableRow';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRow\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableRow.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.row}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.row}>\n\t\t\t\t\t<ButtonIcon symbol=\"add-row\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRow\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowDelete,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableRow;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonTableEdit from './button-table-edit.jsx';\n\n/**\n * The ButtonTable class provides functionality for creating and editing a table in a document. ButtonTable\n * renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonTableEdit UI with all the table edition controls.\n *\n * @class ButtonTable\n */\nclass ButtonTable extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default table\n\t * @memberof ButtonTable\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'table';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTable\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonTableEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.table}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-table\"\n\t\t\t\t\tonClick={this.props.requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.table}>\n\t\t\t\t\t<ButtonIcon symbol=\"table\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonTable;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\nconst MAX_TWEET_LENGTH = 280;\n\n/**\n * The ButtonTwitter class provides functionality for creating a link which\n * allows people to tweet part of the content in the editor.\n *\n * @class ButtonTwitter\n * @uses ButtonStateClasses\n */\nclass ButtonTwitter extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default twitter\n\t * @memberof ButtonTwitter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'twitter';\n\n\t/**\n\t * Creates or removes the twitter link on the selection.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method handleClick\n\t */\n\thandleClick = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst linkUtils = new CKEDITOR.Link(editor);\n\n\t\tif (this.isActive()) {\n\t\t\tlinkUtils.remove(linkUtils.getFromSelection());\n\t\t} else {\n\t\t\tlinkUtils.create(this._getHref(), {\n\t\t\t\tclass: 'ae-twitter-link',\n\t\t\t\ttarget: '_blank',\n\t\t\t});\n\t\t}\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Checks if the current selection is contained within a link that points to twitter.com/intent/tweet.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method isActive\n\t * @return {Boolean} True if the selection is inside a twitter link, false otherwise.\n\t */\n\tisActive() {\n\t\tconst link = new CKEDITOR.Link(\n\t\t\tthis.context.editor.get('nativeEditor')\n\t\t).getFromSelection();\n\n\t\treturn (\n\t\t\tlink &&\n\t\t\tlink.getAttribute('href').indexOf('twitter.com/intent/tweet') !== -1\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.twitter}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-twitter\"\n\t\t\t\tonClick={this.handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.twitter}>\n\t\t\t\t<ButtonIcon symbol=\"twitter\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Generates the appropriate twitter url based on the selected text and the configuration\n\t * options received via props.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method _getHref\n\t * @protected\n\t * @return {String} A valid twitter url with the selected text and given configuration.\n\t */\n\t_getHref() {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\tconst selectedText = nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getSelectedText()\n\t\t\t.substring(0, MAX_TWEET_LENGTH);\n\t\tconst url = this.props.url;\n\t\tconst via = this.props.via;\n\t\tlet twitterHref =\n\t\t\t'https://twitter.com/intent/tweet?text=' + selectedText;\n\n\t\tif (url) {\n\t\t\ttwitterHref += '&url=' + url;\n\t\t}\n\n\t\tif (via) {\n\t\t\ttwitterHref += '&via=' + via;\n\t\t}\n\n\t\treturn twitterHref;\n\t}\n}\n\nexport default ButtonStateClasses(ButtonTwitter);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonUnorderedlist class provides functionality for creating unordered lists in an editor.\n *\n * @class ButtonUnorderedlist\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonUnorderedlist extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonUnorderedlist\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'bulletedlist',\n\t\tstyle: {\n\t\t\telement: 'ul',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default ul\n\t * @memberof ButtonUnorderedlist\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'ul';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonUnorderedlist\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.bulletedlist}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-ul\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.bulletedlist}>\n\t\t\t\t<ButtonIcon symbol=\"list-ul\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonUnorderedlist))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonUnderline class provides functionality for underlying a text selection.\n *\n * @class ButtonUnderline\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonUnderline extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonUnderline\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'underline',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 85 /* U*/,\n\t\t\tname: 'underline',\n\t\t},\n\t\tstyle: 'coreStyles_underline',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default underline\n\t * @memberof ButtonUnderline\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'underline';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonUnderline\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.underline}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-underline\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.underline}>\n\t\t\t\t<ButtonIcon symbol=\"underline\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonUnderline)))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nexport {default as ButtonActionStyle} from './button-action-style';\nexport {default as ButtonCommandActive} from './button-command-active';\nexport {default as ButtonCommand} from './button-command';\nexport {default as ButtonKeystroke} from './button-keystroke';\nexport {default as ButtonProps} from './button-props';\nexport {default as ButtonStateClasses} from './button-state-classes';\nexport {default as ButtonStyle} from './button-style';\nexport {default as ToolbarButtons} from './toolbar-buttons';\nexport {default as WidgetArrowBox} from './widget-arrow-box';\nexport {default as WidgetDropdown} from './widget-dropdown';\nexport {default as WidgetExclusive} from './widget-exclusive';\nexport {default as WidgetFocusManager} from './widget-focus-manager';\nexport {default as WidgetInteractionPoint} from './widget-interaction-point';\nexport {default as WidgetPosition} from './widget-position';\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonActionStyle is a mixin that provides applying style\n * implementation for a button based on the `applyStyle` and\n * `removeStyle` API of CKEDITOR.\n *\n * To execute properly, the component has to expose the following\n * methods which can be obtained out of the box using the {{#crossLink\n * \"ButtonStyle\"}}{{/crossLink}} mixin:\n * - `Function` {{#crossLink \"ButtonStyle/isActive\"}}{{/crossLink}} to\n *    check the active state\n * - `Function` {{#crossLink \"ButtonStyle/getStyle\"}}{{/crossLink}} to\n *    return the style that should be applied\n *\n * @class ButtonActionStyle\n */\nconst ButtonActionStyle = {\n\t/**\n\t * Removes or applies the component style to the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonActionStyle\n\t * @method applyStyle\n\t */\n\tapplyStyle() {\n\t\tif (Lang.isFunction(this.isActive) && Lang.isFunction(this.getStyle)) {\n\t\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\t\teditor.getSelection().lock();\n\n\t\t\tif (this.isActive()) {\n\t\t\t\teditor.removeStyle(this.getStyle());\n\t\t\t} else {\n\t\t\t\teditor.applyStyle(this.getStyle());\n\t\t\t}\n\n\t\t\teditor.getSelection().unlock();\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t},\n};\n\nexport default ButtonActionStyle;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * ButtonCommandActive is a mixin that provides an `isActive` method to\n * determine if a context-aware command is currently in an active state.\n *\n * @class ButtonCommandActive\n */\nconst ButtonCommandActive = {\n\t/**\n\t * Checks if the command is active in the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandActive\n\t * @method isActive\n\t * @return {Boolean} True if the command is active, false otherwise.\n\t */\n\tisActive() {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst command = editor.getCommand(this.props.command);\n\n\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t},\n};\n\nexport default ButtonCommandActive;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\n/**\n * ButtonCommand is a mixin that executes a command via CKEDITOR's API.\n *\n * @class ButtonCommand\n */\nconst ButtonCommand = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The command that should be executed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommand\n\t\t * @property {String} command\n\t\t */\n\t\tcommand: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Indicates that the command may cause the editor to have a different.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommand\n\t\t * @property {boolean} modifiesSelection\n\t\t */\n\t\tmodifiesSelection: PropTypes.bool,\n\t},\n\n\t/**\n\t * Executes a CKEditor command and fires `actionPerformed` event.\n\t *\n\t * @instance\n\t * @memberof ButtonCommand\n\t * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.\n\t * @method execCommand\n\t */\n\texecCommand(data) {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\teditor.execCommand(this.props.command, data);\n\n\t\tif (this.props.modifiesSelection) {\n\t\t\teditor.selectionChange(true);\n\t\t}\n\n\t\teditor.fire('actionPerformed', this);\n\t},\n};\n\nexport default ButtonCommand;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring\n * a function of the instance to be invoked upon the keystroke activation.\n *\n * @class ButtonKeystroke\n */\nconst ButtonKeystroke = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The keystroke definition. An object with the following properties:\n\t\t * - fn: The function to be executed\n\t\t * - keys: The keystroke definition, as expected by http://docs.ckeditor.com/#!/api/CKEDITOR.editor-method-setKeystroke\n\t\t * - name: The name for the CKEditor command that will be created. If empty,\n\t\t * a random name will be created on the fly\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @property {Object} keystroke\n\t\t */\n\t\tkeystroke: PropTypes.object.isRequired,\n\t},\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonKeystroke\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\t\tconst keystroke = this.props.keystroke;\n\n\t\tconst commandName =\n\t\t\tkeystroke.name || ((Math.random() * 1e9) >>> 0).toString();\n\n\t\tlet command = nativeEditor.getCommand(commandName);\n\n\t\tif (!command) {\n\t\t\tcommand = new CKEDITOR.command(nativeEditor, {\n\t\t\t\texec: function(editor) {\n\t\t\t\t\tconst keystrokeFn = keystroke.fn;\n\n\t\t\t\t\tif (Lang.isString(keystrokeFn)) {\n\t\t\t\t\t\tthis[keystrokeFn].call(this, editor);\n\t\t\t\t\t} else if (Lang.isFunction(keystrokeFn)) {\n\t\t\t\t\t\tkeystrokeFn.call(this, editor);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this),\n\t\t\t});\n\n\t\t\tnativeEditor.addCommand(commandName, command);\n\t\t}\n\n\t\tthis._defaultKeystrokeCommand =\n\t\t\tnativeEditor.keystrokeHandler.keystrokes[keystroke.keys];\n\n\t\tnativeEditor.setKeystroke(keystroke.keys, commandName);\n\t},\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonKeystroke\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tthis.props.editor\n\t\t\t.get('nativeEditor')\n\t\t\t.setKeystroke(\n\t\t\t\tthis.props.keystroke.keys,\n\t\t\t\tthis._defaultKeystrokeCommand\n\t\t\t);\n\t},\n};\n\nexport default ButtonKeystroke;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\nimport ButtonLinkEdit from '../buttons/button-link-edit.jsx';\n\n/**\n * ButtonProps is a mixin that provides a style prop and some methods to apply the resulting\n * style and checking if it is present in a given path or selection.\n *\n * @class ButtonProps\n */\nconst ButtonProps = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonProps\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\t},\n\n\t/**\n\t * Merges the properties, passed to the current component with user's configuration\n\t * via `buttonCfg` property.\n\t *\n\t * @instance\n\t * @memberof ButtonProps\n\t * @method mergeButtonCfgProps\n\t * @param {Object} props The properties to be merged with the provided configuration for this\n\t * button. If not passed, the user configuration will be merged with `this.props`\n\t * @return {Object} The merged properties\n\t */\n\tmergeButtonCfgProps(props) {\n\t\tprops = props || this.props;\n\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\t\tconst buttonCfg = nativeEditor.config.buttonCfg || {};\n\t\tconst result = CKEDITOR.tools.merge(\n\t\t\tprops,\n\t\t\tbuttonCfg[ButtonLinkEdit.key]\n\t\t);\n\n\t\treturn result;\n\t},\n};\n\nexport default ButtonProps;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonStateClasses is a mixin that decorates the domElement of a component\n * with different CSS classes based on the current state of the element.\n *\n * To check for state, the component can expose the following methods:\n * - `Function` **isActive** to check the active state\n * - `Function` **isDisabled** to check the disabled state\n *\n * @class ButtonStateClasses\n */\nconst ButtonStateClasses = {\n\t/**\n\t * Returns the list of state classes associated to the current element's state, according\n\t * to the results of the isActive and isDisabled methods.\n\t *\n\t * @instance\n\t * @memberof ButtonStateClasses\n\t * @method getStateClasses\n\t * @return {String} A string with the state CSS classes.\n\t */\n\tgetStateClasses() {\n\t\tlet stateClasses = '';\n\n\t\t// Check for active state\n\t\tif (Lang.isFunction(this.isActive) && this.isActive()) {\n\t\t\tstateClasses += 'ae-button-pressed';\n\t\t}\n\n\t\t// Check for disabled state\n\t\tif (Lang.isFunction(this.isDisabled) && this.isDisabled()) {\n\t\t\tstateClasses += ' ae-button-disabled';\n\t\t}\n\n\t\treturn stateClasses;\n\t},\n};\n\nexport default ButtonStateClasses;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonStyle is a mixin that provides a style prop and some methods to\n * apply the resulting style and checking if it is present in a given\n * path or selection.\n *\n * @class ButtonStyle\n */\nconst ButtonStyle = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The style the button should handle. Allowed values are:\n\t\t * - Object as described by\n\t\t *   http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t\t * - String pointing to an object inside the editor instance\n\t\t *   configuration. For example, `style = 'coreStyles_bold'` will\n\t\t *   try to retrieve the style object from\n\t\t *   `editor.config.coreStyles_bold`. Nested properties such as\n\t\t *   `style = 'myplugin.myConfig.myStyle'` are also supported\n\t\t *   and will try to retrieve the style object from the editor\n\t\t *   configuration as well.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @property {Object|String} style\n\t\t */\n\t\tstyle: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n\n\t\t/**\n\t\t * The style function the button should handle.\n\t\t * If specified, style function has higher priority than style property.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @property {function} styleFn\n\t\t */\n\t\tstyleFn: PropTypes.func,\n\t},\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server,\n\t * immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStyle\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\tlet style = this.props.style;\n\n\t\tif (Lang.isString(style)) {\n\t\t\tconst parts = style.split('.');\n\t\t\tlet currentMember = this.props.editor.get('nativeEditor').config;\n\t\t\tlet property = parts.shift();\n\n\t\t\twhile (\n\t\t\t\tproperty &&\n\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t) {\n\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\tproperty = parts.shift();\n\t\t\t}\n\n\t\t\tif (Lang.isObject(currentMember)) {\n\t\t\t\tstyle = currentMember;\n\t\t\t}\n\t\t}\n\n\t\tthis._style = new CKEDITOR.style(style);\n\t},\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted\n\t * from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonStyle\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tthis._style = null;\n\t},\n\n\t/**\n\t * Returns instance of CKEDITOR.style which represents the current\n\t * button style.\n\t *\n\t * @instance\n\t * @memberof ButtonStyle\n\t * @method getStyle\n\t * @return {CKEDITOR.style} The current style representation.\n\t */\n\tgetStyle() {\n\t\treturn this._style;\n\t},\n\n\t/**\n\t * Checks if style is active in the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStyle\n\t * @method isActive\n\t * @return {Boolean} True if style is active, false otherwise.\n\t */\n\tisActive() {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst elementPath = editor.elementPath();\n\n\t\treturn this.getStyle().checkActive(elementPath, editor);\n\t},\n};\n\nexport default ButtonStyle;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport Lang from '../../oop/lang';\n\n/**\n * ToolbarButtons is a mixin which provides a list of buttons which have\n * to be displayed on the current toolbar depending on user preferences\n * and given state.\n *\n * @class ToolbarButtons\n */\nconst ToolbarButtons = {\n\t/**\n\t * Analyses the current selection and returns the buttons or button\n\t * groups to be rendered.\n\t *\n\t * @instance\n\t * @method getToolbarButtonGroups\n\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t * @return {Array} An Array which contains the buttons or button groups that should be rendered.\n\t */\n\tgetToolbarButtonGroups(buttons, additionalProps) {\n\t\tconst instance = this;\n\n\t\tif (Lang.isFunction(buttons)) {\n\t\t\tbuttons = buttons.call(this) || [];\n\t\t}\n\n\t\treturn buttons.reduce((list, button) => {\n\t\t\tif (Array.isArray(button)) {\n\t\t\t\tlist.push(instance.getToolbarButtons(button, additionalProps));\n\t\t\t\treturn list;\n\t\t\t} else {\n\t\t\t\treturn instance.getToolbarButtons(buttons, additionalProps);\n\t\t\t}\n\t\t}, []);\n\t},\n\n\t/**\n\t * Analyzes the current selection and the buttons exclusive mode value to figure out which\n\t * buttons should be present in a given state.\n\t *\n\t * @instance\n\t * @memberof ToolbarButtons\n\t * @method getToolbarButtons\n\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t * @return {Array} An Array which contains the buttons that should be rendered.\n\t */\n\tgetToolbarButtons(buttons, additionalProps) {\n\t\tconst buttonProps = {};\n\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\t\tconst buttonCfg = nativeEditor.config.buttonCfg || {};\n\n\t\tif (Lang.isFunction(buttons)) {\n\t\t\tbuttons = buttons.call(this) || [];\n\t\t}\n\n\t\tconst toolbarButtons = this.filterExclusive(\n\t\t\tbuttons\n\t\t\t\t.filter(button => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbutton &&\n\t\t\t\t\t\t(AlloyEditor.Buttons[button] ||\n\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name])\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.map(button => {\n\t\t\t\t\tif (Lang.isString(button)) {\n\t\t\t\t\t\tbuttonProps[button] = buttonCfg[button];\n\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button];\n\t\t\t\t\t} else if (Lang.isString(button.name)) {\n\t\t\t\t\t\tbuttonProps[\n\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name].key\n\t\t\t\t\t\t] = CKEDITOR.tools.merge(buttonCfg[button], button.cfg);\n\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button.name];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn button;\n\t\t\t\t})\n\t\t).map(function(button, index) {\n\t\t\tlet props = this.mergeExclusiveProps(\n\t\t\t\t{\n\t\t\t\t\teditor: this.props.editor,\n\t\t\t\t\tkey:\n\t\t\t\t\t\tbutton.key !== 'separator'\n\t\t\t\t\t\t\t? button.key\n\t\t\t\t\t\t\t: `${button.key}-${index}`,\n\t\t\t\t\ttabKey: button.key,\n\t\t\t\t\ttabIndex:\n\t\t\t\t\t\tthis.props.trigger &&\n\t\t\t\t\t\tthis.props.trigger.props.tabKey === button.key\n\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t: -1,\n\t\t\t\t\ttrigger: this.props.trigger,\n\t\t\t\t},\n\t\t\t\tbutton.key\n\t\t\t);\n\n\t\t\tprops = this.mergeDropdownProps(props, button.key);\n\n\t\t\tif (additionalProps) {\n\t\t\t\tprops = CKEDITOR.tools.merge(props, additionalProps);\n\t\t\t}\n\n\t\t\tprops = CKEDITOR.tools.merge(props, buttonProps[button.key]);\n\n\t\t\treturn React.createElement(button, props);\n\t\t}, this);\n\n\t\treturn toolbarButtons;\n\t},\n};\n\nexport default ToolbarButtons;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * Provides functionality for displaying Widget Arrow box on top or on bottom of the widget\n * depending on the point of user interaction with the editor.\n *\n * @class WidgetArrowBox\n */\nconst WidgetArrowBox = {\n\t/**\n\t * Returns the list of arrow box classes associated to the current element's state. It relies\n\t * on the getInteractionPoint method to calculate the selection direction.\n\t *\n\t * @instance\n\t * @memberof WidgetArrowBox\n\t * @method getArrowBoxClasses\n\t * @return {String} A string with the arrow box CSS classes.\n\t */\n\tgetArrowBoxClasses() {\n\t\tlet arrowBoxClasses = 'ae-arrow-box';\n\n\t\tif (\n\t\t\tLang.isFunction(this.getInteractionPoint) &&\n\t\t\tthis.getInteractionPoint()\n\t\t) {\n\t\t\tif (\n\t\t\t\tthis.getInteractionPoint().direction ===\n\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t) {\n\t\t\t\tarrowBoxClasses += ' ae-arrow-box-top';\n\t\t\t} else {\n\t\t\t\tarrowBoxClasses += ' ae-arrow-box-bottom';\n\t\t\t}\n\t\t}\n\n\t\treturn arrowBoxClasses;\n\t},\n};\n\nexport default WidgetArrowBox;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ReactDOM from 'react-dom';\n\n/**\n * Provides functionality for managing different dropdowns inside a widget.\n *\n * @class WidgetDropdown\n */\nconst WidgetDropdown = {\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof WidgetDropdown\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps(_nextProps) {\n\t\tthis.setState({\n\t\t\tdropdownTrigger: null,\n\t\t\titemDropdown: null,\n\t\t});\n\t},\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t *\n\t * @instance\n\t * @memberof WidgetDropdown\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\treturn {\n\t\t\tdropdownTrigger: null,\n\t\t\titemDropdown: null,\n\t\t};\n\t},\n\n\t/**\n\t * Merges the provided object with two more properties:\n\t * - expanded - boolean flag which indicates if an widget should be\n\t *   rendered exclusively.\n\t * - toggleDropdown - function, which can be used by an widget in\n\t *   order to obtain exclusive state.\n\t *\n\t * @instance\n\t * @memberof WidgetDropdown\n\t * @method mergeDropdownProps\n\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t *    to dropdown state.\n\t * @param {Object} itemKey They key of an React Widget which contains the dropdown.\n\t * @return {Object} The merged object.\n\t */\n\tmergeDropdownProps(obj, itemKey) {\n\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\texpanded: this.state.itemDropdown === itemKey ? true : false,\n\t\t\ttabIndex: this.state.dropdownTrigger === itemKey ? 0 : -1,\n\t\t\ttoggleDropdown: this.toggleDropdown.bind(this, itemKey),\n\t\t});\n\t},\n\n\t/**\n\t * Sets the active dropdown of the widget or discards the toggled\n\t * item from the state.\n\t *\n\t * @instance\n\t * @memberof WidgetDropdown\n\t * @method toggleDropdown\n\t * @param {Object} itemDropdown The widget which requests to toggle its dropdown.\n\t * @param {Number} toggleDirection User movement direction when toggled via keyboard.\n\t */\n\ttoggleDropdown(itemDropdown, toggleDirection) {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tdropdownTrigger: itemDropdown,\n\t\t\t\titemDropdown:\n\t\t\t\t\titemDropdown !== this.state.itemDropdown\n\t\t\t\t\t\t? itemDropdown\n\t\t\t\t\t\t: null,\n\t\t\t},\n\t\t\tfunction() {\n\t\t\t\tif (!this.state.itemDropdown) {\n\t\t\t\t\tif (this.moveFocus) {\n\t\t\t\t\t\tthis.moveFocus(toggleDirection);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tReactDOM.findDOMNode(this).focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n};\n\nexport default WidgetDropdown;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * Provides functionality for managing exclusive state of an widget.\n * The exclusive state means that a button may request to be the only rendered\n * widget in its parent container. WidgetExclusive will manage this state by\n * filtering and suppressing the other sibling widgets from displaying.\n *\n * @class WidgetExclusive\n */\nconst WidgetExclusive = {\n\t/**\n\t * Cancels the exclusive state of an widget.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method cancelExclusive\n\t * @param {Object} itemExclusive The widget which exclusive state should be canceled.\n\t */\n\tcancelExclusive(itemExclusive) {\n\t\tif (this.state.itemExclusive === itemExclusive) {\n\t\t\tthis.setState({\n\t\t\t\titemExclusive: null,\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t * Calling this.setState() within this function will not trigger an\n\t * additional render.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method componentWillReceiveProps\n\t * @param {Object} nextProps Object containing the current set of properties.\n\t */\n\tcomponentWillReceiveProps(_nextProps) {\n\t\t// Receiving properties means that the component is being\n\t\t// re-rendered.  Re-rendering is triggered by editorInteraction,\n\t\t// so we have to reset the exclusive state and render the UI\n\t\t// according to the new selection.\n\t\tthis.setState({\n\t\t\titemExclusive: null,\n\t\t});\n\t},\n\n\t/**\n\t * Filters the items and returns only those with exclusive state.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method filterExclusive\n\t * @param {Array} items The widgets to be filtered.\n\t * @return {Array|Object} The item with executive state.\n\t */\n\tfilterExclusive(items) {\n\t\treturn items.filter(item => {\n\t\t\tif (this.state.itemExclusive) {\n\t\t\t\tif (this.state.itemExclusive === item.key) {\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Merges the provided object with three more properties:\n\t * - cancelExclusive - function, which can be used by a widget in\n\t *   order to cancel executive state.\n\t * - renderExclusive - boolean flag which indicates if an widget\n\t *   should be rendered exclusively.\n\t * - requestExclusive - function, which can be used by a widget in\n\t *   order to obtain exclusive state.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method mergeExclusiveProps\n\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t *    to exclusive state.\n\t * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.\n\t * @return {Object} The merged object.\n\t */\n\tmergeExclusiveProps(obj, itemKey) {\n\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\tcancelExclusive: this.cancelExclusive.bind(this, itemKey),\n\t\t\trenderExclusive: this.state.itemExclusive === itemKey,\n\t\t\trequestExclusive: this.requestExclusive.bind(this, itemKey),\n\t\t});\n\t},\n\n\t/**\n\t * Requests and sets exclusive state of an widget.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method requestExclusive\n\t * @param {Object} itemExclusive The widget which requests exclusive state.\n\t */\n\trequestExclusive(itemExclusive) {\n\t\tthis.setState({\n\t\t\titemExclusive,\n\t\t});\n\t},\n};\n\nexport default WidgetExclusive;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nimport Lang from '../../oop/lang';\n\nconst DIRECTION_NONE = 0;\nconst DIRECTION_NEXT = 1;\nconst DIRECTION_PREV = -1;\n\nconst ACTION_NONE = 0;\nconst ACTION_MOVE_FOCUS = 1;\nconst ACTION_DISMISS_FOCUS = 2;\n\n/**\n * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,\n * it exposes the following props and methods:\n *\n * @class WidgetFocusManager\n */\nconst WidgetFocusManager = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * Callback method to be invoked when the focus manager is to be dismissed. This happens\n\t\t * in the following scenarios if a dismiss callback has been specified:\n\t\t * - A dismiss key has been pressed\n\t\t * - In a non-circular focus manager, when:\n\t\t *     - The active descendant is the first one and a prev key has been pressed.\n\t\t *     - The active descendant is the last one and a next key has been pressed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {Function} onDismiss\n\t\t */\n\t\tonDismiss: PropTypes.func,\n\n\t\t/**\n\t\t * Indicates if focus should be set to the first/last descendant when the limits are reached.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {boolean} circular\n\t\t */\n\t\tcircular: PropTypes.bool.isRequired,\n\n\t\t/**\n\t\t * Indicate if should focus the first child of a container\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {Boolean} focusFirstChild\n\t\t */\n\t\tfocusFirstChild: PropTypes.bool,\n\n\t\t/**\n\t\t * String representing the CSS selector used to define the elements that should be handled.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {String} descendants\n\t\t */\n\t\tdescendants: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Object representing the keys used to navigate between descendants. The format for the prop is:\n\t\t * `{dismiss: value, dismissNext: value, dismissPrev: value, next: value, prev: value}` where\n\t\t * value can be both a number or an array of numbers with the allowed keyCodes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {Object} keys\n\t\t */\n\t\tkeys: PropTypes.object.isRequired,\n\t},\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._refresh();\n\t},\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * Refreshes the descendants list.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method componentDidUpdate\n\t */\n\tcomponentDidUpdate() {\n\t\tthis._refresh();\n\t},\n\n\t/**\n\t * Focuses the current active descendant.\n\t *\n\t * Several Widgets can be nested in a component hierarchy by attaching this focus method to\n\t * the widget DOM node, transferring the DOM focus control to the inner FocusManager.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method focus\n\t */\n\tfocus(event) {\n\t\tif (!event || this._isValidTarget(event.target)) {\n\t\t\tif (this._descendants && this._descendants.length) {\n\t\t\t\tconst activeDescendantEl = this._descendants[\n\t\t\t\t\tthis._activeDescendant\n\t\t\t\t];\n\t\t\t\t// When user clicks with the mouse, the activeElement is already set and there\n\t\t\t\t// is no need to focus it. Focusing of the active descendant (usually some button) is required\n\t\t\t\t// in case of keyboard navigation, because the focused element might be not the first button,\n\t\t\t\t// but the div element, which contains the button.\n\t\t\t\tif (\n\t\t\t\t\tdocument.activeElement !== activeDescendantEl &&\n\t\t\t\t\t!this.props.focusFirstChild\n\t\t\t\t) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis._descendants.indexOf(document.activeElement) === -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tactiveDescendantEl.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (event) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Handles the key events on a DOM node to execute the appropriate navigation when needed.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @param {Object} event The Keyboard event that was detected on the widget DOM node.\n\t * @method handleKey\n\t */\n\thandleKey(event) {\n\t\tif (this._isValidTarget(event.target) && this._descendants) {\n\t\t\tconst action = this._getFocusAction(event);\n\n\t\t\tif (action.type) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (action.type === ACTION_MOVE_FOCUS) {\n\t\t\t\t\tthis._moveFocus(action.direction);\n\t\t\t\t}\n\n\t\t\t\tif (action.type === ACTION_DISMISS_FOCUS) {\n\t\t\t\t\tthis.props.onDismiss(action.direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Moves the focus among descendants in the especified direction.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method moveFocus\n\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t */\n\tmoveFocus(direction) {\n\t\tdirection = Lang.isNumber(direction) ? direction : 0;\n\n\t\tthis._moveFocus(direction);\n\t},\n\n\t/**\n\t * Returns the action, if any, that a keyboard event in the current focus manager state\n\t * should produce.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _getFocusAction\n\t * @param {object} event The Keyboard event.\n\t * @protected\n\t * @return {Object} An action object with type and direction properties.\n\t */\n\t_getFocusAction(event) {\n\t\tconst action = {\n\t\t\ttype: ACTION_NONE,\n\t\t};\n\n\t\tif (this.props.keys) {\n\t\t\tconst direction = this._getFocusMoveDirection(event);\n\n\t\t\tif (direction) {\n\t\t\t\taction.direction = direction;\n\t\t\t\taction.type = ACTION_MOVE_FOCUS;\n\t\t\t}\n\n\t\t\tconst dismissAction = this._getFocusDismissAction(event, direction);\n\n\t\t\tif (dismissAction.dismiss) {\n\t\t\t\taction.direction = dismissAction.direction;\n\t\t\t\taction.type = ACTION_DISMISS_FOCUS;\n\t\t\t}\n\t\t}\n\n\t\treturn action;\n\t},\n\n\t/**\n\t * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This\n\t * will happen in any of these scenarios if a dismiss callback has been specified:\n\t * - A dismiss key has been pressed\n\t * - In a non-circular focus manager, when:\n\t *     - The active descendant is the first one and a prev key has been pressed.\n\t *     - The active descendant is the last one and a next key has been pressed.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _getFocusDismissAction\n\t * @param {Number} focusMoveDirection The focus movement direction (if any).\n\t * @param {Object} event The Keyboard event.\n\t * @protected\n\t * @return {Object} A dismiss action with dismiss and direction properties.\n\t */\n\t_getFocusDismissAction(event, focusMoveDirection) {\n\t\tconst dismissAction = {\n\t\t\tdirection: focusMoveDirection,\n\t\t\tdismiss: false,\n\t\t};\n\n\t\tif (this.props.onDismiss) {\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {\n\t\t\t\tdismissAction.dismiss = true;\n\t\t\t}\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismissNext)) {\n\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\tdismissAction.direction = DIRECTION_NEXT;\n\t\t\t}\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismissPrev)) {\n\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\tdismissAction.direction = DIRECTION_PREV;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t!dismissAction.dismiss &&\n\t\t\t\t!this.props.circular &&\n\t\t\t\tfocusMoveDirection\n\t\t\t) {\n\t\t\t\tdismissAction.dismiss =\n\t\t\t\t\t(focusMoveDirection === DIRECTION_PREV &&\n\t\t\t\t\t\tthis._activeDescendant === 0) ||\n\t\t\t\t\t(focusMoveDirection === DIRECTION_NEXT &&\n\t\t\t\t\t\tthis._activeDescendant ===\n\t\t\t\t\t\t\tthis._descendants.length - 1);\n\t\t\t}\n\t\t}\n\n\t\treturn dismissAction;\n\t},\n\n\t/**\n\t * Returns the direction, if any, in which the focus should be moved. In presence of the\n\t * shift key modifier, the direction of the movement is inverted.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _getFocusMoveDirection\n\t * @param {Object} event The Keyboard event.\n\t * @protected\n\t * @return {Number} The computed direction of the expected focus movement.\n\t */\n\t_getFocusMoveDirection(event) {\n\t\tlet direction = DIRECTION_NONE;\n\n\t\tif (this._isValidKey(event.keyCode, this.props.keys.next)) {\n\t\t\tdirection = DIRECTION_NEXT;\n\t\t}\n\t\tif (this._isValidKey(event.keyCode, this.props.keys.prev)) {\n\t\t\tdirection = DIRECTION_PREV;\n\t\t}\n\n\t\tif (event.shifKey) {\n\t\t\tdirection *= -1;\n\t\t}\n\n\t\treturn direction;\n\t},\n\n\t/**\n\t * Indicates if a given keyCode is valid for the given set of keys.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _isValidKey\n\t * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.\n\t * @param {Number} keyCode An event keyCode.\n\t * @protected\n\t * @return {Boolean} A boolean value indicating if the key is valid.\n\t */\n\t_isValidKey(keyCode, keys) {\n\t\treturn Lang.isArray(keys)\n\t\t\t? keys.indexOf(keyCode) !== -1\n\t\t\t: keyCode === keys;\n\t},\n\n\t/**\n\t * Indicates if a given element is valid for focus management. User input elements such as\n\t * input, select or textarea are excluded.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _isValidKey\n\t * @param {DOMNode} element A DOM element.\n\t * @protected\n\t * @return {Boolean} A boolean value indicating if the element is valid.\n\t */\n\t_isValidTarget(element) {\n\t\tconst tagName = element.tagName.toLowerCase();\n\n\t\treturn (\n\t\t\ttagName !== 'input' &&\n\t\t\ttagName !== 'select' &&\n\t\t\ttagName !== 'textarea'\n\t\t);\n\t},\n\n\t/**\n\t * Moves the focus among descendants in the especified direction.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _moveFocus\n\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t * @protected\n\t */\n\t_moveFocus(direction) {\n\t\tconst numDescendants = this._descendants.length;\n\n\t\tlet descendant = this._descendants[this._activeDescendant];\n\n\t\tdescendant.setAttribute('tabIndex', -1);\n\n\t\tthis._activeDescendant += direction;\n\n\t\tif (this.props.circular) {\n\t\t\t// Calculate proper modulo result since remainder operator doesn't behave in the\n\t\t\t// same way for negative numbers\n\t\t\tthis._activeDescendant =\n\t\t\t\t((this._activeDescendant % numDescendants) + numDescendants) %\n\t\t\t\tnumDescendants;\n\t\t} else {\n\t\t\tthis._activeDescendant = Math.max(\n\t\t\t\tMath.min(this._activeDescendant, numDescendants - 1),\n\t\t\t\t0\n\t\t\t);\n\t\t}\n\n\t\tdescendant = this._descendants[this._activeDescendant];\n\n\t\tdescendant.setAttribute('tabIndex', 0);\n\t\tdescendant.focus();\n\t},\n\n\t/**\n\t * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _refresh\n\t * @protected\n\t */\n\t_refresh() {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (domNode) {\n\t\t\tconst descendants = domNode.querySelectorAll(\n\t\t\t\tthis.props.descendants\n\t\t\t);\n\n\t\t\tlet priorityDescendants = [];\n\n\t\t\tthis._descendants = [];\n\n\t\t\tArray.prototype.slice.call(descendants).forEach(item => {\n\t\t\t\tconst dataTabIndex = item.getAttribute('data-tabindex');\n\n\t\t\t\tif (dataTabIndex) {\n\t\t\t\t\tpriorityDescendants.push(item);\n\t\t\t\t} else {\n\t\t\t\t\tthis._descendants.push(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tpriorityDescendants = priorityDescendants.sort((a, b) => {\n\t\t\t\treturn (\n\t\t\t\t\tLang.toInt(a.getAttribute('data-tabindex')) >\n\t\t\t\t\tLang.toInt(b.getAttribute('data-tabindex'))\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tthis._descendants = priorityDescendants.concat(this._descendants);\n\n\t\t\tthis._activeDescendant = 0;\n\n\t\t\tthis._descendants.some((item, index) => {\n\t\t\t\tif (item.getAttribute('tabindex') === '0') {\n\t\t\t\t\tthis._activeDescendant = index;\n\t\t\t\t\tthis.focus();\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n};\n\nexport default WidgetFocusManager;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nimport WidgetInteractionPoint from './widget-interaction-point';\n\n/**\n * Calculates the position where an Widget should be displayed based on\n * the point where user interacted with the editor.\n *\n * @class WidgetPosition\n * @uses WidgetInteractionPoint\n */\nconst WidgetPosition = {\n\tmixins: [WidgetInteractionPoint],\n\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * Should the widget to be restricted to the viewport, or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @property {Boolean} constrainToViewport\n\t\t * @default true\n\t\t */\n\t\tconstrainToViewport: PropTypes.bool,\n\n\t\t/**\n\t\t * The gutter (vertical and horizontal) between the interaction\n\t\t * point and where the widget should be rendered.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @property {Object} gutter\n\t\t * @default {\n\t\t *     left: 0,\n\t\t *     top: 10\n\t\t * }\n\t\t */\n\t\tgutter: PropTypes.object,\n\t},\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in\n\t * the widget.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method getDefaultProps\n\t */\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tgutter: {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 10,\n\t\t\t},\n\t\t\tconstrainToViewport: true,\n\t\t};\n\t},\n\n\t/**\n\t * Cancels an scheduled animation frame.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method cancelAnimation\n\t */\n\tcancelAnimation() {\n\t\tif (window.cancelAnimationFrame) {\n\t\t\twindow.cancelAnimationFrame(this._animationFrameId);\n\t\t}\n\t},\n\n\t/**\n\t * Returns an object which contains the position of the element in\n\t * page coordinates, restricted to fit to given viewport.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method getConstrainedPosition\n\t * @param {Object} attrs The following properties, provided as numbers:\n\t * - height\n\t * - left\n\t * - top\n\t * - width\n\t * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:\n\t * - width\n\t * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the\n\t * element.\n\t */\n\tgetConstrainedPosition(attrs, viewPaneSize) {\n\t\tviewPaneSize =\n\t\t\tviewPaneSize || new CKEDITOR.dom.window(window).getViewPaneSize();\n\n\t\tlet x = attrs.left;\n\t\tlet y = attrs.top;\n\n\t\tif (attrs.left + attrs.width > viewPaneSize.width) {\n\t\t\tx -= attrs.left + attrs.width - viewPaneSize.width;\n\t\t}\n\n\t\tif (y < 0) {\n\t\t\ty = 0;\n\t\t}\n\n\t\treturn {\n\t\t\tx,\n\t\t\ty,\n\t\t};\n\t},\n\n\t/**\n\t * Returns the position of the Widget taking in consideration the\n\t * {{#crossLink \"WidgetPosition/gutter:attribute\"}}{{/crossLink}} attribute.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @protected\n\t * @method  getWidgetXYPoint\n\t * @param {Number} left The left offset in page coordinates where Toolbar should be shown.\n\t * @param {Number} top The top offset in page coordinates where Toolbar should be shown.\n\t * @param {Number} direction The direction of the selection. May be one of the following:\n\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t * @return {Array} An Array with left and top offsets in page coordinates.\n\t */\n\tgetWidgetXYPoint(left, top, direction) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tconst gutter = this.props.gutter;\n\t\tconst offsetWidth = domNode.offsetWidth;\n\t\tconst halfWidth = offsetWidth / 2;\n\n\t\tif (\n\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM ||\n\t\t\tdirection === CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t) {\n\t\t\tleft = left - gutter.left - halfWidth;\n\n\t\t\ttop =\n\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t? top + gutter.top\n\t\t\t\t\t: top - domNode.offsetHeight - gutter.top;\n\t\t} else if (\n\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT ||\n\t\t\tdirection === CKEDITOR.SELECTION_RIGHT_TO_LEFT\n\t\t) {\n\t\t\tleft =\n\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT\n\t\t\t\t\t? left + gutter.left + domNode.offsetHeight / 2\n\t\t\t\t\t: left - (3 * domNode.offsetHeight) / 2 - gutter.left;\n\n\t\t\ttop = top - gutter.top - domNode.offsetHeight / 2;\n\t\t}\n\n\t\tif (left < 0) {\n\t\t\tleft = 0;\n\t\t}\n\n\t\tif (left > document.body.offsetWidth - halfWidth) {\n\t\t\tleft = document.body.offsetWidth - halfWidth;\n\t\t}\n\n\t\tif (top < 0) {\n\t\t\ttop = 0;\n\t\t}\n\n\t\treturn [left, top];\n\t},\n\n\t/**\n\t * Returns true if the widget is visible, false otherwise\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method isVisible\n\t * @return {Boolean} True if the widget is visible, false otherwise\n\t */\n\tisVisible() {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (domNode) {\n\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\treturn domElement.hasClass('alloy-editor-visible');\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Moves a widget from a starting point to a destination point.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method moveToPoint\n\t * @param  {Object} startPoint The starting point for the movement.\n\t * @param  {Object} endPoint The destination point for the movement.\n\t */\n\tmoveToPoint(startPoint, endPoint) {\n\t\tconst domElement = new CKEDITOR.dom.element(ReactDOM.findDOMNode(this));\n\n\t\tdomElement.setStyles({\n\t\t\tleft: startPoint[0] + 'px',\n\t\t\ttop: startPoint[1] + 'px',\n\t\t\topacity: 0,\n\t\t\tpointerEvents: 'none',\n\t\t});\n\n\t\tdomElement.removeClass('alloy-editor-invisible');\n\n\t\tthis._animate(() => {\n\t\t\tdomElement.addClass('ae-toolbar-transition');\n\t\t\tdomElement.addClass('alloy-editor-visible');\n\t\t\tdomElement.setStyles({\n\t\t\t\tleft: endPoint[0] + 'px',\n\t\t\t\ttop: endPoint[1] + 'px',\n\t\t\t\topacity: 1,\n\t\t\t});\n\n\t\t\t// 150ms to match transition-duration for .ae-toolbar-transition:\n\t\t\tsetTimeout(() => {\n\t\t\t\tdomElement.setStyles({\n\t\t\t\t\tpointerEvents: '',\n\t\t\t\t});\n\t\t\t}, 150);\n\t\t});\n\t},\n\n\t/**\n\t * Shows the widget with the default animation transition.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method show\n\t */\n\tshow() {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\t\tconst uiNode = this.props.editor.get('uiNode');\n\n\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\tif (!this.isVisible() && domNode) {\n\t\t\tconst interactionPoint = this.getInteractionPoint();\n\n\t\t\tif (interactionPoint) {\n\t\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\tlet finalX, finalY, initialX, initialY;\n\n\t\t\t\tfinalX = initialX = parseFloat(domElement.getStyle('left'));\n\t\t\t\tfinalY = initialY = parseFloat(domElement.getStyle('top'));\n\n\t\t\t\tif (this.props.constrainToViewport) {\n\t\t\t\t\tconst res = this.getConstrainedPosition({\n\t\t\t\t\t\theight: parseFloat(domNode.offsetHeight),\n\t\t\t\t\t\tleft: finalX,\n\t\t\t\t\t\ttop: finalY,\n\t\t\t\t\t\twidth: parseFloat(domNode.offsetWidth),\n\t\t\t\t\t});\n\n\t\t\t\t\tfinalX = res.x;\n\t\t\t\t\tfinalY = res.y;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tinteractionPoint.direction ===\n\t\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t) {\n\t\t\t\t\tinitialY =\n\t\t\t\t\t\tthis.props.selectionData.region.bottom + scrollTop;\n\t\t\t\t} else {\n\t\t\t\t\tinitialY = this.props.selectionData.region.top + scrollTop;\n\t\t\t\t}\n\n\t\t\t\tthis.moveToPoint([initialX, initialY], [finalX, finalY]);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Updates the widget position based on the current interaction point.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method updatePosition\n\t */\n\tupdatePosition() {\n\t\tconst interactionPoint = this.getInteractionPoint();\n\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (interactionPoint && domNode) {\n\t\t\tconst uiNode = this.props.editor.get('uiNode') || document.body;\n\t\t\tconst uiNodeStyle = getComputedStyle(uiNode);\n\t\t\tconst uiNodeMarginLeft = parseInt(\n\t\t\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t\t\t10\n\t\t\t);\n\t\t\tconst uiNodeMarginRight = parseInt(\n\t\t\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t\t\t10\n\t\t\t);\n\t\t\tconst totalWidth =\n\t\t\t\tuiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\t\t\tconst scrollTop = uiNode.tagName !== 'BODY' ? uiNode.scrollTop : 0;\n\n\t\t\tconst xy = this.getWidgetXYPoint(\n\t\t\t\tinteractionPoint.x,\n\t\t\t\tinteractionPoint.y,\n\t\t\t\tinteractionPoint.direction\n\t\t\t);\n\t\t\txy[1] += scrollTop;\n\n\t\t\tif (xy[0] < 0) {\n\t\t\t\txy[0] = 0;\n\t\t\t}\n\t\t\tif (xy[0] > totalWidth - domNode.offsetWidth) {\n\t\t\t\txy[0] = totalWidth - domNode.offsetWidth;\n\t\t\t}\n\n\t\t\tnew CKEDITOR.dom.element(domNode).setStyles({\n\t\t\t\tleft: xy[0] + 'px',\n\t\t\t\ttop: xy[1] + 'px',\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Requests an animation frame, if possible, to simulate an animation.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method _animate\n\t * @param {Function} callback The function to be executed on the scheduled frame.\n\t * @protected\n\t */\n\t_animate(callback) {\n\t\tif (window.requestAnimationFrame) {\n\t\t\tthis._animationFrameId = window.requestAnimationFrame(callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t},\n};\n\nexport default WidgetPosition;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ToolbarAdd from './toolbar-add.jsx';\nimport ToolbarStyles from './toolbar-styles.jsx';\n\nexport default {\n\t[ToolbarAdd.key]: ToolbarAdd,\n\t[ToolbarStyles.key]: ToolbarStyles,\n};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ToolbarButtons from '../base/toolbar-buttons';\nimport WidgetDropdown from '../base/widget-dropdown';\nimport WidgetExclusive from '../base/widget-exclusive';\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonIcon from '../buttons/button-icon.jsx';\n\nconst POSITION_LEFT = 1;\nconst POSITION_RIGHT = 2;\n\n/**\n * The ToolbarAdd class provides functionality for adding content to the editor.\n *\n * @class ToolbarAdd\n * @uses ToolbarButtons\n * @uses WidgetDropdown\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n */\nclass ToolbarAdd extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method componentDidUpdate\n\t * @param {Object} prevProps The previous state of the component's properties.\n\t * @param {Object} prevState Component's previous state.\n\t */\n\tcomponentDidUpdate(_prevProps, _prevState) {\n\t\tthis._updatePosition();\n\n\t\t// In case of exclusive rendering, focus the first descendant (button)\n\t\t// so the user will be able to start interacting with the buttons immediately.\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the buttons for adding content or hides the toolbar\n\t * if user interacted with a non-editable element.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method render\n\t * @return {Object|null} The content which should be rendered.\n\t */\n\trender() {\n\t\t// Some operations such as `requestExclusive` may force editor to blur which will\n\t\t// invalidate the `props.editorEvent` stored value, without causing a `props` change.\n\t\t// For example, if the editor is empty, `ae_placeholder` plugin will remove\n\t\t// the target from the DOM and will prevent `add` toolbar from rendering.\n\t\t//\n\t\t// It should be safe to assume that if you have been able to render the toolbar\n\t\t// and request the exclusive mode, then rendering might be kept until the exclusive mode is left.\n\t\tif (\n\t\t\t!this.state.itemExclusive &&\n\t\t\tthis.props.editorEvent &&\n\t\t\tthis.props.editorEvent.data.nativeEvent.target &&\n\t\t\t!this.props.editorEvent.data.nativeEvent.target.isContentEditable\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst buttons = this._getButtons();\n\t\tconst className = this._getToolbarClassName();\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-label={AlloyEditor.Strings.add}\n\t\t\t\tclassName={className}\n\t\t\t\tdata-tabindex={this.props.config.tabIndex || 0}\n\t\t\t\tonFocus={this.focus.bind(this)}\n\t\t\t\tonKeyDown={this.handleKey.bind(this)}\n\t\t\t\trole=\"toolbar\"\n\t\t\t\ttabIndex=\"-1\">\n\t\t\t\t<div className=\"ae-container\">{buttons}</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of buttons that will eventually render to HTML.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _getButtons\n\t * @protected\n\t * @return {Object} The buttons which have to be rendered.\n\t */\n\t_getButtons() {\n\t\tlet buttons;\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tbuttons = this.getToolbarButtons(this.props.config.buttons);\n\t\t} else {\n\t\t\tif (this.props.selectionData && this.props.selectionData.region) {\n\t\t\t\tbuttons = (\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.add}\n\t\t\t\t\t\tclassName=\"ae-button ae-button-add\"\n\t\t\t\t\t\tonClick={this.props.requestExclusive.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tToolbarAdd.key\n\t\t\t\t\t\t)}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.add}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"plus\" />\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn buttons;\n\t}\n\n\t/**\n\t * Returns the class name of the toolbar in case of both exclusive and normal mode.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _getToolbarClassName\n\t * @protected\n\t * @return {String} The class name which have to be applied to the DOM element.\n\t */\n\t_getToolbarClassName() {\n\t\tlet cssClass = 'ae-toolbar-add';\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tcssClass = 'ae-toolbar ' + this.getArrowBoxClasses();\n\t\t}\n\n\t\treturn cssClass;\n\t}\n\n\t/**\n\t * Calculates and sets the position of the toolbar in exclusive or normal mode.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _updatePosition\n\t * @protected\n\t */\n\t_updatePosition() {\n\t\tlet region;\n\n\t\t// If component is not mounted, there is nothing to do\n\t\tif (!ReactDOM.findDOMNode(this)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.updatePosition();\n\t\t\tthis.show();\n\t\t} else {\n\t\t\tif (this.props.selectionData) {\n\t\t\t\tregion = this.props.selectionData.region;\n\t\t\t}\n\n\t\t\tif (region) {\n\t\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\tconst startRect = region.startRect || region;\n\n\t\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t\t\tconst clientRect = nativeEditor.editable().getClientRect();\n\n\t\t\t\tlet offsetLeft;\n\n\t\t\t\tconst position =\n\t\t\t\t\tthis.props.config.position || this.props.position;\n\n\t\t\t\tif (position === POSITION_LEFT) {\n\t\t\t\t\toffsetLeft =\n\t\t\t\t\t\tclientRect.left -\n\t\t\t\t\t\tdomNode.offsetWidth -\n\t\t\t\t\t\tthis.props.gutterExclusive.left +\n\t\t\t\t\t\t'px';\n\t\t\t\t} else {\n\t\t\t\t\toffsetLeft =\n\t\t\t\t\t\tclientRect.right +\n\t\t\t\t\t\tthis.props.gutterExclusive.left +\n\t\t\t\t\t\t'px';\n\t\t\t\t}\n\n\t\t\t\tdomNode.style.left = offsetLeft;\n\n\t\t\t\tdomNode.style.top =\n\t\t\t\t\tMath.floor((region.bottom + region.top) / 2) + 'px';\n\n\t\t\t\tconst uiNode = this.context.editor.get('uiNode');\n\n\t\t\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\t\tif (nativeEditor.element.getStyle('overflow') !== 'auto') {\n\t\t\t\t\tdomNode.style.top =\n\t\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t\tregion.top -\n\t\t\t\t\t\t\t\tdomNode.offsetHeight / 2 +\n\t\t\t\t\t\t\t\tstartRect.height / 2 +\n\t\t\t\t\t\t\t\tscrollTop\n\t\t\t\t\t\t) + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tdomNode.style.top =\n\t\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t\tnativeEditor.element.$.offsetTop +\n\t\t\t\t\t\t\t\tstartRect.height / 2 -\n\t\t\t\t\t\t\t\tdomNode.offsetHeight / 2\n\t\t\t\t\t\t) + 'px';\n\t\t\t\t}\n\n\t\t\t\tdomNode.style.opacity = 1;\n\n\t\t\t\tdomElement.removeClass('ae-arrow-box');\n\n\t\t\t\tthis.cancelAnimation();\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default add\n * @memberof ToolbarAdd\n * @property {String} key\n * @static\n */\nToolbarAdd.key = 'add';\n\n/**\n * Defines the constant for positioning the Toolbar on left of the editable area.\n *\n * @default 1\n * @memberof ToolbarAdd\n * @property {String} left\n * @static\n */\nToolbarAdd.left = POSITION_LEFT;\n\n/**\n * Defines the constant for positioning the Toolbar on right of the editable area.\n *\n * @default 2\n * @memberof ToolbarAdd\n * @property {String} right\n * @static\n */\nToolbarAdd.right = POSITION_RIGHT;\n\n/**\n * Lifecycle. Returns the default values of the properties used in the widget.\n *\n * @instance\n * @memberof ToolbarAdd\n * @method getDefaultProps\n * @return {Object} The default properties.\n */\nToolbarAdd.defaultProps = {\n\tcircular: true,\n\tdescendants: '.ae-button',\n\tgutterExclusive: {\n\t\tleft: 10,\n\t\ttop: 0,\n\t},\n\tkeys: {\n\t\tdismiss: [27],\n\t\tnext: [39, 40],\n\t\tprev: [37, 38],\n\t},\n\tposition: POSITION_LEFT,\n};\n\nexport default WidgetDropdown(\n\tWidgetExclusive(WidgetFocusManager(ToolbarButtons(ToolbarAdd)))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\nimport ToolbarButtons from '../base/toolbar-buttons';\nimport WidgetDropdown from '../base/widget-dropdown';\nimport WidgetExclusive from '../base/widget-exclusive';\nimport WidgetFocusManager from '../base/widget-focus-manager';\n\n/**\n * The ToolbarStyles class hosts the buttons for styling a text selection.\n *\n * @class ToolbarStyles\n * @uses ToolbarButtons\n * @uses WidgetDropdown\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n */\nclass ToolbarStyles extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method componentDidUpdate\n\t * @param {Object} prevProps The previous state of the component's properties.\n\t * @param {Object} prevState Component's previous state.\n\t */\n\tcomponentDidUpdate(_prevProps, _prevState) {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the buttons for adding content or hides the toolbar\n\t * if user interacted with a non-editable element.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method render\n\t * @return {Object|null} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst currentSelection = this._getCurrentSelection();\n\n\t\tif (currentSelection) {\n\t\t\tconst getArrowBoxClassesFn = this._getSelectionFunction(\n\t\t\t\tcurrentSelection.getArrowBoxClasses\n\t\t\t);\n\t\t\tlet arrowBoxClasses;\n\n\t\t\tif (getArrowBoxClassesFn) {\n\t\t\t\tarrowBoxClasses = getArrowBoxClassesFn();\n\t\t\t} else {\n\t\t\t\tarrowBoxClasses = this.getArrowBoxClasses();\n\t\t\t}\n\n\t\t\tconst cssClasses = 'ae-toolbar-styles ' + arrowBoxClasses;\n\n\t\t\tlet buttons = currentSelection.buttons;\n\n\t\t\tif (typeof buttons === 'object' && !Array.isArray(buttons)) {\n\t\t\t\tbuttons =\n\t\t\t\t\tbuttons[this.context.editor.get('mode')] ||\n\t\t\t\t\tbuttons['simple'];\n\t\t\t}\n\n\t\t\tconst buttonsGroup = this.getToolbarButtonGroups(buttons, {\n\t\t\t\tmanualSelection: this.props.editorEvent\n\t\t\t\t\t? this.props.editorEvent.data.manualSelection\n\t\t\t\t\t: null,\n\t\t\t\tselectionType: currentSelection.name,\n\t\t\t});\n\n\t\t\tconst hasGroups =\n\t\t\t\tbuttonsGroup.filter(button => {\n\t\t\t\t\treturn Array.isArray(button);\n\t\t\t\t}).length > 0;\n\n\t\t\tlet className = 'ae-container';\n\n\t\t\tif (hasGroups) {\n\t\t\t\tclassName += ' ae-container-column';\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\taria-label={AlloyEditor.Strings.styles}\n\t\t\t\t\tclassName={cssClasses}\n\t\t\t\t\tdata-tabindex={this.props.config.tabIndex || 0}\n\t\t\t\t\tonFocus={this.focus.bind(this)}\n\t\t\t\t\tonKeyDown={this.handleKey.bind(this)}\n\t\t\t\t\trole=\"toolbar\"\n\t\t\t\t\ttabIndex=\"-1\">\n\t\t\t\t\t<div className={className}>\n\t\t\t\t\t\t{buttonsGroup.map((value, index) => {\n\t\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"ae-row\" key={index}>\n\t\t\t\t\t\t\t\t\t\t{value.map(button => {\n\t\t\t\t\t\t\t\t\t\t\treturn button;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Retrieve a function from String. It converts a fully qualified string into the mapped function.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _getSelectionFunction\n\t * @param {Function|String} selectionFn A function, or a fully qualified string pointing to the desired one (e.g. 'AlloyEditor.SelectionTest.image').\n\t * @protected\n\t * @return {Function} The mapped function.\n\t */\n\t_getSelectionFunction(selectionFn) {\n\t\tlet selectionFunction;\n\n\t\tif (Lang.isFunction(selectionFn)) {\n\t\t\tselectionFunction = selectionFn;\n\t\t} else if (Lang.isString(selectionFn)) {\n\t\t\tconst parts = selectionFn.split('.');\n\t\t\tlet currentMember = window;\n\t\t\tlet property = parts.shift();\n\n\t\t\twhile (\n\t\t\t\tproperty &&\n\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t) {\n\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\tproperty = parts.shift();\n\t\t\t}\n\n\t\t\tif (Lang.isFunction(currentMember)) {\n\t\t\t\tselectionFunction = currentMember;\n\t\t\t}\n\t\t}\n\n\t\treturn selectionFunction;\n\t}\n\n\t/**\n\t * Analyzes the current editor selection and returns the selection configuration that matches.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _getCurrentSelection\n\t * @protected\n\t * @return {Object} The matched selection configuration.\n\t */\n\t_getCurrentSelection() {\n\t\tconst eventPayload = this.props.editorEvent\n\t\t\t? this.props.editorEvent.data\n\t\t\t: null;\n\t\tlet selection;\n\n\t\tif (eventPayload) {\n\t\t\tthis.props.config.selections.some(function(item) {\n\t\t\t\tconst testFn = this._getSelectionFunction(item.test);\n\t\t\t\tlet result;\n\n\t\t\t\tif (testFn) {\n\t\t\t\t\tresult =\n\t\t\t\t\t\teventPayload.manualSelection === item.name ||\n\t\t\t\t\t\ttestFn({\n\t\t\t\t\t\t\tdata: eventPayload,\n\t\t\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (result) {\n\t\t\t\t\tselection = item;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, this);\n\t\t}\n\n\t\treturn selection;\n\t}\n\n\t/**\n\t * Calculates and sets the position of the toolbar.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _updatePosition\n\t * @protected\n\t */\n\t_updatePosition() {\n\t\t// If component is not mounted, there is nothing to do\n\t\tif (!ReactDOM.findDOMNode(this)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentSelection = this._getCurrentSelection();\n\t\tlet result;\n\n\t\t// If current selection has a function called `setPosition`, call it\n\t\t// and check the returned value. If false, fallback to the default positioning logic.\n\t\tif (currentSelection) {\n\t\t\tconst setPositionFn = this._getSelectionFunction(\n\t\t\t\tcurrentSelection.setPosition\n\t\t\t);\n\n\t\t\tif (setPositionFn) {\n\t\t\t\tresult = setPositionFn.call(this, {\n\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\teditorEvent: this.props.editorEvent,\n\t\t\t\t\tselectionData: this.props.selectionData,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (!result) {\n\t\t\tthis.updatePosition();\n\t\t\tthis.show();\n\t\t}\n\t}\n}\n\n/**\n * Lifecycle. Returns the default values of the properties used in the widget.\n *\n * @instance\n * @memberof ToolbarStyles\n * @method getDefaultProps\n * @return {Object} The default properties.\n */\nToolbarStyles.defaultProps = {\n\tcircular: true,\n\tdescendants: '.ae-input, .ae-button:not([disabled]), .ae-toolbar-element',\n\tkeys: {\n\t\tdismiss: [27],\n\t\tnext: [39, 40],\n\t\tprev: [37, 38],\n\t},\n};\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default styles\n * @memberof ToolbarStyles\n * @property {String} key\n * @static\n */\nToolbarStyles.key = 'styles';\n\nexport default WidgetDropdown(\n\tWidgetExclusive(WidgetFocusManager(ToolbarButtons(ToolbarStyles)))\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport '../core';\n\nimport '../plugins';\n\nimport '../components/uibridge';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {removeImageCommand} from '../commands';\nimport UI from '../components/main.jsx';\nimport Base from '../oop/base';\nimport Lang from '../oop/lang';\nimport extend from '../oop/oop';\nimport Selections from '../selections/selections';\nimport EditorContext from './editor-context';\n\nconst EMBED_VIDEO_WIDTH = 560;\nconst EMBED_VIDEO_HEIGHT = 315;\n\n/**\n * AlloyEditor main class. Creates instance of the editor and provides the user configuration\n * to the UI.\n *\n * @class Core\n * @constructor\n * @param {Object} config The configuration to be used.\n */\nfunction Core(config) {\n\tCore.superclass.constructor.call(this, config);\n}\n\nextend(\n\tCore,\n\tBase,\n\t{\n\t\t/**\n\t\t * Initializer lifecycle implementation for the AlloyEditor class. Creates a CKEditor\n\t\t * instance, passing it the provided configuration attributes.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method initializer\n\t\t * @param {Object} config Configuration object literal for the editor.\n\t\t */\n\t\tinitializer(config) {\n\t\t\tconst node = this.get('srcNode');\n\n\t\t\tif (this.get('enableContentEditable')) {\n\t\t\t\tnode.setAttribute('contenteditable', 'true');\n\t\t\t}\n\n\t\t\tconst editor = CKEDITOR.inline(node);\n\n\t\t\teditor.config.allowedContent = this.get('allowedContent');\n\n\t\t\teditor.config.toolbars = this.get('toolbars');\n\n\t\t\teditor.config.removePlugins = this.get('removePlugins');\n\n\t\t\teditor.config.extraPlugins = this.get('extraPlugins');\n\n\t\t\teditor.config.embedProviders = this.get('embedProviders');\n\n\t\t\teditor.config.placeholderClass = this.get('placeholderClass');\n\n\t\t\teditor.config.pasteFromWordRemoveStyles = false;\n\t\t\teditor.config.pasteFromWordRemoveFontStyles = false;\n\n\t\t\teditor.config.selectionKeystrokes = this.get('selectionKeystrokes');\n\n\t\t\teditor.config.spritemap = this.get('spritemap');\n\n\t\t\tLang.mix(editor.config, config);\n\n\t\t\tif (CKEDITOR.env.ie && !CKEDITOR.env.edge) {\n\t\t\t\tconst plugin =\n\t\t\t\t\tCKEDITOR.env.version === 11\n\t\t\t\t\t\t? 'ae_dragresize_ie11'\n\t\t\t\t\t\t: 'ae_dragresize_ie';\n\n\t\t\t\teditor.config.extraPlugins = editor.config.extraPlugins.replace(\n\t\t\t\t\t'ae_dragresize',\n\t\t\t\t\tplugin\n\t\t\t\t);\n\t\t\t\teditor.config.removePlugins = editor.config.removePlugins.replace(\n\t\t\t\t\t'ae_dragresize',\n\t\t\t\t\tplugin\n\t\t\t\t);\n\t\t\t}\n\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tthis._addReadOnlyLinkClickListener(editor);\n\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\tconst extraCommands = this.get('extraCommands');\n\n\t\t\t\tconst extraCommandKeys = Object.keys(extraCommands);\n\t\t\t\tfor (let i = 0; i < extraCommandKeys.length; i++) {\n\t\t\t\t\tconst commandName = extraCommandKeys[i];\n\n\t\t\t\t\tif (editor.commands[commandName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\teditor.addCommand(commandName, extraCommands[commandName]);\n\t\t\t\t}\n\n\t\t\t\teditable.addClass('ae-editable');\n\t\t\t});\n\n\t\t\tthis._editor = editor;\n\n\t\t\tAlloyEditor.loadLanguageResources(this._renderUI.bind(this));\n\t\t},\n\n\t\t/**\n\t\t * Destructor lifecycle implementation for the AlloyEdtor class. Destroys the CKEditor\n\t\t * instance and destroys all created toolbars.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method destructor\n\t\t */\n\t\tdestructor() {\n\t\t\tthis._destroyed = true;\n\n\t\t\tif (this._editorUIElement) {\n\t\t\t\tReactDOM.unmountComponentAtNode(this._editorUIElement);\n\t\t\t\tthis._editorUIElement.parentNode.removeChild(\n\t\t\t\t\tthis._editorUIElement\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst nativeEditor = this.get('nativeEditor');\n\n\t\t\tif (nativeEditor) {\n\t\t\t\tconst editable = nativeEditor.editable();\n\n\t\t\t\tif (editable) {\n\t\t\t\t\teditable.removeClass('ae-editable');\n\n\t\t\t\t\tif (this.get('enableContentEditable')) {\n\t\t\t\t\t\tthis.get('srcNode').setAttribute(\n\t\t\t\t\t\t\t'contenteditable',\n\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._clearSelections();\n\n\t\t\t\tnativeEditor.destroy();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Clear selections from window object\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _clearSelections\n\t\t */\n\t\t_clearSelections() {\n\t\t\tconst nativeEditor = this.get('nativeEditor');\n\t\t\tconst isMSSelection = typeof window.getSelection != 'function';\n\n\t\t\tif (isMSSelection) {\n\t\t\t\tnativeEditor.document.$.selection.empty();\n\t\t\t} else {\n\t\t\t\tnativeEditor.document\n\t\t\t\t\t.getWindow()\n\t\t\t\t\t.$.getSelection()\n\t\t\t\t\t.removeAllRanges();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Method to set default link behavior\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _addReadOnlyLinkClickListener\n\t\t * @param {Object} editor\n\t\t */\n\t\t_addReadOnlyLinkClickListener(editor) {\n\t\t\teditor.editable().on('click', this._defaultReadOnlyClickFn, this, {\n\t\t\t\teditor,\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Called on `click` event when the editor is in read only mode. Navigates to link's URL or opens\n\t\t * the link in a new window.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @event readOnlyClick\n\t\t * @protected\n\t\t * @method _defaultReadOnlyClickFn\n\t\t * @param {Object} event The fired `click` event payload\n\t\t */\n\t\t_defaultReadOnlyClickFn(event) {\n\t\t\tconst mouseEvent = event.data.$;\n\t\t\tconst hasCtrlKey = mouseEvent.ctrlKey || mouseEvent.metaKey;\n\t\t\tconst shouldOpen = this._editor.config.readOnly || hasCtrlKey;\n\n\t\t\tmouseEvent.preventDefault();\n\n\t\t\tif (!shouldOpen) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.listenerData.editor\n\t\t\t\t\t.editable()\n\t\t\t\t\t.editor.fire('readOnlyClick', event.data) !== false\n\t\t\t) {\n\t\t\t\tconst ckElement = new CKEDITOR.dom.elementPath(\n\t\t\t\t\tevent.data.getTarget(),\n\t\t\t\t\tthis\n\t\t\t\t);\n\t\t\t\tconst link = ckElement.lastElement;\n\n\t\t\t\tif (link) {\n\t\t\t\t\tconst href = link.$.attributes.href\n\t\t\t\t\t\t? link.$.attributes.href.value\n\t\t\t\t\t\t: null;\n\t\t\t\t\tconst target = hasCtrlKey\n\t\t\t\t\t\t? '_blank'\n\t\t\t\t\t\t: link.$.attributes.target\n\t\t\t\t\t\t? link.$.attributes.target.value\n\t\t\t\t\t\t: null;\n\t\t\t\t\tthis._redirectLink(href, target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the native CKEditor instance. Having this, the developer may use the API of CKEditor OOTB.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _getNativeEditor\n\t\t * @return {Object} The current instance of CKEditor.\n\t\t */\n\t\t_getNativeEditor() {\n\t\t\treturn this._editor;\n\t\t},\n\n\t\t/**\n\t\t * Redirects the browser to a given link\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _redirectLink\n\t\t * @param {string} href The href to take the browser to\n\t\t * @param {string=} target Specifies where to display the link\n\t\t */\n\t\t_redirectLink(href, target) {\n\t\t\tif (target && href) {\n\t\t\t\twindow.open(href, target);\n\t\t\t} else if (href) {\n\t\t\t\twindow.location.href = href;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Renders the specified from the user toolbars.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _renderUI\n\t\t */\n\t\t_renderUI() {\n\t\t\tif (!this._destroyed) {\n\t\t\t\tconst editorUIElement = document.createElement('div');\n\t\t\t\teditorUIElement.className = 'ae-ui';\n\n\t\t\t\tconst uiNode = this.get('uiNode') || document.body;\n\n\t\t\t\tuiNode.appendChild(editorUIElement);\n\n\t\t\t\tconst callbackRef = element => {\n\t\t\t\t\tif (!this._mainUI && element) {\n\t\t\t\t\t\tthis._mainUI = element;\n\t\t\t\t\t\tthis.get('nativeEditor').fire('uiReady');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<EditorContext.Provider value={{editor: this}}>\n\t\t\t\t\t\t<UI\n\t\t\t\t\t\t\teventsDelay={this.get('eventsDelay')}\n\t\t\t\t\t\t\tref={callbackRef}\n\t\t\t\t\t\t\ttoolbars={this.get('toolbars')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</EditorContext.Provider>,\n\t\t\t\t\teditorUIElement\n\t\t\t\t);\n\n\t\t\t\tthis._editorUIElement = editorUIElement;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The function returns an HTML element from the passed value. If the passed value is a string, it should be\n\t\t * the Id of the element which have to be retrieved from the DOM.\n\t\t * If an HTML Element is passed, the element itself will be returned.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @method _toElement\n\t\t * @protected\n\t\t * @param {!(String|HTMLElement)} value String, which have to correspond to an HTML element from the DOM,\n\t\t * or the HTML element itself. If Id is passed, the HTML element will be retrieved from the DOM.\n\t\t * @return {HTMLElement} An HTML element.\n\t\t */\n\t\t_toElement(value) {\n\t\t\tif (Lang.isString(value)) {\n\t\t\t\tvalue = document.getElementById(value);\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\n\t\t/**\n\t\t * Validates the allowed content attribute. Look\n\t\t * [here](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent) for more information about the\n\t\t * supported values.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _validateAllowedContent\n\t\t * @param {Any} value The value to be checked\n\t\t * @return {Boolean} True if the current value is valid configuration, false otherwise\n\t\t */\n\t\t_validateAllowedContent(value) {\n\t\t\treturn (\n\t\t\t\tLang.isString(value) ||\n\t\t\t\tLang.isObject(value) ||\n\t\t\t\tLang.isBoolean(value)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Validates the value of toolbars attribute\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _validateToolbars\n\t\t * @param {Any} value The value to be checked\n\t\t * @return {Boolean} True if the current value is valid toolbars configuration, false otherwise\n\t\t */\n\t\t_validateToolbars(value) {\n\t\t\treturn Lang.isObject(value) || Lang.isNull(value);\n\t\t},\n\t},\n\t{\n\t\tATTRS: {\n\t\t\t/**\n\t\t\t * Configures the allowed content for the current instance of AlloyEditor.\n\t\t\t * Look on the [official CKEditor API](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent)\n\t\t\t * for more information about the valid values.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property allowedContent\n\t\t\t * @default true\n\t\t\t * @writeOnce\n\t\t\t * @type {Boolean, String, Object}\n\t\t\t */\n\t\t\tallowedContent: {\n\t\t\t\tvalidator: '_validateAllowedContent',\n\t\t\t\tvalue: true,\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Callback to be invoked when clicking on the\n\t\t\t * <code>src/components/buttons/button-link-edit-browse.jsx</code>\n\t\t\t * component.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @propety documentBrowseLinkCallback\n\t\t\t * @default undefined\n\t\t\t * @type {Function|undefined}\n\t\t\t */\n\t\t\tdocumentBrowseLinkCallback: {\n\t\t\t\tvalidator: Lang.isFunction,\n\t\t\t\tvalue: undefined,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Configuration for the\n\t\t\t * <code>src/components/buttons/button-link-edit-browse.jsx</code>\n\t\t\t * component.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @propety documentBrowseLinkUrl\n\t\t\t * @default undefined\n\t\t\t * @type {String|undefined}\n\t\t\t */\n\t\t\tdocumentBrowseLinkUrl: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: undefined,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * List of embed providers for videos\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property embedProviders\n\t\t\t * @default []\n\t\t\t * @type Array}\n\t\t\t */\n\t\t\tembedProviders: {\n\t\t\t\tvalidator: Lang.isArray,\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'facebook',\n\t\t\t\t\t\ttpl: `<iframe allowFullScreen=\"true\" allowTransparency=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t frameborder=\"0\" height=\"${EMBED_VIDEO_HEIGHT}\"\n\t\t\t\t\t\t\t\t\t\t\t\t src=\"https://www.facebook.com/plugins/video.php?href={embedId}'\n\t\t\t\t\t\t\t\t\t\t\t\t &show_text=0&width=${EMBED_VIDEO_WIDTH}&height=${EMBED_VIDEO_HEIGHT}\" scrolling=\"no\"\n\t\t\t\t\t\t\t\t\t\t\t\t style=\"border:none;overflow:hidden\" width=\"${EMBED_VIDEO_WIDTH}}\"></iframe>`,\n\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'(https?:\\\\/\\\\/(?:www\\\\.)?facebook.com\\\\/\\\\S*\\\\/videos\\\\/\\\\S*)',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'twitch',\n\t\t\t\t\t\ttpl: `<iframe allowfullscreen=\"true\" frameborder=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t height=\"${EMBED_VIDEO_HEIGHT}\"\n\t\t\t\t\t\t\t\t\t\t\t\t src=\"https://player.twitch.tv/?autoplay=false&video={embedId}\"\n\t\t\t\t\t\t\t\t\t\t\t\t scrolling=\"no\" width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?twitch.tv\\\\/videos\\\\/(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'vimeo',\n\t\t\t\t\t\ttpl: `<iframe allowfullscreen frameborder=\"0\" height=\"${EMBED_VIDEO_HEIGHT}\"\n\t\t\t\t\t\t\t\t\t\t\t\t mozallowfullscreen src=\"https://player.vimeo.com/video/{embedId}\"\n\t\t\t\t\t\t\t\t\t\t\t\t webkitallowfullscreen width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/album\\\\/.*\\\\/video\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/channels\\\\/.*\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/groups\\\\/.*\\\\/videos\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'youtube',\n\t\t\t\t\t\ttpl: `<iframe allow=\"autoplay; encrypted-media\" allowfullscreen\n\t\t\t\t\t\t\t\t\t\t\t\t height=\"${EMBED_VIDEO_HEIGHT}\" frameborder=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t src=\"https://www.youtube.com/embed/{embedId}?rel=0\"\n\t\t\t\t\t\t\t\t\t\t\t\t width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?youtube.com\\\\/watch\\\\?v=(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies whether AlloyEditor set the contenteditable attribute\n\t\t\t * to \"true\" on its srcNode.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property enableContentEditable\n\t\t\t * @type Boolean\n\t\t\t * @default true\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tenableContentEditable: {\n\t\t\t\tvalidator: Lang.isBoolean,\n\t\t\t\tvalue: true,\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The delay (timeout), in ms, after which events such like key or mouse events will be processed.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property eventsDelay\n\t\t\t * @type {Number}\n\t\t\t */\n\t\t\teventsDelay: {\n\t\t\t\tvalidator: Lang.isNumber,\n\t\t\t\tvalue: 100,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The list of extra commands to be added to the editor.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property extraCommands\n\t\t\t * @type {Object}\n\t\t\t */\n\t\t\textraCommands: {\n\t\t\t\tvalidator: Lang.isObject,\n\t\t\t\tvalue: {\n\t\t\t\t\tremoveImage: removeImageCommand,\n\t\t\t\t},\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the extra plugins which have to be loaded to the current CKEditor instance in order to\n\t\t\t * make AlloyEditor to work properly.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property extraPlugins\n\t\t\t * @default 'uicore,selectionregion,dragresize,addimages,placeholder,tabletools,tableresize,autolink'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\textraPlugins: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue:\n\t\t\t\t\t'ae_uicore,ae_selectionregion,ae_selectionkeystrokes,ae_imagealignment,ae_addimages,ae_placeholder,' +\n\t\t\t\t\t'ae_tabletools,ae_tableresize,ae_autolink,ae_embed,ae_autolist,ae_dragresize,' +\n\t\t\t\t\t'ae_uibridge,ae_richcombobridge,ae_panelmenubuttonbridge,ae_menubridge,ae_menubuttonbridge,ae_buttonbridge,font,colorbutton',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the \"mode\" for alloy editor\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property mode\n\t\t\t * @default 'simple'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tmode: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'simple',\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Retrieves the native CKEditor instance. Having this, the developer may use the full API of CKEditor.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property nativeEditor\n\t\t\t * @readOnly\n\t\t\t * @type {Object}\n\t\t\t */\n\t\t\tnativeEditor: {\n\t\t\t\tgetter: '_getNativeEditor',\n\t\t\t\treadOnly: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the class, which should be added by Placeholder plugin\n\t\t\t * {{#crossLink \"CKEDITOR.plugins.ae_placeholder}}{{/crossLink}}\n\t\t\t * when editor is not focused.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property placeholderClass\n\t\t\t * @default 'ae-placeholder'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tplaceholderClass: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'ae-placeholder',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the plugins, which come by default with CKEditor, but which are not needed by AlloyEditor.\n\t\t\t * These plugins add the default UI for CKeditor, which is no more needed. Please note that AlloyEdtor\n\t\t\t * comes with its own highly optimized copy of CKEditor (just customized via their official download page).\n\t\t\t * This version does not come with the unneeded plugins, so the value of this property won't be needed.\n\t\t\t * However, if you decide to go with the OOTB version of CKEditor, you will have to remove some of the\n\t\t\t * plugins if you decide to use AlloyEditor. Keep in mind that removing these plugins doesn't remove them\n\t\t\t * entirely from CKEditor. It just removes them from its current instance, in which you will use different\n\t\t\t * UI - those of AlloyEditor. You will be fully able to use both OOTB CKEditor and AlloyEditor on the same\n\t\t\t * page!\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property removePlugins\n\t\t\t * @default 'contextmenu,toolbar,elementspath,resize,liststyle,link'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tremovePlugins: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'contextmenu,toolbar,elementspath,resize,liststyle,link',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Array of manual selection triggers. They can be configured to manually show a specific selection toolbar\n\t\t\t * by forcing the selection type. A selectionKeystroke item consists of a keys property with a [CKEditor keystroke\n\t\t\t * definition](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-keystrokes) and a selection property with\n\t\t\t * the selection name to trigger.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property selectionKeystrokes\n\t\t\t * @type {Array}\n\t\t\t */\n\t\t\tselectionKeystrokes: {\n\t\t\t\tvalidator: Lang.isArray,\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t\t\t\t\tselection: 'link',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkeys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/,\n\t\t\t\t\t\tselection: 'embed',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The path to the spritemap SVG used for icons\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property spritemap\n\t\t\t * @type String\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tspritemap: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'alloy-editor/assets/icons/icons.svg',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The Node ID or HTMl node, which AlloyEditor should use as an editable area.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property srcNode\n\t\t\t * @type String | Node\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tsrcNode: {\n\t\t\t\tsetter: '_toElement',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The toolbars configuration for this editor instance\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property {Object} toolbars\n\t\t\t */\n\t\t\ttoolbars: {\n\t\t\t\tvalidator: '_validateToolbars',\n\t\t\t\tvalue: {\n\t\t\t\t\tadd: {\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t'imageFromFile',\n\t\t\t\t\t\t\t'embed',\n\t\t\t\t\t\t\t'camera',\n\t\t\t\t\t\t\t'hline',\n\t\t\t\t\t\t\t'table',\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttabIndex: 2,\n\t\t\t\t\t},\n\t\t\t\t\tstyles: {\n\t\t\t\t\t\tselections: Selections,\n\t\t\t\t\t\ttabIndex: 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The Node ID or HTMl node, where AlloyEditor's UI should be rendered.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property uiNode\n\t\t\t * @type String | Node\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tuiNode: {\n\t\t\t\tsetter: '_toElement',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\t\t},\n\t}\n);\n\nCKEDITOR.event.implementOn(Core);\n\nexport default Core;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport debounce from './debounce';\n\nimport './link';\n\nimport './plugins';\n\nimport './selection-region';\n\nimport './table';\n\nimport './tools';\n\nimport './uicore';\n\nexport {debounce};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * Debounce util function. If a function execution is expensive, it might be debounced. This means\n * that it will be executed after some amount of time after its last call. For example, if we attach a\n * a function on scroll event, it might be called hundreds times per second. In this case it may be\n * debounced with, let's say 100ms. The real execution of this function will happen 100ms after last\n * scroll event.\n *\n * @memberof CKEDITOR.tools\n * @method debounce\n * @param {Array} args An array of arguments which the callback will receive.\n * @param {Function} callback The callback which has to be called after given timeout.\n * @param {Number} timeout Timeout in milliseconds after which the callback will be called.\n * @param {Object} context The context in which the callback will be called. This argument is optional.\n * @static\n */\nfunction debounce(callback, timeout, context, args = []) {\n\tlet debounceHandle;\n\n\tconst callFn = function(...callArgs) {\n\t\t/* eslint-disable no-invalid-this */\n\t\tconst callContext = context || this;\n\t\t/* eslint-enable no-invalid-this */\n\n\t\tclearTimeout(debounceHandle);\n\n\t\tdebounceHandle = setTimeout(() => {\n\t\t\tcallback.apply(callContext, [...callArgs, ...args]);\n\t\t}, timeout);\n\t};\n\n\tcallFn.detach = function() {\n\t\tclearTimeout(debounceHandle);\n\t};\n\n\treturn callFn;\n}\n\nCKEDITOR.tools.debounce = CKEDITOR.tools.debounce || debounce;\n\nexport default debounce;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst REGEX_BOOKMARK_SCHEME = /^#.*/i;\nconst REGEX_EMAIL_SCHEME = /^[a-z0-9\\u0430-\\u044F._-]+@/i;\nconst REGEX_URI_SCHEME = /^(?:[a-z][a-z0-9+\\-.]*):|^\\//i;\n\n/**\n * Link class utility. Provides methods for create, delete and update links.\n *\n * @class CKEDITOR.Link\n * @constructor\n * @param {Object} editor The CKEditor instance.\n */\nfunction Link(editor, config) {\n\tthis._editor = editor;\n\tthis.appendProtocol =\n\t\tconfig && config.appendProtocol === false ? false : true;\n}\n\nLink.prototype = {\n\tconstructor: Link,\n\n\t/**\n\t * Advances the editor selection to the next available position after a\n\t * given link or the one in the current selection.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method advanceSelection\n\t * @param {CKEDITOR.dom.element} link The link element which link style should be removed.\n\t */\n\tadvanceSelection(link) {\n\t\tlink = link || this.getFromSelection();\n\n\t\tconst range = this._editor.getSelection().getRanges()[0];\n\n\t\tif (link) {\n\t\t\trange.moveToElementEditEnd(link);\n\n\t\t\tconst nextNode = range.getNextEditableNode();\n\n\t\t\tif (\n\t\t\t\tnextNode &&\n\t\t\t\t!this._editor.element.equals(nextNode.getCommonAncestor(link))\n\t\t\t) {\n\t\t\t\tconst whitespace = /\\s/.exec(nextNode.getText());\n\n\t\t\t\tconst offset = whitespace ? whitespace.index + 1 : 0;\n\n\t\t\t\trange.setStart(nextNode, offset);\n\t\t\t\trange.setEnd(nextNode, offset);\n\t\t\t}\n\t\t}\n\n\t\tthis._editor.getSelection().selectRanges([range]);\n\t},\n\n\t/**\n\t * Create a link with given URI as href.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method create\n\t * @param {Object} attrs A config object with link attributes. These might be arbitrary DOM attributes.\n\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t * @param {String} URI The URI of the link.\n\t */\n\tcreate(URI, attrs, modifySelection) {\n\t\tconst selection = this._editor.getSelection();\n\n\t\tconst range = selection.getRanges()[0];\n\n\t\tif (range.collapsed) {\n\t\t\tconst text = new CKEDITOR.dom.text(URI, this._editor.document);\n\t\t\trange.insertNode(text);\n\t\t\trange.selectNodeContents(text);\n\t\t}\n\n\t\tURI = this._getCompleteURI(URI);\n\n\t\tconst linkAttrs = CKEDITOR.tools.merge(\n\t\t\t{\n\t\t\t\t'data-cke-saved-href': URI,\n\t\t\t\thref: URI,\n\t\t\t},\n\t\t\tattrs\n\t\t);\n\n\t\tconst style = new CKEDITOR.style({\n\t\t\tattributes: linkAttrs,\n\t\t\telement: 'a',\n\t\t});\n\n\t\tstyle.type = CKEDITOR.STYLE_INLINE;\n\t\tstyle.applyToRange(range, this._editor);\n\n\t\tif (modifySelection && modifySelection.advance) {\n\t\t\tthis.advanceSelection();\n\t\t} else {\n\t\t\trange.select();\n\t\t}\n\t},\n\n\t/**\n\t * Retrieves a link from the current selection.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method getFromSelection\n\t * @return {CKEDITOR.dom.element} The retrieved link or null if not found.\n\t */\n\tgetFromSelection() {\n\t\tconst selection = this._editor.getSelection();\n\n\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\tif (selectedElement && selectedElement.is('a')) {\n\t\t\treturn selectedElement;\n\t\t}\n\n\t\tif (selectedElement && CKEDITOR.env.ie) {\n\t\t\tconst children = selectedElement.getChildren();\n\n\t\t\tconst count = children.count();\n\n\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\tconst node = children.getItem(i);\n\n\t\t\t\tif (node.is('a')) {\n\t\t\t\t\treturn node;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst range = selection.getRanges()[0];\n\n\t\tif (range) {\n\t\t\trange.shrink(CKEDITOR.SHRINK_TEXT);\n\n\t\t\treturn this._editor\n\t\t\t\t.elementPath(range.getCommonAncestor())\n\t\t\t\t.contains('a', 1);\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Removes a link from the editor.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method remove\n\t * @param {CKEDITOR.dom.element} link The link element which link style should be removed.\n\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t */\n\tremove(link, modifySelection) {\n\t\tconst editor = this._editor;\n\n\t\tif (link) {\n\t\t\tif (modifySelection && modifySelection.advance) {\n\t\t\t\tthis.advanceSelection();\n\t\t\t}\n\n\t\t\tlink.remove(editor);\n\t\t} else {\n\t\t\tconst style = new CKEDITOR.style({\n\t\t\t\talwaysRemoveElement: 1,\n\t\t\t\telement: 'a',\n\t\t\t\ttype: CKEDITOR.STYLE_INLINE,\n\t\t\t});\n\n\t\t\t// 'removeStyle()' removes the style from the editor's current selection.\n\t\t\t//  We need to force the selection to be the whole link element\n\t\t\t//  to remove it properly.\n\n\t\t\tconst selection = editor.getSelection();\n\t\t\tselection.selectElement(selection.getStartElement());\n\n\t\t\teditor.removeStyle(style);\n\t\t}\n\t},\n\n\t/**\n\t * Updates the href of an already existing link.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method update\n\t * @param {CKEDITOR.dom.element} link The link element which href should be removed.\n\t * @param {Object|String} attrs The attributes to update or remove. Attributes with null values will be removed.\n\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t */\n\tupdate(attrs, link, modifySelection) {\n\t\tconst instance = this;\n\n\t\tlink = link || this.getFromSelection();\n\n\t\tif (typeof attrs === 'string') {\n\t\t\tconst uri = instance._getCompleteURI(attrs);\n\n\t\t\tlink.setAttributes({\n\t\t\t\t'data-cke-saved-href': uri,\n\t\t\t\thref: uri,\n\t\t\t});\n\t\t} else if (typeof attrs === 'object') {\n\t\t\tconst removeAttrs = [];\n\n\t\t\tconst setAttrs = {};\n\n\t\t\tObject.keys(attrs).forEach(key => {\n\t\t\t\tif (attrs[key] === null) {\n\t\t\t\t\tif (key === 'href') {\n\t\t\t\t\t\tremoveAttrs.push('data-cke-saved-href');\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveAttrs.push(key);\n\t\t\t\t} else {\n\t\t\t\t\tif (key === 'href') {\n\t\t\t\t\t\tconst uri = instance._getCompleteURI(attrs[key]);\n\n\t\t\t\t\t\tsetAttrs['data-cke-saved-href'] = uri;\n\t\t\t\t\t\tsetAttrs[key] = uri;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetAttrs[key] = attrs[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlink.removeAttributes(removeAttrs);\n\t\t\tlink.setAttributes(setAttrs);\n\t\t}\n\n\t\tif (modifySelection && modifySelection.advance) {\n\t\t\tthis.advanceSelection(link);\n\t\t}\n\t},\n\n\t/**\n\t * Checks if the URI begins with a '#' symbol to determine if it's an on page bookmark.\n\t * If it doesn't, it then checks if the URI has an '@' symbol. If it does and the URI\n\t * looks like an email and doesn't have 'mailto:', 'mailto:' is added to the URI.\n\t * If it doesn't and the URI doesn't have a scheme, the default 'http' scheme with\n\t * hierarchical path '//' is added to the URI.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method _getCompleteURI\n\t * @param {String} URI The URI of the link.\n\t * @protected\n\t * @return {String} The URI updated with the protocol.\n\t */\n\t_getCompleteURI(URI) {\n\t\tif (REGEX_BOOKMARK_SCHEME.test(URI)) {\n\t\t\treturn URI;\n\t\t} else if (REGEX_EMAIL_SCHEME.test(URI)) {\n\t\t\tURI = 'mailto:' + URI;\n\t\t} else if (!REGEX_URI_SCHEME.test(URI)) {\n\t\t\tURI = this.appendProtocol ? 'http://' + URI : URI;\n\t\t}\n\n\t\treturn URI;\n\t},\n};\n\nCKEDITOR.Link = CKEDITOR.Link || Link;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n// Wraps each of the plugin lifecycle methods in a closure that will\n// set up the editor.__processingPlugin__ variable so it can be globally\n// accessed exposing the plugin being processed and the lifecycle phase\n// in which it is happening\n//\n// @param {Object} plugin The plugin to wrap lifecycle methods\nconst wrapPluginLifecycle = function(plugin) {\n\tconst methods = ['beforeInit', 'init', 'afterInit'];\n\n\tmethods.forEach(methodName => {\n\t\tif (plugin[methodName]) {\n\t\t\tplugin[methodName] = CKEDITOR.tools.override(\n\t\t\t\tplugin[methodName],\n\t\t\t\toriginalPluginMethod => {\n\t\t\t\t\tconst payload = {\n\t\t\t\t\t\tphase: methodName,\n\t\t\t\t\t\tplugin,\n\t\t\t\t\t};\n\n\t\t\t\t\treturn function(editor) {\n\t\t\t\t\t\teditor.__processingPlugin__ = payload;\n\n\t\t\t\t\t\t// eslint-disable-next-line no-invalid-this\n\t\t\t\t\t\toriginalPluginMethod.call(this, editor);\n\n\t\t\t\t\t\teditor.__processingPlugin__ = null;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n};\n\n// Filters the requires object to remove unwanted dependencies. At this point\n// only 'toolbar' has been identified, but more can appear. An unwanted plugin\n// dependency is one that prevents a necessary plugin from being removed\n//\n// @param {string|Array<string>} requires The requires object\n// @return {string} The filtered requires object\nconst filterUnwantedDependencies = function(requires) {\n\tif (typeof requires === 'string') {\n\t\trequires = requires.split(',');\n\t}\n\n\treturn requires.filter(require => {\n\t\treturn require !== 'toolbar';\n\t});\n};\n\n/**\n * CKEDITOR.plugins class utility which adds additional methods to those of CKEditor.\n *\n * @class CKEDITOR.plugins\n */\n\n/**\n * Overrides CKEDITOR.plugins.load method so we can extend the lifecycle methods of\n * the loaded plugins to add some metainformation about the plugin being processed\n *\n * @param {String/Array} names The name of the resource to load. It may be a\n * string with a single resource name, or an array with several names.\n * @param {Function} callback A function to be called when all resources\n * are loaded. The callback will receive an array containing all loaded names.\n * @param {Object} [scope] The scope object to be used for the callback call.\n * @memberof CKEDITOR.plugins\n * @method load\n * @static\n */\nCKEDITOR.plugins.load = CKEDITOR.tools.override(\n\tCKEDITOR.plugins.load,\n\tpluginsLoad => {\n\t\t// Wrap original load function so we can transform the plugin input parameter\n\t\t// before passing it down to the original callback\n\t\treturn function(names, callback, scope) {\n\t\t\t// eslint-disable-next-line no-invalid-this\n\t\t\tpluginsLoad.call(this, names, plugins => {\n\t\t\t\tif (callback) {\n\t\t\t\t\tObject.keys(plugins).forEach(pluginName => {\n\t\t\t\t\t\tconst plugin = plugins[pluginName];\n\n\t\t\t\t\t\tif (plugin.requires) {\n\t\t\t\t\t\t\tplugin.requires = filterUnwantedDependencies(\n\t\t\t\t\t\t\t\tplugin.requires\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twrapPluginLifecycle(plugin);\n\t\t\t\t\t});\n\n\t\t\t\t\tcallback.call(scope, plugins);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t}\n);\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_selectionregion')) {\n\tCKEDITOR.SELECTION_TOP_TO_BOTTOM = 0;\n\tCKEDITOR.SELECTION_BOTTOM_TO_TOP = 1;\n\tCKEDITOR.SELECTION_LEFT_TO_RIGHT = 2;\n\tCKEDITOR.SELECTION_RIGHT_TO_LEFT = 3;\n\n\t/**\n\t * SelectionRegion utility class which provides metadata about the selection. The metadata may be the start and end\n\t * rectangles, caret region, etc. **This class is not intended to be used standalone. Its functions will\n\t * be merged into each editor instance, so the developer may use them directly via the editor, without making\n\t * an instance of this class**.\n\t *\n\t * @class SelectionRegion\n\t * @constructor\n\t */\n\tfunction SelectionRegion() {}\n\n\tSelectionRegion.prototype = {\n\t\tconstructor: SelectionRegion,\n\n\t\t/**\n\t\t * Creates selection from two points in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method createSelectionFromPoint\n\t\t * @param {Number} x X point in page coordinates.\n\t\t * @param {Number} y Y point in page coordinates.\n\t\t */\n\t\tcreateSelectionFromPoint(x, y) {\n\t\t\tthis.createSelectionFromRange(x, y, x, y);\n\t\t},\n\n\t\t/**\n\t\t * Creates selection from range. A range consists from two points in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method createSelectionFromRange\n\t\t * @param {Number} startX X coordinate of the first point.\n\t\t * @param {Number} startY Y coordinate of the first point.\n\t\t * @param {Number} endX X coordinate of the second point.\n\t\t * @param {Number} endY Y coordinate of the second point.\n\t\t */\n\t\tcreateSelectionFromRange(startX, startY, endX, endY) {\n\t\t\tlet end;\n\t\t\tlet endContainer;\n\t\t\tlet endOffset;\n\t\t\tlet range;\n\t\t\tlet start;\n\t\t\tlet startContainer;\n\t\t\tlet startOffset;\n\n\t\t\tif (typeof document.caretPositionFromPoint === 'function') {\n\t\t\t\tstart = document.caretPositionFromPoint(startX, startY);\n\t\t\t\tend = document.caretPositionFromPoint(endX, endY);\n\n\t\t\t\tstartContainer = start.offsetNode;\n\t\t\t\tendContainer = end.offsetNode;\n\n\t\t\t\tstartOffset = start.offset;\n\t\t\t\tendOffset = end.offset;\n\n\t\t\t\trange = this.createRange();\n\t\t\t} else if (typeof document.caretRangeFromPoint === 'function') {\n\t\t\t\tstart = document.caretRangeFromPoint(startX, startY);\n\t\t\t\tend = document.caretRangeFromPoint(endX, endY);\n\n\t\t\t\tstartContainer = start.startContainer;\n\t\t\t\tendContainer = end.startContainer;\n\n\t\t\t\tstartOffset = start.startOffset;\n\t\t\t\tendOffset = end.startOffset;\n\n\t\t\t\trange = this.createRange();\n\t\t\t}\n\n\t\t\tif (range && document.getSelection) {\n\t\t\t\trange.setStart(\n\t\t\t\t\tnew CKEDITOR.dom.node(startContainer),\n\t\t\t\t\tstartOffset\n\t\t\t\t);\n\t\t\t\trange.setEnd(new CKEDITOR.dom.node(endContainer), endOffset);\n\n\t\t\t\tthis.getSelection().selectRanges([range]);\n\t\t\t} else if (typeof document.body.createTextRange === 'function') {\n\t\t\t\tconst selection = this.getSelection();\n\n\t\t\t\tselection.unlock();\n\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToPoint(startX, startY);\n\n\t\t\t\tconst endRange = range.duplicate();\n\t\t\t\tendRange.moveToPoint(endX, endY);\n\n\t\t\t\trange.setEndPoint('EndToEnd', endRange);\n\t\t\t\trange.select();\n\n\t\t\t\tthis.getSelection().lock();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the region of the current position of the caret. The points are in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getCaretRegion\n\t\t * @return {Object} Returns object with the following properties:\n\t\t * - bottom\n\t\t * - left\n\t\t * - right\n\t\t * - top\n\t\t */\n\t\tgetCaretRegion() {\n\t\t\tconst selection = this.getSelection();\n\n\t\t\tlet region = {\n\t\t\t\tbottom: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t};\n\n\t\t\tconst bookmarks = selection.createBookmarks();\n\n\t\t\tif (!bookmarks.length) {\n\t\t\t\treturn region;\n\t\t\t}\n\n\t\t\tconst bookmarkNodeEl = bookmarks[0].startNode.$;\n\n\t\t\tbookmarkNodeEl.style.display = 'inline-block';\n\n\t\t\tregion = new CKEDITOR.dom.element(bookmarkNodeEl).getClientRect();\n\n\t\t\tbookmarkNodeEl.parentNode.removeChild(bookmarkNodeEl);\n\n\t\t\tconst scrollPos = new CKEDITOR.dom.window(\n\t\t\t\twindow\n\t\t\t).getScrollPosition();\n\n\t\t\tregion.bottom = scrollPos.y + region.bottom;\n\t\t\tregion.left = scrollPos.x + region.left;\n\t\t\tregion.right = scrollPos.x + region.right;\n\t\t\tregion.top = scrollPos.y + region.top;\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Returns data for the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionData\n\t\t * @return {Object|null} Returns an object with the following data:\n\t\t * - element - The currently selected element, if any\n\t\t * - text - The selected text\n\t\t * - region - The data, returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionRegion:method\"}}{{/crossLink}}\n\t\t */\n\t\tgetSelectionData() {\n\t\t\tconst selection = this.getSelection();\n\n\t\t\tif (!selection.getNative()) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst result = {\n\t\t\t\telement: selection.getSelectedElement(),\n\t\t\t\ttext: selection.getSelectedText(),\n\t\t\t};\n\n\t\t\tresult.region = this.getSelectionRegion(selection);\n\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * Returns the region of the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionRegion\n\t\t * @return {Object} Returns object which is being returned from\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getClientRectsRegion:method\"}}{{/crossLink}} with three more properties:\n\t\t * - direction - the direction of the selection. Can be one of these:\n\t\t *   1. CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t *   2. CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t * - height - The height of the selection region\n\t\t * - width - The width of the selection region\n\t\t */\n\t\tgetSelectionRegion() {\n\t\t\tconst region = this.getClientRectsRegion();\n\n\t\t\tregion.direction = this.getSelectionDirection();\n\n\t\t\tregion.height = region.bottom - region.top;\n\t\t\tregion.width = region.right - region.left;\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Returns true if the current selection is empty, false otherwise.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method isSelectionEmpty\n\t\t * @return {Boolean} Returns true if the current selection is empty, false otherwise.\n\t\t */\n\t\tisSelectionEmpty() {\n\t\t\tconst selection = this.getSelection();\n\n\t\t\tif (selection.getType() === CKEDITOR.SELECTION_NONE) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst ranges = selection.getRanges();\n\t\t\treturn ranges && ranges.length === 1 && ranges[0].collapsed;\n\t\t},\n\n\t\t/**\n\t\t * Returns object with data about the [client rectangles](https://developer.mozilla.org/en-US/docs/Web/API/Element.getClientRects) of the selection,\n\t\t * normalized across browses. All offsets below are in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getClientRectsRegion\n\t\t * @return {Object} Returns object with the following data:\n\t\t * - bottom - bottom offset of all client rectangles\n\t\t * - left - left offset of all client rectangles\n\t\t * - right - right offset of all client rectangles\n\t\t * - top - top offset of all client rectangles\n\t\t * - startRect - An Object, which contains the following information:\n\t\t *     + bottom - bottom offset\n\t\t *     + height - the height of the rectangle\n\t\t *     + left - left offset of the selection\n\t\t *     + right - right offset of the selection\n\t\t *     + top - top offset of the selection\n\t\t *     + width - the width of the rectangle\n\t\t * - endRect - An Object, which contains the following information:\n\t\t *     + bottom - bottom offset\n\t\t *     + height - the height of the rectangle\n\t\t *     + left - left offset of the selection\n\t\t *     + right - right offset of the selection\n\t\t *     + top - top offset of the selection\n\t\t *     + width - the width of the rectangle\n\t\t *\n\t\t * If there is no native selection, the objects will be filled with 0.\n\t\t */\n\t\tgetClientRectsRegion() {\n\t\t\tconst selection = this.getSelection();\n\t\t\tconst nativeSelection = selection.getNative();\n\n\t\t\tconst defaultRect = {\n\t\t\t\tbottom: 0,\n\t\t\t\theight: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\twidth: 0,\n\t\t\t};\n\n\t\t\tlet region = {\n\t\t\t\tbottom: 0,\n\t\t\t\tendRect: defaultRect,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tstartRect: defaultRect,\n\t\t\t};\n\n\t\t\tif (!nativeSelection) {\n\t\t\t\treturn region;\n\t\t\t}\n\n\t\t\tlet bottom = 0;\n\t\t\tlet clientRects;\n\t\t\tlet left = Infinity;\n\t\t\tlet right = -Infinity;\n\t\t\tlet top = Infinity;\n\n\t\t\tif (nativeSelection.createRange) {\n\t\t\t\tclientRects = nativeSelection.createRange().getClientRects();\n\t\t\t} else {\n\t\t\t\tclientRects =\n\t\t\t\t\tnativeSelection.rangeCount > 0\n\t\t\t\t\t\t? nativeSelection.getRangeAt(0).getClientRects()\n\t\t\t\t\t\t: [];\n\t\t\t}\n\n\t\t\tif (clientRects.length === 0) {\n\t\t\t\tregion = this.getCaretRegion();\n\t\t\t} else {\n\t\t\t\tfor (let i = 0, length = clientRects.length; i < length; i++) {\n\t\t\t\t\tconst item = clientRects[i];\n\n\t\t\t\t\tif (item.left < left) {\n\t\t\t\t\t\tleft = item.left;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.right > right) {\n\t\t\t\t\t\tright = item.right;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.top < top) {\n\t\t\t\t\t\ttop = item.top;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.bottom > bottom) {\n\t\t\t\t\t\tbottom = item.bottom;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst scrollPos = new CKEDITOR.dom.window(\n\t\t\t\t\twindow\n\t\t\t\t).getScrollPosition();\n\n\t\t\t\tregion.bottom = scrollPos.y + bottom;\n\t\t\t\tregion.left = scrollPos.x + left;\n\t\t\t\tregion.right = scrollPos.x + right;\n\t\t\t\tregion.top = scrollPos.y + top;\n\n\t\t\t\tif (clientRects.length) {\n\t\t\t\t\tconst endRect = clientRects[clientRects.length - 1];\n\t\t\t\t\tconst startRect = clientRects[0];\n\n\t\t\t\t\tregion.endRect = {\n\t\t\t\t\t\tbottom: scrollPos.y + endRect.bottom,\n\t\t\t\t\t\theight: endRect.height,\n\t\t\t\t\t\tleft: scrollPos.x + endRect.left,\n\t\t\t\t\t\tright: scrollPos.x + endRect.right,\n\t\t\t\t\t\ttop: scrollPos.y + endRect.top,\n\t\t\t\t\t\twidth: endRect.width,\n\t\t\t\t\t};\n\n\t\t\t\t\tregion.startRect = {\n\t\t\t\t\t\tbottom: scrollPos.y + startRect.bottom,\n\t\t\t\t\t\theight: startRect.height,\n\t\t\t\t\t\tleft: scrollPos.x + startRect.left,\n\t\t\t\t\t\tright: scrollPos.x + startRect.right,\n\t\t\t\t\t\ttop: scrollPos.y + startRect.top,\n\t\t\t\t\t\twidth: startRect.width,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the direction of the selection. The direction is from top to bottom or from bottom to top.\n\t\t * For IE < 9 it is not possible, so the direction for these browsers will be always CKEDITOR.SELECTION_TOP_TO_BOTTOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionDirection\n\t\t * @return {Number} Returns a number which represents selection direction. It might be one of these:\n\t\t * - CKEDITOR.SELECTION_TOP_TO_BOTTOM;\n\t\t * - CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t */\n\t\tgetSelectionDirection() {\n\t\t\tlet direction = CKEDITOR.SELECTION_TOP_TO_BOTTOM;\n\t\t\tconst selection = this.getSelection();\n\t\t\tconst nativeSelection = selection.getNative();\n\n\t\t\tif (!nativeSelection) {\n\t\t\t\treturn direction;\n\t\t\t}\n\n\t\t\tlet anchorNode;\n\n\t\t\tif (\n\t\t\t\t(anchorNode = nativeSelection.anchorNode) &&\n\t\t\t\tanchorNode.compareDocumentPosition\n\t\t\t) {\n\t\t\t\tconst position = anchorNode.compareDocumentPosition(\n\t\t\t\t\tnativeSelection.focusNode\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\t(!position &&\n\t\t\t\t\t\tnativeSelection.anchorOffset >\n\t\t\t\t\t\t\tnativeSelection.focusOffset) ||\n\t\t\t\t\tposition === Node.DOCUMENT_POSITION_PRECEDING\n\t\t\t\t) {\n\t\t\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn direction;\n\t\t},\n\t};\n\n\tCKEDITOR.plugins.add('ae_selectionregion', {\n\t\tinit(editor) {\n\t\t\tlet attr;\n\t\t\tconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\t\tfor (attr in SelectionRegion.prototype) {\n\t\t\t\tif (\n\t\t\t\t\thasOwnProperty.call(SelectionRegion.prototype, attr) &&\n\t\t\t\t\ttypeof editor[attr] === 'undefined'\n\t\t\t\t) {\n\t\t\t\t\teditor[attr] = SelectionRegion.prototype[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst IE_NON_DIRECTLY_EDITABLE_ELEMENT = {\n\ttable: 1,\n\tcol: 1,\n\tcolgroup: 1,\n\ttbody: 1,\n\ttd: 1,\n\ttfoot: 1,\n\tth: 1,\n\tthead: 1,\n\ttr: 1,\n};\n\n/**\n * Table class utility. Provides methods for create, delete and update tables.\n *\n * @class CKEDITOR.Table\n * @constructor\n * @param {Object} editor The CKEditor instance.\n */\n\nfunction Table(editor) {\n\tthis._editor = editor;\n}\n\nTable.HEADING_BOTH = 'Both';\nTable.HEADING_COL = 'Column';\nTable.HEADING_NONE = 'None';\nTable.HEADING_ROW = 'Row';\n\nTable.prototype = {\n\tconstructor: Table,\n\n\t/**\n\t * Creates a table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method create\n\t * @param {Object} config Table configuration object\n\t * @return {Object} The created table\n\t */\n\tcreate(config) {\n\t\tconst editor = this._editor;\n\t\tconst table = this._createElement('table');\n\n\t\tconfig = config || {};\n\n\t\t// Generate the rows and cols.\n\t\tconst tbody = table.append(this._createElement('tbody'));\n\t\tconst rows = config.rows || 1;\n\t\tconst cols = config.cols || 1;\n\n\t\tfor (let i = 0; i < rows; i++) {\n\t\t\tconst row = tbody.append(this._createElement('tr'));\n\t\t\tfor (let j = 0; j < cols; j++) {\n\t\t\t\tconst cell = row.append(this._createElement('td'));\n\n\t\t\t\tcell.appendBogus();\n\t\t\t}\n\t\t}\n\n\t\tthis.setAttributes(table, config.attrs);\n\t\tthis.setHeading(table, config.heading);\n\n\t\t// Insert the table element if we're creating one.\n\t\teditor.insertElement(table);\n\n\t\tconst firstCell = new CKEDITOR.dom.element(table.$.rows[0].cells[0]);\n\t\tconst range = editor.createRange();\n\t\trange.moveToPosition(firstCell, CKEDITOR.POSITION_AFTER_START);\n\t\trange.select();\n\n\t\treturn table;\n\t},\n\n\t/**\n\t * Retrieves a table from the current selection.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method getFromSelection\n\t * @return {CKEDITOR.dom.element} The retrieved table or null if not found.\n\t */\n\tgetFromSelection() {\n\t\tlet table;\n\t\tconst selection = this._editor.getSelection();\n\t\tconst selected = selection.getSelectedElement();\n\n\t\tif (selected && selected.is('table')) {\n\t\t\ttable = selected;\n\t\t} else {\n\t\t\tconst ranges = selection.getRanges();\n\n\t\t\tif (ranges.length > 0) {\n\t\t\t\t// Webkit could report the following range on cell selection (#4948):\n\t\t\t\t// <table><tr><td>[&nbsp;</td></tr></table>]\n\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (CKEDITOR.env.webkit) {\n\t\t\t\t\tranges[0].shrink(CKEDITOR.NODE_ELEMENT);\n\t\t\t\t}\n\n\t\t\t\ttable = this._editor\n\t\t\t\t\t.elementPath(ranges[0].getCommonAncestor(true))\n\t\t\t\t\t.contains('table', 1);\n\t\t\t}\n\t\t}\n\n\t\treturn table;\n\t},\n\n\t/**\n\t * Checks if a given table can be considered as editable. This method\n\t * workarounds a limitation of IE where for some elements (like table),\n\t * `isContentEditable` returns always false. This is because IE does not support\n\t * `contenteditable` on such elements. However, despite such elements\n\t * cannot be set as content editable directly, a content editable SPAN,\n\t * or DIV element can be placed inside the individual table cells.\n\t * See https://msdn.microsoft.com/en-us/library/ms537837%28v=VS.85%29.aspx\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method isEditable\n\t * @param {CKEDITOR.dom.element} el The table element to test if editable\n\t * @return {Boolean}\n\t */\n\tisEditable(el) {\n\t\tif (!CKEDITOR.env.ie || !el.is(IE_NON_DIRECTLY_EDITABLE_ELEMENT)) {\n\t\t\treturn !el.isReadOnly();\n\t\t}\n\n\t\tif (el.hasAttribute('contenteditable')) {\n\t\t\treturn el.getAttribute('contenteditable') !== 'false';\n\t\t}\n\n\t\treturn this.isEditable(el.getParent());\n\t},\n\n\t/**\n\t * Returns which heading style is set for the given table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method getHeading\n\t * @param {CKEDITOR.dom.element} table The table to gather the heading from. If null, it will be retrieved from the current selection.\n\t * @return {String} The heading of the table. Expected values are `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.\n\t */\n\tgetHeading(table) {\n\t\ttable = table || this.getFromSelection();\n\n\t\tif (!table) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst rowHeadingSettings = table.$.tHead !== null;\n\n\t\tlet colHeadingSettings = true;\n\n\t\t// Check if all of the first cells in every row are TH\n\t\tfor (let row = 0; row < table.$.rows.length; row++) {\n\t\t\t// If just one cell isn't a TH then it isn't a header column\n\t\t\tconst cell = table.$.rows[row].cells[0];\n\n\t\t\tif (cell && cell.nodeName.toLowerCase() !== 'th') {\n\t\t\t\tcolHeadingSettings = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tlet headingSettings = Table.HEADING_NONE;\n\n\t\tif (rowHeadingSettings) {\n\t\t\theadingSettings = Table.HEADING_ROW;\n\t\t}\n\n\t\tif (colHeadingSettings) {\n\t\t\theadingSettings =\n\t\t\t\theadingSettings === Table.HEADING_ROW\n\t\t\t\t\t? Table.HEADING_BOTH\n\t\t\t\t\t: Table.HEADING_COL;\n\t\t}\n\n\t\treturn headingSettings;\n\t},\n\n\t/**\n\t * Removes a table from the editor.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method remove\n\t * @param {CKEDITOR.dom.element} table The table element which table style should be removed.\n\t */\n\tremove(table) {\n\t\tconst editor = this._editor;\n\n\t\tif (table) {\n\t\t\ttable.remove();\n\t\t} else {\n\t\t\ttable = editor.elementPath().contains('table', 1);\n\n\t\t\tif (table) {\n\t\t\t\t// If the table's parent has only one child remove it as well (unless it's a table cell, or the editable element) (#5416, #6289, #12110)\n\t\t\t\tconst parent = table.getParent();\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\tif (\n\t\t\t\t\tparent.getChildCount() === 1 &&\n\t\t\t\t\t!parent.is('td', 'th') &&\n\t\t\t\t\t!parent.equals(editable)\n\t\t\t\t) {\n\t\t\t\t\ttable = parent;\n\t\t\t\t}\n\n\t\t\t\tconst range = editor.createRange();\n\t\t\t\trange.moveToPosition(table, CKEDITOR.POSITION_BEFORE_START);\n\t\t\t\ttable.remove();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Assigns provided attributes to a table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method setAttributes\n\t * @param {Object} table The table to which the attributes should be assigned\n\t * @param {Object} attrs The attributes which have to be assigned to the table\n\t */\n\tsetAttributes(table, attrs) {\n\t\tif (attrs) {\n\t\t\tObject.keys(attrs).forEach(attr => {\n\t\t\t\ttable.setAttribute(attr, attrs[attr]);\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Sets the appropriate table heading style to a table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method setHeading\n\t * @param {CKEDITOR.dom.element} table The table element to which the heading should be set. If null, it will be retrieved from the current selection.\n\t * @param {String} heading The table heading to be set. Accepted values are: `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.\n\t */\n\tsetHeading(table, heading) {\n\t\ttable = table || this.getFromSelection();\n\n\t\tlet i;\n\t\tlet newCell;\n\t\tlet tableHead;\n\t\tconst tableBody = table.getElementsByTag('tbody').getItem(0);\n\n\t\tlet tableHeading = this.getHeading(table);\n\t\tconst hadColHeading =\n\t\t\ttableHeading === Table.HEADING_COL ||\n\t\t\ttableHeading === Table.HEADING_BOTH;\n\n\t\tconst needColHeading =\n\t\t\theading === Table.HEADING_COL || heading === Table.HEADING_BOTH;\n\t\tconst needRowHeading =\n\t\t\theading === Table.HEADING_ROW || heading === Table.HEADING_BOTH;\n\n\t\t// If we need row heading and don't have a <thead> element yet, move the\n\t\t// first row of the table to the head and convert the nodes to <th> ones.\n\t\tif (!table.$.tHead && needRowHeading) {\n\t\t\tconst tableFirstRow = tableBody.getElementsByTag('tr').getItem(0);\n\t\t\tconst tableFirstRowChildCount = tableFirstRow.getChildCount();\n\n\t\t\t// Change TD to TH:\n\t\t\tfor (i = 0; i < tableFirstRowChildCount; i++) {\n\t\t\t\tconst cell = tableFirstRow.getChild(i);\n\n\t\t\t\t// Skip bookmark nodes. (#6155)\n\t\t\t\tif (\n\t\t\t\t\tcell.type === CKEDITOR.NODE_ELEMENT &&\n\t\t\t\t\t!cell.data('cke-bookmark')\n\t\t\t\t) {\n\t\t\t\t\tcell.renameNode('th');\n\t\t\t\t\tcell.setAttribute('scope', 'col');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttableHead = this._createElement(table.$.createTHead());\n\t\t\ttableHead.append(tableFirstRow.remove());\n\t\t}\n\n\t\t// If we don't need row heading and we have a <thead> element, move the\n\t\t// row out of there and into the <tbody> element.\n\t\tif (table.$.tHead !== null && !needRowHeading) {\n\t\t\t// Move the row out of the THead and put it in the TBody:\n\t\t\ttableHead = this._createElement(table.$.tHead);\n\n\t\t\tconst previousFirstRow = tableBody.getFirst();\n\n\t\t\twhile (tableHead.getChildCount() > 0) {\n\t\t\t\tconst newFirstRow = tableHead.getFirst();\n\t\t\t\tconst newFirstRowChildCount = newFirstRow.getChildCount();\n\n\t\t\t\tfor (i = 0; i < newFirstRowChildCount; i++) {\n\t\t\t\t\tnewCell = newFirstRow.getChild(i);\n\n\t\t\t\t\tif (newCell.type === CKEDITOR.NODE_ELEMENT) {\n\t\t\t\t\t\tnewCell.renameNode('td');\n\t\t\t\t\t\tnewCell.removeAttribute('scope');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tnewFirstRow.insertBefore(previousFirstRow);\n\t\t\t}\n\n\t\t\ttableHead.remove();\n\t\t}\n\n\t\ttableHeading = this.getHeading(table);\n\t\tconst hasColHeading =\n\t\t\ttableHeading === Table.HEADING_COL ||\n\t\t\ttableHeading === Table.HEADING_BOTH;\n\n\t\t// If we need column heading and the table doesn't have it, convert every first cell in\n\t\t// every row into a `<th scope=\"row\">` element.\n\t\tif (!hasColHeading && needColHeading) {\n\t\t\tfor (i = 0; i < table.$.rows.length; i++) {\n\t\t\t\tif (table.$.rows[i].cells[0].nodeName.toLowerCase() !== 'th') {\n\t\t\t\t\tnewCell = new CKEDITOR.dom.element(\n\t\t\t\t\t\ttable.$.rows[i].cells[0]\n\t\t\t\t\t);\n\t\t\t\t\tnewCell.renameNode('th');\n\t\t\t\t\tnewCell.setAttribute('scope', 'row');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If we don't need column heading but the table has it, convert every first cell in every\n\t\t// row back into a `<td>` element.\n\t\tif (hadColHeading && !needColHeading) {\n\t\t\tfor (i = 0; i < table.$.rows.length; i++) {\n\t\t\t\tconst row = new CKEDITOR.dom.element(table.$.rows[i]);\n\n\t\t\t\tif (row.getParent().getName() === 'tbody') {\n\t\t\t\t\tnewCell = new CKEDITOR.dom.element(row.$.cells[0]);\n\t\t\t\t\tnewCell.renameNode('td');\n\t\t\t\t\tnewCell.removeAttribute('scope');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Creates a new CKEDITOR.dom.element using the passed tag name.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @protected\n\t * @method _createElement\n\t * @param {String} name The tag name from which an element should be created\n\t * @return {CKEDITOR.dom.element} Instance of CKEDITOR DOM element class\n\t */\n\t_createElement(name) {\n\t\treturn new CKEDITOR.dom.element(name, this._editor.document);\n\t},\n};\n\nCKEDITOR.on('instanceReady', event => {\n\tconst headingCommands = [\n\t\tTable.HEADING_NONE,\n\t\tTable.HEADING_ROW,\n\t\tTable.HEADING_COL,\n\t\tTable.HEADING_BOTH,\n\t];\n\n\tconst tableUtils = new Table(event.editor);\n\n\theadingCommands.forEach(heading => {\n\t\tevent.editor.addCommand('tableHeading' + heading, {\n\t\t\texec(_editor) {\n\t\t\t\ttableUtils.setHeading(null, heading);\n\t\t\t},\n\t\t});\n\t});\n});\n\nCKEDITOR.Table = CKEDITOR.Table || Table;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * CKEDITOR.tools class utility which adds additional methods to those of CKEditor.\n *\n * @class CKEDITOR.tools\n */\n\n/**\n * Sends a request using the JSONP technique.\n *\n * @memberof CKEDITOR.tools\n * @method jsonp\n * @param {CKEDITOR.template} urlTemplate The template of the URL to be requested. All properties passed in `urlParams` can be used, plus a `{callback}`, which represent a JSONP callback, must be defined.\n * @param {Function} callback A function to be called in case of success.\n * @param {Function} errorCallback A function to be called in case of failure.\n * @param {Object} urlParams Parameters to be passed to the `urlTemplate`.\n * @return {Object} An object with the following properties:\n *  - id: the transaction ID\n *  - a `cancel()` method\n * @static\n */\nCKEDITOR.tools.jsonp = function(\n\turlTemplate,\n\turlParams,\n\tcallback,\n\terrorCallback\n) {\n\tconst callbackKey = CKEDITOR.tools.getNextNumber();\n\n\turlParams = urlParams || {};\n\turlParams.callback = 'CKEDITOR._.jsonpCallbacks[' + callbackKey + ']';\n\n\tif (!CKEDITOR._.jsonpCallbacks) {\n\t\tCKEDITOR._.jsonpCallbacks = {};\n\t}\n\n\tCKEDITOR._.jsonpCallbacks[callbackKey] = function(response) {\n\t\tsetTimeout(() => {\n\t\t\tcleanUp();\n\n\t\t\tcallback(response);\n\t\t});\n\t};\n\n\tlet scriptElement = new CKEDITOR.dom.element('script');\n\tscriptElement.setAttribute('src', urlTemplate.output(urlParams));\n\tscriptElement.on('error', () => {\n\t\tcleanUp();\n\n\t\tif (errorCallback) {\n\t\t\terrorCallback();\n\t\t}\n\t});\n\n\tfunction cleanUp() {\n\t\tif (scriptElement) {\n\t\t\tscriptElement.remove();\n\t\t\tdelete CKEDITOR._.jsonpCallbacks[callbackKey];\n\t\t\tscriptElement = null;\n\t\t}\n\t}\n\n\tCKEDITOR.document.getBody().append(scriptElement);\n\n\treturn {\n\t\tcancel: cleanUp,\n\t\tid: callbackKey,\n\t};\n};\n\n/**\n * Returns a new object containing all of the properties of all the supplied\n * objects. The properties from later objects will overwrite those in earlier\n * objects.\n *\n * Passing in a single object will create a shallow copy of it.\n *\n * @memberof CKEDITOR.tools\n * @method merge\n * @param {Object} objects* One or more objects to merge.\n * @return {Object} A new merged object.\n * @static\n */\nCKEDITOR.tools.merge =\n\tCKEDITOR.tools.merge ||\n\tfunction(...args) {\n\t\tconst result = {};\n\n\t\tfor (let i = 0; i < args.length; ++i) {\n\t\t\tconst obj = args[i];\n\n\t\t\tfor (const key in obj) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\t\t\tresult[key] = obj[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n/**\n * Simulates event on a DOM element.\n *\n * @memberof CKEDITOR.tools\n * @method simulate\n * @param {DOMElement} element The element on which the event shoud be simualted.\n * @param {String} event The name of the event which have to be simulated.\n * @static\n */\nCKEDITOR.tools.simulate = function(element, event) {\n\tconst eventInstance = document.createEvent('Events');\n\teventInstance.initEvent(event, true, false);\n\telement.dispatchEvent(eventInstance);\n};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_uicore')) {\n\t/**\n\t * UICore class which will handle user interactions with the editor. These interactions\n\t * might be triggered via mouse, keyboard or touch devices. The class fill fire an event via\n\t * CKEditor's event system - \"editorInteraction\". The UI may listen to this event and\n\t * execute some actions - for example to show/hide toolbars.\n\t *\n\t * By default if user presses the Esc key, 'editorInteraction' event won't be fired. However, this behaviour can be changed\n\t * by setting {{#crossLink \"CKEDITOR.plugins.ae_uicore/allowEsc:attribute\"}}{{/crossLink}} config property in editor's configuration to true.\n\t *\n\t * @class ae_uicore\n\t */\n\n\t/**\n\t * Fired when user interacts somehow with the browser. This may be clicking with the mouse, pressing keyboard button,\n\t * or touching screen. This even will be not fired after each interaction. It will be debounced. By default the timeout\n\t * is 50ms. This value can be overwritten via {{#crossLink \"CKEDITOR.plugins.ae_uicore/timeout:attribute\"}}{{/crossLink}}\n\t * property of editor's configuration, like: editor.config.uicore.timeout = 100\n\t *\n\t * @memberof ae_uicore\n\t * @event ae_uicore#editorInteraction\n\t * @param {Object} data An object which contains the following properties:\n\t * - nativeEvent - The event as received from CKEditor.\n\t * - selectionData - The data, returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t */\n\n\t/**\n\t * Fired by UI elements like Toolbars or Buttons when their state changes. The listener updates the live region with the provided data.\n\t *\n\t * @memberof ae_uicore\n\t * @event ae_uicore#ariaUpdate\n\t * @param {Object} data An object which contains the following properties:\n\t * - message - The provided message from the UI element.\n\t */\n\n\t/**\n\t * If set to true, the editor will still fire {{#crossLink \"CKEDITOR.plugins.ae_uicore/editorInteraction:event\"}}{{/crossLink}} event,\n\t * if user presses Esc key.\n\t *\n\t * @memberof ae_uicore\n\t * @attribute allowEsc\n\t * @default false\n\t * @type Boolean\n\t */\n\n\t/**\n\t * Specifies the default timeout after which the {{#crossLink \"CKEDITOR.plugins.ae_uicore/editorInteraction:event\"}}{{/crossLink}} event\n\t * will be fired.\n\t *\n\t * @memberof ae_uicore\n\t * @attribute timeout\n\t * @default 50 (ms)\n\t * @type Number\n\t */\n\n\tCKEDITOR.plugins.add('ae_uicore', {\n\t\t/**\n\t\t * Initializer lifecycle implementation for the UICore plugin.\n\t\t *\n\t\t * @memberof ae_uicore\n\t\t * @method init\n\t\t * @param {Object} editor The current CKEditor instance.\n\t\t * @protected\n\t\t */\n\t\tinit(editor) {\n\t\t\tlet ariaState = [];\n\n\t\t\tconst ariaElement = this._createAriaElement(editor.id);\n\n\t\t\tconst uiTasksTimeout = editor.config.uicore\n\t\t\t\t? editor.config.uicore.timeout\n\t\t\t\t: 50;\n\n\t\t\tconst handleUI = CKEDITOR.tools.debounce(event => {\n\t\t\t\tariaState = [];\n\n\t\t\t\tif (\n\t\t\t\t\tevent.name !== 'keyup' ||\n\t\t\t\t\tevent.data.$.keyCode !== 27 ||\n\t\t\t\t\teditor.config.allowEsc\n\t\t\t\t) {\n\t\t\t\t\tconst selectionData = editor.getSelectionData();\n\n\t\t\t\t\tif (selectionData) {\n\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\tnativeEvent: event.data.$,\n\t\t\t\t\t\t\tselectionData,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, uiTasksTimeout);\n\n\t\t\tconst handleAria = CKEDITOR.tools.debounce(_event => {\n\t\t\t\tariaElement.innerHTML = ariaState.join('. ');\n\t\t\t}, uiTasksTimeout);\n\n\t\t\tconst handleMouseLeave = CKEDITOR.tools.debounce(event => {\n\t\t\t\tconst aeUINodes = document.querySelectorAll('.ae-ui');\n\n\t\t\t\tlet found;\n\n\t\t\t\tfor (let i = 0; i < aeUINodes.length; i++) {\n\t\t\t\t\tif (aeUINodes[i].contains(event.data.$.relatedTarget)) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!found) {\n\t\t\t\t\thandleUI(event);\n\t\t\t\t}\n\t\t\t}, uiTasksTimeout);\n\n\t\t\teditor.on('ariaUpdate', event => {\n\t\t\t\t// handleAria is debounced function, so if it is being called multiple times, it will\n\t\t\t\t// be canceled until some time passes.\n\t\t\t\t// For that reason here we explicitly append the current message to the list of messages\n\t\t\t\t// and call handleAria. Since it is debounced, when some timeout passes,\n\t\t\t\t// all the messages will be applied to the live region and not only the last one.\n\n\t\t\t\tariaState.push(event.data.message);\n\n\t\t\t\thandleAria();\n\t\t\t});\n\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\tconst focusHandler = editable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'focus',\n\t\t\t\t\tevent => {\n\t\t\t\t\t\tfocusHandler.removeListener();\n\n\t\t\t\t\t\teditable.attachListener(editable, 'keyup', handleUI);\n\t\t\t\t\t\teditable.attachListener(editable, 'mouseup', handleUI);\n\t\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\t\teditable,\n\t\t\t\t\t\t\t'mouseleave',\n\t\t\t\t\t\t\thandleMouseLeave\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\thandleUI(event);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\n\t\t\teditor.on('destroy', _event => {\n\t\t\t\tariaElement.parentNode.removeChild(ariaElement);\n\n\t\t\t\thandleUI.detach();\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Creates and applies an HTML element to the body of the document which will contain ARIA messages.\n\t\t *\n\t\t * @memberof ae_uicore\n\t\t * @method _createAriaElement\n\t\t * @param {String} id The provided id of the element. It will be used as prefix for the final element Id.\n\t\t * @protected\n\t\t * @return {HTMLElement} The created and applied to DOM element.\n\t\t */\n\t\t_createAriaElement(id) {\n\t\t\tconst statusElement = document.createElement('div');\n\n\t\t\tstatusElement.className = 'ae-sr-only';\n\n\t\t\tstatusElement.setAttribute('aria-live', 'polite');\n\t\t\tstatusElement.setAttribute('role', 'status');\n\t\t\tstatusElement.setAttribute('id', id + 'LiveRegion');\n\n\t\t\tdocument.body.appendChild(statusElement);\n\n\t\t\treturn statusElement;\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst isIE = CKEDITOR.env.ie;\n\nif (!CKEDITOR.plugins.get('ae_addimages')) {\n\t/**\n\t * CKEditor plugin which allows Drag&Drop of images directly into the editable area. The image will be encoded\n\t * as Data URI. An event `beforeImageAdd` will be fired with the list of dropped images. If any of the listeners\n\t * returns `false` or cancels the event, the images won't be added to the content. Otherwise,\n\t * an event `imageAdd` will be fired with the inserted element into the editable area.\n\t *\n\t * @class CKEDITOR.plugins.ae_addimages\n\t */\n\n\t/**\n\t * Fired before adding images to the editor.\n\t *\n\t * @event CKEDITOR.plugins.ae_addimages#beforeImageAdd\n\t * @instance\n\t * @memberof CKEDITOR.plugins.ae_addimages\n\t * @param {Array} imageFiles Array of image files\n\t */\n\n\t/**\n\t * Fired when an image is being added to the editor successfully.\n\t *\n\t * @event CKEDITOR.plugins.ae_addimages#imageAdd\n\t * @instance\n\t * @memberof CKEDITOR.plugins.ae_addimages\n\t * @param {CKEDITOR.dom.element} el The created image with src as Data URI\n\t * @param {File} file The image file\n\t */\n\n\tCKEDITOR.plugins.add('ae_addimages', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'dragenter', 'dragover', 'drop' and `paste` events on the editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'dragenter',\n\t\t\t\t\tthis._onDragEnter,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'dragover',\n\t\t\t\t\tthis._onDragOver,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'drop',\n\t\t\t\t\tthis._onDragDrop,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'paste',\n\t\t\t\t\tthis._onPaste,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Accepts an array of dropped files to the editor. Then, it filters the images and sends them for further\n\t\t * processing to {{#crossLink \"CKEDITOR.plugins.ae_addimages/_processFile:method\"}}{{/crossLink}}\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_addimages#beforeImageAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _handleFiles\n\t\t * @param {Array} files Array of dropped files. Only the images from this list will be processed.\n\t\t * @param {Object} editor The current editor instance\n\t\t * @protected\n\t\t */\n\t\t_handleFiles(files, editor) {\n\t\t\tlet file;\n\t\t\tlet i;\n\n\t\t\tconst imageFiles = [];\n\n\t\t\tfor (i = 0; i < files.length; i++) {\n\t\t\t\tfile = files[i];\n\n\t\t\t\tif (file.type.indexOf('image') === 0) {\n\t\t\t\t\timageFiles.push(file);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst result = editor.fire('beforeImageAdd', {\n\t\t\t\timageFiles,\n\t\t\t});\n\n\t\t\tif (result) {\n\t\t\t\tfor (i = 0; i < imageFiles.length; i++) {\n\t\t\t\t\tfile = imageFiles[i];\n\n\t\t\t\t\tthis._processFile(file, editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Handles drag drop event. The function will create a selection from the current\n\t\t * point and will send a list of files to be processed to\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_addimages/_handleFiles:method\"}}{{/crossLink}} method.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragDrop\n\t\t * @param {CKEDITOR.dom.event} event dragdrop event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragDrop(event) {\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tconst transferFiles = nativeEvent.dataTransfer.files;\n\n\t\t\tif (transferFiles.length > 0) {\n\t\t\t\tnew CKEDITOR.dom.event(nativeEvent).preventDefault();\n\n\t\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\t\tevent.listenerData.editor.createSelectionFromPoint(\n\t\t\t\t\tnativeEvent.clientX,\n\t\t\t\t\tnativeEvent.clientY\n\t\t\t\t);\n\n\t\t\t\tthis._handleFiles(transferFiles, editor);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handles drag enter event. In case of IE, this function will prevent the event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragEnter\n\t\t * @param {DOM event} event dragenter event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragEnter(event) {\n\t\t\tif (isIE) {\n\t\t\t\tthis._preventEvent(event);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handles drag over event. In case of IE, this function will prevent the event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragOver\n\t\t * @param {DOM event} event dragover event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragOver(event) {\n\t\t\tif (isIE) {\n\t\t\t\tthis._preventEvent(event);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks if the pasted data is image and passes it to\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_addimages/_processFile:method\"}}{{/crossLink}} for processing.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onPaste\n\t\t * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onPaste(event) {\n\t\t\tif (\n\t\t\t\tevent.data &&\n\t\t\t\tevent.data.$ &&\n\t\t\t\tevent.data.$.clipboardData &&\n\t\t\t\tevent.data.$.clipboardData.items &&\n\t\t\t\tevent.data.$.clipboardData.items.length > 0\n\t\t\t) {\n\t\t\t\tconst pastedData = event.data.$.clipboardData.items[0];\n\n\t\t\t\tif (pastedData.type.indexOf('image') === 0) {\n\t\t\t\t\tconst imageFile = pastedData.getAsFile();\n\n\t\t\t\t\tthis._processFile(imageFile, event.listenerData.editor);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Prevents a native event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _preventEvent\n\t\t * @param {DOM event} event The event to be prevented.\n\t\t * @protected\n\t\t */\n\t\t_preventEvent(event) {\n\t\t\tevent = new CKEDITOR.dom.event(event.data.$);\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t},\n\n\t\t/**\n\t\t * Processes an image file. The function creates an img element and sets as source\n\t\t * a Data URI, then fires an 'imageAdd' event via CKEditor's event system.\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_addimages#imageAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _preventEvent\n\t\t * @param {DOM event} event The event to be prevented.\n\t\t * @protected\n\t\t */\n\t\t_processFile(file, editor) {\n\t\t\tconst reader = new FileReader();\n\n\t\t\treader.addEventListener('loadend', () => {\n\t\t\t\tconst bin = reader.result;\n\n\t\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t'<img src=\"' + bin + '\">'\n\t\t\t\t);\n\n\t\t\t\teditor.insertElement(el);\n\n\t\t\t\tconst imageData = {\n\t\t\t\t\tel,\n\t\t\t\t\tfile,\n\t\t\t\t};\n\n\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t});\n\n\t\t\treader.readAsDataURL(file);\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_autolink')) {\n\t// Disables the auto URL detection feature in IE, their lacks functionality:\n\t// They convert the links only on space. We do on space, comma, semicolon and Enter.\n\tif (/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/.test(navigator.userAgent)) {\n\t\tdocument.execCommand('AutoUrlDetect', false, false);\n\t}\n\n\tconst KEY_BACK = 8;\n\n\tconst KEY_COMMA = 188;\n\n\tconst KEY_ENTER = 13;\n\n\tconst KEY_SEMICOLON = 186;\n\n\tconst KEY_SPACE = 32;\n\n\tconst DELIMITERS = [KEY_COMMA, KEY_ENTER, KEY_SEMICOLON, KEY_SPACE];\n\n\tconst REGEX_LAST_WORD = /[^\\s]+/gim;\n\n\t// Seen at https://stackoverflow.com/a/5717133/2103996\n\tconst REGEX_URL =\n\t\t'^(https?:\\\\/\\\\/)?' + // protocol\n\t\t'((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n\t\t'((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n\t\t'(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n\t\t'(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n\t\t'(\\\\#[-a-z\\\\d_]*)?$';\n\n\tconst REGEX_EMAIL = /[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}/i;\n\n\t/**\n\t * CKEditor plugin which automatically generates links when user types text which looks like URL.\n\t *\n\t * @class CKEDITOR.plugins.ae_autolink\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_autolink', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers the `keyup` event on the editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'keyup',\n\t\t\t\t\tthis._onKeyUp,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\n\t\t\teditor.on('paste', event => {\n\t\t\t\tif (event.data.method === 'paste') {\n\t\t\t\t\tif (\n\t\t\t\t\t\tevent.data.dataValue.indexOf('<') > -1 ||\n\t\t\t\t\t\tevent.data.dataValue.indexOf('&lt;') > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tevent.data.dataValue.indexOf('<u><font color=\"') >\n\t\t\t\t\t\t\t-1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tevent.data.dataValue = event.data.dataValue.replace(\n\t\t\t\t\t\t\t\t/<u><font color=\"#(.*?)\">|<\\/font><\\/u>/g,\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst instance = this;\n\n\t\t\t\t\tevent.data.dataValue = event.data.dataValue.replace(\n\t\t\t\t\t\tRegExp(REGEX_URL, 'gim'),\n\t\t\t\t\t\turl => {\n\t\t\t\t\t\t\tif (instance._isValidURL(url)) {\n\t\t\t\t\t\t\t\tif (instance._isValidEmail(url)) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t'<a href=\"mailto:' +\n\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t'<a href=\"' + url + '\">' + url + '</a>'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the last word introduced by the user. Reads from the current\n\t\t * caret position backwards until it finds the first white space.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _getLastWord\n\t\t * @protected\n\t\t * @return {String} The last word introduced by user\n\t\t */\n\t\t_getLastWord(editor) {\n\t\t\tconst range = editor.getSelection().getRanges()[0];\n\n\t\t\tif (!range) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst offset = range.startOffset;\n\n\t\t\tlet previousText = '';\n\n\t\t\t// The user pressed Enter, so we have to look on the previous node\n\t\t\tif (this._currentKeyCode === KEY_ENTER) {\n\t\t\t\tlet previousNode = range.startContainer.getPrevious();\n\n\t\t\t\tlet lastChild;\n\n\t\t\t\tif (previousNode) {\n\t\t\t\t\t// If previous node is a SPACE, (it does not have 'getLast' method),\n\t\t\t\t\t// ignore it and find the previous text node\n\t\t\t\t\twhile (!previousNode.getLast) {\n\t\t\t\t\t\tpreviousNode = previousNode.getPrevious();\n\t\t\t\t\t}\n\n\t\t\t\t\tlastChild = previousNode.getLast();\n\n\t\t\t\t\t// Depending on the browser, the last child node may be a <BR>\n\t\t\t\t\t// (which does not have 'getText' method),\n\t\t\t\t\t// so ignore it and find the previous text node\n\t\t\t\t\twhile (lastChild && !lastChild.getText()) {\n\t\t\t\t\t\tlastChild = lastChild.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check if the lastChild is already a link\n\t\t\t\tif (!(lastChild && lastChild.$.href)) {\n\t\t\t\t\tthis._startContainer = lastChild;\n\t\t\t\t\tpreviousText = lastChild ? lastChild.getText() : '';\n\t\t\t\t\tthis._offset = previousText.length;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._startContainer = range.startContainer;\n\n\t\t\t\t// Last character is the delimiter, ignore it\n\t\t\t\tpreviousText = this._startContainer\n\t\t\t\t\t.getText()\n\t\t\t\t\t.substring(0, offset - 1);\n\n\t\t\t\tthis._offset = offset - 1;\n\t\t\t}\n\n\t\t\tlet lastWord = '';\n\n\t\t\tconst match = previousText.match(REGEX_LAST_WORD);\n\n\t\t\tif (match) {\n\t\t\t\tlastWord = match.pop();\n\t\t\t}\n\n\t\t\treturn lastWord;\n\t\t},\n\n\t\t/**\n\t\t * Checks if the given link is a valid Email.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method isValidEmail\n\t\t * @param {String} link The email we want to know if it is a valid Email\n\t\t * @protected\n\t\t * @return {Boolean} Returns true if the email is a valid Email, false otherwise\n\t\t */\n\t\t_isValidEmail(email) {\n\t\t\treturn REGEX_EMAIL.test(email);\n\t\t},\n\n\t\t/**\n\t\t * Checks if the given link is a valid URL.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method isValidURL\n\t\t * @param {String} link The link we want to know if it is a valid URL\n\t\t * @protected\n\t\t * @return {Boolean} Returns true if the link is a valid URL, false otherwise\n\t\t */\n\t\t_isValidURL(link) {\n\t\t\treturn RegExp(REGEX_URL, 'i').test(link);\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `keydown` event and if the keycode is `Backspace`, removes the previously\n\t\t * created link.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _onKeyDown\n\t\t * @param {EventFacade} event EventFacade object\n\t\t * @protected\n\t\t */\n\t\t_onKeyDown(event) {\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\tconst editable = editor.editable();\n\n\t\t\teditable.removeListener('keydown', this._onKeyDown);\n\n\t\t\tif (nativeEvent.keyCode === KEY_BACK) {\n\t\t\t\tevent.cancel();\n\t\t\t\tevent.data.preventDefault();\n\n\t\t\t\tthis._removeLink(editor);\n\t\t\t}\n\n\t\t\tthis._ckLink = null;\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `Enter` and `Space` key events in order to check if the last word\n\t\t * introduced by the user should be replaced by a link element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _onKeyUp\n\t\t * @param {EventFacade} event EventFacade object\n\t\t * @protected\n\t\t */\n\t\t_onKeyUp(event) {\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tthis._currentKeyCode = nativeEvent.keyCode;\n\n\t\t\tif (DELIMITERS.indexOf(this._currentKeyCode) !== -1) {\n\t\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\t\tconst lastWord = this._getLastWord(editor);\n\n\t\t\t\tif (this._isValidURL(lastWord)) {\n\t\t\t\t\tthis._replaceContentByLink(editor, lastWord);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Replaces content by a link element.\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_autolink#autolinkAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _replaceContentByLink\n\t\t * @param {String} content The text that has to be replaced by an link element\n\t\t * @protected\n\t\t */\n\t\t_replaceContentByLink(editor, content) {\n\t\t\tlet range = editor.createRange();\n\t\t\tconst node = CKEDITOR.dom.element.get(this._startContainer);\n\t\t\tconst offset = this._offset;\n\n\t\t\t// Select the content, so CKEDITOR.Link can properly replace it\n\t\t\trange.setStart(node, offset - content.length);\n\t\t\trange.setEnd(node, offset);\n\t\t\trange.select();\n\n\t\t\tconst ckLink = new CKEDITOR.Link(editor);\n\t\t\tckLink.create(content);\n\t\t\tthis._ckLink = ckLink;\n\n\t\t\tconst linkNode = ckLink.getFromSelection();\n\t\t\teditor.fire('autolinkAdd', linkNode);\n\n\t\t\tthis._subscribeToKeyEvent(editor);\n\n\t\t\t// Now range is on the link and it is selected. We have to\n\t\t\t// return focus to the caret position.\n\t\t\trange = editor.getSelection().getRanges()[0];\n\n\t\t\t// If user pressed `Enter`, get the next editable node at position 0,\n\t\t\t// otherwise set the cursor at the next character of the link (the white space)\n\t\t\tif (this._currentKeyCode === KEY_ENTER) {\n\t\t\t\tconst nextEditableNode = range.getNextEditableNode();\n\n\t\t\t\trange.setStart(nextEditableNode, 0);\n\t\t\t\trange.setEnd(nextEditableNode, 0);\n\t\t\t} else {\n\t\t\t\tconst enclosedNode = range.getEnclosedNode();\n\n\t\t\t\trange.setStart(enclosedNode, 0);\n\t\t\t\trange.setEnd(enclosedNode, 0);\n\t\t\t}\n\n\t\t\trange.select();\n\t\t},\n\n\t\t/**\n\t\t * Fired when a URL is detected in text and converted to a link.\n\t\t *\n\t\t * @event CKEDITOR.plugins.ae_autolink#autolinkAdd\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @param {CKEDITOR.dom.element} el Node of the created link.\n\t\t */\n\n\t\t/**\n\t\t * Removes the created link element, and replaces it by its text.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _removeLink\n\t\t * @protected\n\t\t */\n\t\t_removeLink(editor) {\n\t\t\tconst range = editor.getSelection().getRanges()[0];\n\t\t\tconst caretOffset = range.startOffset;\n\n\t\t\t// Select the link, so CKEDITOR.Link can properly remove it\n\t\t\tconst linkNode =\n\t\t\t\tthis._startContainer.getNext() || this._startContainer;\n\n\t\t\tconst newRange = editor.createRange();\n\t\t\tnewRange.setStart(linkNode, 0);\n\t\t\tnewRange.setEndAfter(linkNode);\n\t\t\tnewRange.select();\n\n\t\t\tthis._ckLink.remove();\n\n\t\t\t// Return focus to the caret position\n\t\t\trange.setEnd(range.startContainer, caretOffset);\n\t\t\trange.setStart(range.startContainer, caretOffset);\n\n\t\t\trange.select();\n\t\t},\n\n\t\t/**\n\t\t * Subscribe to a key event of the editable aria.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _subscribeToKeyEvent\n\t\t * @protected\n\t\t */\n\t\t_subscribeToKeyEvent(editor) {\n\t\t\tconst editable = editor.editable();\n\n\t\t\t// Change the priority of keydown listener - 1 means the highest priority.\n\t\t\t// In Chrome on pressing `Enter` the listener is not being invoked.\n\t\t\t// See http://dev.ckeditor.com/ticket/11861 for more information.\n\t\t\teditable.attachListener(\n\t\t\t\teditable,\n\t\t\t\t'keydown',\n\t\t\t\tthis._onKeyDown,\n\t\t\t\tthis,\n\t\t\t\t{\n\t\t\t\t\teditor,\n\t\t\t\t},\n\t\t\t\t1\n\t\t\t);\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_autolist')) {\n\tconst KEY_BACK = 8;\n\n\tconst KEY_SPACE = 32;\n\n\tconst DEFAULT_CONFIG = [\n\t\t{\n\t\t\tregex: /^\\*$/,\n\t\t\ttype: 'bulletedlist',\n\t\t},\n\t\t{\n\t\t\tregex: /^1\\.$/,\n\t\t\ttype: 'numberedlist',\n\t\t},\n\t];\n\n\t/**\n\t * CKEditor plugin which automatically generates ordered/unordered list when user types text which looks like a list.\n\t *\n\t * @class CKEDITOR.plugins.ae_autolist\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_autolist', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKeditor plugin lifecycle.\n\t\t * The function registers the `keydown` event on the content editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'keydown',\n\t\t\t\t\tthis._onKeyDown,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Checks for pressing the `Backspace` key in order to undo the list creation.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _checkForBackspaceAndUndo\n\t\t * @param {Event} event Event object\n\t\t * @protected\n\t\t */\n\t\t_checkForBackspaceAndUndo(event) {\n\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tconst editable = editor.editable();\n\n\t\t\teditable.removeListener('keydown', this._checkForBackspaceAndUndo);\n\n\t\t\tif (nativeEvent.keyCode === KEY_BACK) {\n\t\t\t\teditor.execCommand('undo');\n\t\t\t\teditor.insertHtml(event.listenerData.bullet + '&nbsp;');\n\t\t\t\tevent.data.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks current line to find match with MATCHES object to create OL or UL.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _checkLine\n\t\t * @param {editor} Editor object\n\t\t * @protected\n\t\t * @return {Object|null} Returns an object which contains the detected list config if any\n\t\t */\n\t\t_getListConfig(editor) {\n\t\t\tconst configRegex = editor.config.autolist || DEFAULT_CONFIG;\n\n\t\t\tconst range = editor.getSelection().getRanges()[0];\n\n\t\t\tconst textContainer = range.endContainer.getText();\n\n\t\t\tconst bullet = textContainer.substring(0, range.startOffset);\n\n\t\t\tconst text = textContainer.substring(\n\t\t\t\trange.startOffset,\n\t\t\t\ttextContainer.length\n\t\t\t);\n\n\t\t\tlet index = 0;\n\n\t\t\tconst regexLen = configRegex.length;\n\n\t\t\tlet autolistCfg = null;\n\n\t\t\twhile (!autolistCfg && regexLen > index) {\n\t\t\t\tconst regexItem = configRegex[index];\n\n\t\t\t\tif (regexItem.regex.test(bullet)) {\n\t\t\t\t\tautolistCfg = {\n\t\t\t\t\t\tbullet,\n\t\t\t\t\t\teditor,\n\t\t\t\t\t\ttext,\n\t\t\t\t\t\ttype: regexItem.type,\n\t\t\t\t\t};\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\treturn autolistCfg;\n\t\t},\n\n\t\t/**\n\t\t * Create list with different types: Bulleted or Numbered list\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _createList\n\t\t * @param {Object} listConfig Object that contains bullet, text and type for creating the list\n\t\t * @protected\n\t\t */\n\t\t_createList(listConfig) {\n\t\t\tconst editor = listConfig.editor;\n\n\t\t\tconst range = editor.getSelection().getRanges()[0];\n\n\t\t\trange.endContainer.setText(listConfig.text);\n\t\t\teditor.execCommand(listConfig.type);\n\n\t\t\tconst editable = editor.editable();\n\n\t\t\t// Subscribe to keydown in order to check if the next key press is `Backspace`.\n\t\t\t// If so, the creation of the list will be discarded.\n\t\t\teditable.attachListener(\n\t\t\t\teditable,\n\t\t\t\t'keydown',\n\t\t\t\tthis._checkForBackspaceAndUndo,\n\t\t\t\tthis,\n\t\t\t\t{\n\t\t\t\t\teditor,\n\t\t\t\t\tbullet: listConfig.bullet,\n\t\t\t\t},\n\t\t\t\t1\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `Space` key events to check if the last word\n\t\t * introduced by the user should be replaced by a list (OL or UL)\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _onKeyDown\n\t\t * @param {Event} event Event object\n\t\t * @protected\n\t\t */\n\t\t_onKeyDown(event) {\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tif (nativeEvent.keyCode === KEY_SPACE) {\n\t\t\t\tconst listConfig = this._getListConfig(\n\t\t\t\t\tevent.listenerData.editor\n\t\t\t\t);\n\n\t\t\t\tif (listConfig) {\n\t\t\t\t\tevent.data.preventDefault();\n\t\t\t\t\tthis._createList(listConfig);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * CKEditor plugin: Dragable image resizing\n * https://github.com/sstur/ck-dragresize\n * - Shows semi-transparent overlay while resizing\n * - Enforces Aspect Ratio (unless holding shift)\n * - Snap to size of other images in editor\n * - Escape while dragging cancels resize\n */\nif (!CKEDITOR.plugins.get('ae_dragresize')) {\n\tconst IMAGE_HANDLES = {\n\t\tboth: ['tl', 'tm', 'tr', 'lm', 'rm', 'bl', 'bm', 'br'],\n\t\theight: ['tl', 'tm', 'tr', 'bl', 'bm', 'br'],\n\t\tscale: ['tl', 'tr', 'bl', 'br'],\n\t\twidth: ['tl', 'tr', 'lm', 'rm', 'bl', 'br'],\n\t};\n\n\tconst POSITION_ELEMENT_FN = {\n\t\tbl(handle, left, top, box) {\n\t\t\tpositionElement(handle, -3 + left, box.height - 4 + top);\n\t\t},\n\t\tbm(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tMath.round(box.width / 2) - 3 + left,\n\t\t\t\tbox.height - 4 + top\n\t\t\t);\n\t\t},\n\t\tbr(handle, left, top, box) {\n\t\t\tpositionElement(handle, box.width - 4 + left, box.height - 4 + top);\n\t\t},\n\t\tlm(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\t-3 + left,\n\t\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t\t);\n\t\t},\n\t\ttl(handle, left, top, _box) {\n\t\t\tpositionElement(handle, left - 3, top - 3);\n\t\t},\n\t\ttm(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tMath.round(box.width / 2) - 3 + left,\n\t\t\t\t-3 + top\n\t\t\t);\n\t\t},\n\t\ttr(handle, left, top, box) {\n\t\t\tpositionElement(handle, box.width - 4 + left, -3 + top);\n\t\t},\n\t\trm(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tbox.width - 4 + left,\n\t\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t\t);\n\t\t},\n\t};\n\n\tconst IMAGE_SNAP_TO_SIZE = 7;\n\n\tconst isFirefox = 'MozAppearance' in document.documentElement.style;\n\n\tconst isWebKit = 'WebkitAppearance' in document.documentElement.style;\n\n\tconst enablePlugin = isWebKit || isFirefox;\n\n\tif (enablePlugin) {\n\t\t// CSS is added in a compressed form\n\t\tCKEDITOR.addCss(\n\t\t\t'img::selection{color:rgba(0,0,0,0)}img.ckimgrsz{outline:1px dashed #000}#ckimgrsz{position:absolute;width:0;height:0;cursor:default;z-index:10001}#ckimgrsz span{display:none;position:absolute;top:0;left:0;width:0;height:0;background-size:100% 100%;opacity:.65;outline:1px dashed #000}#ckimgrsz i{position:absolute;display:block;width:5px;height:5px;background:#fff;border:1px solid #000}#ckimgrsz i.active,#ckimgrsz i:hover{background:#000}#ckimgrsz i.br,#ckimgrsz i.tl{cursor:nwse-resize}#ckimgrsz i.bm,#ckimgrsz i.tm{cursor:ns-resize}#ckimgrsz i.bl,#ckimgrsz i.tr{cursor:nesw-resize}#ckimgrsz i.lm,#ckimgrsz i.rm{cursor:ew-resize}body.dragging-br,body.dragging-br *,body.dragging-tl,body.dragging-tl *{cursor:nwse-resize!important}body.dragging-bm,body.dragging-bm *,body.dragging-tm,body.dragging-tm *{cursor:ns-resize!important}body.dragging-bl,body.dragging-bl *,body.dragging-tr,body.dragging-tr *{cursor:nesw-resize!important}body.dragging-lm,body.dragging-lm *,body.dragging-rm,body.dragging-rm *{cursor:ew-resize!important}'\n\t\t);\n\t}\n\n\t/**\n\t * Initializes the plugin\n\t */\n\tCKEDITOR.plugins.add('ae_dragresize', {\n\t\tonLoad() {\n\t\t\tif (!enablePlugin) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tinit(editor) {\n\t\t\tif (!enablePlugin) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor.once('contentDom', _evt => {\n\t\t\t\tinit(editor);\n\t\t\t});\n\t\t},\n\t});\n\n\tfunction init(editor) {\n\t\tconst window = editor.window.$;\n\n\t\tconst document = editor.document.$;\n\n\t\tif (isFirefox) {\n\t\t\t// Disable the native image resizing\n\t\t\tdocument.execCommand('enableObjectResizing', false, false);\n\t\t}\n\n\t\tconst snapToSize =\n\t\t\ttypeof IMAGE_SNAP_TO_SIZE === 'undefined'\n\t\t\t\t? null\n\t\t\t\t: IMAGE_SNAP_TO_SIZE;\n\n\t\teditor.config.imageScaleResize =\n\t\t\teditor.config.imageScaleResize || 'both';\n\n\t\tconst resizer = new Resizer(editor, {\n\t\t\timageScaleResize: editor.config.imageScaleResize,\n\t\t\tsnapToSize,\n\t\t});\n\n\t\tconst mouseDownListener = function(e) {\n\t\t\tif (resizer.isHandle(e.target)) {\n\t\t\t\tresizer.initDrag(e);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('mousedown', mouseDownListener, false);\n\n\t\tfunction selectionChange() {\n\t\t\tconst selection = editor.getSelection();\n\n\t\t\tif (!selection) return;\n\t\t\t// If an element is selected and that element is an IMG\n\t\t\tif (\n\t\t\t\tselection.getType() !== CKEDITOR.SELECTION_NONE &&\n\t\t\t\tselection.getStartElement().is('img')\n\t\t\t) {\n\t\t\t\t// And we're not right or middle clicking on the image\n\t\t\t\tif (\n\t\t\t\t\t!window.event ||\n\t\t\t\t\t!window.event.button ||\n\t\t\t\t\twindow.event.button === 0\n\t\t\t\t) {\n\t\t\t\t\tresizer.show(selection.getStartElement().$);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresizer.hide();\n\t\t\t}\n\t\t}\n\n\t\teditor.on('selectionChange', selectionChange);\n\n\t\teditor.on('getData', e => {\n\t\t\tlet html = e.data.dataValue || '';\n\t\t\thtml = html.replace(/<div id=\"ckimgrsz\"([\\s\\S]*?)<\\/div>/i, '');\n\t\t\thtml = html.replace(/\\b(ckimgrsz)\\b/g, '');\n\t\t\te.data.dataValue = html;\n\t\t});\n\n\t\teditor.on('beforeUndoImage', () => {\n\t\t\t// Remove the handles before undo images are saved\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('afterUndoImage', () => {\n\t\t\t// Restore the handles after undo images are saved\n\t\t\tselectionChange();\n\t\t});\n\n\t\teditor.on('blur', () => {\n\t\t\t// Remove the handles when editor loses focus\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('beforeModeUnload', function self() {\n\t\t\teditor.removeListener('beforeModeUnload', self);\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('destroy', () => {\n\t\t\tconst resizeElement = document.getElementById('ckimgrsz');\n\n\t\t\tif (resizeElement) {\n\t\t\t\tresizeElement.remove();\n\t\t\t}\n\n\t\t\tif (isFirefox) {\n\t\t\t\tdocument.execCommand('enableObjectResizing', false, true);\n\t\t\t}\n\n\t\t\tdocument.removeEventListener('mousedown', mouseDownListener);\n\t\t});\n\n\t\t// Update the selection when the browser window is resized\n\t\tlet resizeTimeout;\n\t\teditor.window.on('resize', () => {\n\t\t\t// Cancel any resize waiting to happen\n\t\t\tclearTimeout(resizeTimeout);\n\t\t\t// Delay resize to \"debounce\"\n\t\t\tresizeTimeout = setTimeout(selectionChange, 50);\n\t\t});\n\t}\n\n\tfunction Resizer(editor, cfg) {\n\t\tthis.editor = editor;\n\t\tthis.window = editor.window.$;\n\t\tthis.document = editor.document.$;\n\t\tthis.cfg = cfg || {};\n\t\tthis.init();\n\t}\n\n\tResizer.prototype = {\n\t\tinit() {\n\t\t\tconst instance = this;\n\n\t\t\tconst container = (this.container = this.document.createElement(\n\t\t\t\t'div'\n\t\t\t));\n\n\t\t\tcontainer.id = 'ckimgrsz';\n\t\t\tthis.preview = this.document.createElement('span');\n\t\t\tcontainer.appendChild(this.preview);\n\n\t\t\tconst handles = (this.handles = {});\n\n\t\t\tIMAGE_HANDLES[this.cfg.imageScaleResize].forEach(handleName => {\n\t\t\t\thandles[handleName] = instance.handles[\n\t\t\t\t\thandleName\n\t\t\t\t] = instance.createHandle(handleName);\n\t\t\t});\n\n\t\t\tfor (const n in handles) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(handles, n)) {\n\t\t\t\t\tcontainer.appendChild(handles[n]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreateHandle(name) {\n\t\t\tconst el = this.document.createElement('i');\n\t\t\tel.classList.add(name);\n\t\t\treturn el;\n\t\t},\n\t\tisHandle(el) {\n\t\t\tconst handles = this.handles;\n\t\t\tfor (const n in handles) {\n\t\t\t\tif (handles[n] === el) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tshow(el) {\n\t\t\tlet uiNode = this.editor.config.uiNode;\n\n\t\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\tthis.el = el;\n\t\t\tif (this.cfg.snapToSize) {\n\t\t\t\tthis.otherImages = toArray(\n\t\t\t\t\tthis.document.getElementsByTagName('img')\n\t\t\t\t);\n\t\t\t\tthis.otherImages.splice(this.otherImages.indexOf(el), 1);\n\t\t\t}\n\t\t\tconst box = (this.box = getBoundingBox(this.window, el));\n\t\t\tpositionElement(this.container, box.left, box.top + scrollTop);\n\n\t\t\tuiNode = uiNode || document.body;\n\n\t\t\tuiNode.appendChild(this.container);\n\n\t\t\tthis.el.classList.add('ckimgrsz');\n\t\t\tthis.showHandles();\n\t\t},\n\t\thide() {\n\t\t\t// Remove class from all img.ckimgrsz\n\t\t\tconst elements = this.document.getElementsByClassName('ckimgrsz');\n\t\t\tfor (let i = 0; i < elements.length; ++i) {\n\t\t\t\telements[i].classList.remove('ckimgrsz');\n\t\t\t}\n\t\t\tthis.hideHandles();\n\t\t\tif (this.container.parentNode) {\n\t\t\t\tthis.container.parentNode.removeChild(this.container);\n\t\t\t}\n\t\t},\n\t\tinitDrag(e) {\n\t\t\tif (e.button !== 0) {\n\t\t\t\t// right-click or middle-click\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizer = this;\n\t\t\tconst drag = new DragEvent(this.window, this.document);\n\t\t\tdrag.onStart = function() {\n\t\t\t\tresizer.showPreview();\n\t\t\t\tresizer.isDragging = true;\n\t\t\t\tresizer.editor.getSelection().lock();\n\t\t\t};\n\t\t\tdrag.onDrag = function() {\n\t\t\t\tresizer.calculateSize(this);\n\t\t\t\tresizer.updatePreview();\n\t\t\t\tconst box = resizer.previewBox;\n\t\t\t\tresizer.updateHandles(box, box.left, box.top);\n\t\t\t};\n\t\t\tdrag.onRelease = function() {\n\t\t\t\tresizer.isDragging = false;\n\t\t\t\tresizer.hidePreview();\n\t\t\t\tresizer.hide();\n\t\t\t\tresizer.editor.getSelection().unlock();\n\t\t\t\t// Save an undo snapshot before the image is permanently changed\n\t\t\t\tresizer.editor.fire('saveSnapshot');\n\t\t\t};\n\t\t\tdrag.onComplete = function() {\n\t\t\t\tresizer.resizeComplete();\n\t\t\t\t// Save another snapshot after the image is changed\n\t\t\t\tresizer.editor.fire('saveSnapshot');\n\t\t\t};\n\t\t\tdrag.start(e);\n\t\t},\n\t\tupdateHandles(box, left, top) {\n\t\t\tleft = left || 0;\n\t\t\ttop = top || 0;\n\t\t\tconst handles = this.handles;\n\n\t\t\tfor (const handle in handles) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(handles, handle)) {\n\t\t\t\t\tPOSITION_ELEMENT_FN[handle](\n\t\t\t\t\t\thandles[handle],\n\t\t\t\t\t\tleft,\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\tbox\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowHandles() {\n\t\t\tconst handles = this.handles;\n\t\t\tthis.updateHandles(this.box);\n\t\t\tfor (const n in handles) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(handles, n)) {\n\t\t\t\t\thandles[n].style.display = 'block';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thideHandles() {\n\t\t\tconst handles = this.handles;\n\t\t\tfor (const n in handles) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(handles, n)) {\n\t\t\t\t\thandles[n].style.display = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowPreview() {\n\t\t\tthis.preview.style.backgroundImage = 'url(\"' + this.el.src + '\")';\n\t\t\tthis.calculateSize();\n\t\t\tthis.updatePreview();\n\t\t\tthis.preview.style.display = 'block';\n\t\t},\n\t\tupdatePreview() {\n\t\t\tconst box = this.previewBox;\n\t\t\tpositionElement(this.preview, box.left, box.top);\n\t\t\tthis.preview.style.width = this.previewBox.width + 'px';\n\t\t\tthis.preview.style.height = this.previewBox.height + 'px';\n\t\t},\n\t\thidePreview() {\n\t\t\tconst box = getBoundingBox(this.window, this.preview);\n\t\t\tthis.result = {\n\t\t\t\twidth: box.width,\n\t\t\t\theight: box.height,\n\t\t\t};\n\t\t\tthis.preview.style.display = 'none';\n\t\t},\n\t\tcalculateSize(data) {\n\t\t\tconst box = (this.previewBox = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\twidth: this.box.width,\n\t\t\t\theight: this.box.height,\n\t\t\t});\n\n\t\t\tif (!data) return;\n\n\t\t\tconst attr = data.target.className;\n\n\t\t\tif (~attr.indexOf('r')) {\n\t\t\t\tbox.width = Math.max(32, this.box.width + data.delta.x);\n\t\t\t}\n\t\t\tif (~attr.indexOf('b')) {\n\t\t\t\tbox.height = Math.max(32, this.box.height + data.delta.y);\n\t\t\t}\n\t\t\tif (~attr.indexOf('l')) {\n\t\t\t\tbox.width = Math.max(32, this.box.width - data.delta.x);\n\t\t\t}\n\t\t\tif (~attr.indexOf('t')) {\n\t\t\t\tbox.height = Math.max(32, this.box.height - data.delta.y);\n\t\t\t}\n\t\t\t// if dragging corner, enforce aspect ratio (unless shift key is being held)\n\t\t\tif (attr.indexOf('m') < 0 && !data.keys.shift) {\n\t\t\t\tconst ratio = this.box.width / this.box.height;\n\t\t\t\tif (box.width / box.height > ratio) {\n\t\t\t\t\tbox.height = Math.round(box.width / ratio);\n\t\t\t\t} else {\n\t\t\t\t\tbox.width = Math.round(box.height * ratio);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst snapToSize = this.cfg.snapToSize;\n\n\t\t\tif (snapToSize) {\n\t\t\t\tconst others = this.otherImages;\n\t\t\t\tfor (let i = 0; i < others.length; i++) {\n\t\t\t\t\tconst other = getBoundingBox(this.window, others[i]);\n\t\t\t\t\tif (\n\t\t\t\t\t\tMath.abs(box.width - other.width) <= snapToSize &&\n\t\t\t\t\t\tMath.abs(box.height - other.height) <= snapToSize\n\t\t\t\t\t) {\n\t\t\t\t\t\tbox.width = other.width;\n\t\t\t\t\t\tbox.height = other.height;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// recalculate left or top position\n\t\t\tif (~attr.indexOf('l')) {\n\t\t\t\tbox.left = this.box.width - box.width;\n\t\t\t}\n\t\t\tif (~attr.indexOf('t')) {\n\t\t\t\tbox.top = this.box.height - box.height;\n\t\t\t}\n\t\t},\n\t\tresizeComplete() {\n\t\t\tresizeElement.call(\n\t\t\t\tthis,\n\t\t\t\tthis.el,\n\t\t\t\tthis.result.width,\n\t\t\t\tthis.result.height\n\t\t\t);\n\t\t},\n\t};\n\n\tfunction DragEvent(window, document) {\n\t\tthis.window = window;\n\t\tthis.document = document;\n\t\tthis.events = {\n\t\t\tmousemove: bind(this.mousemove, this),\n\t\t\tkeydown: bind(this.keydown, this),\n\t\t\tmouseup: bind(this.mouseup, this),\n\t\t};\n\t}\n\n\tDragEvent.prototype = {\n\t\tstart(e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis.target = e.target;\n\t\t\tthis.attr = e.target.className;\n\t\t\tthis.startPos = {\n\t\t\t\tx: e.clientX,\n\t\t\t\ty: e.clientY,\n\t\t\t};\n\t\t\tthis.update(e);\n\t\t\tconst events = this.events;\n\t\t\tthis.document.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tevents.mousemove,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.document.addEventListener('keydown', events.keydown, false);\n\t\t\tthis.document.addEventListener('mouseup', events.mouseup, false);\n\t\t\tthis.document.body.classList.add('dragging-' + this.attr);\n\t\t\tif (this.onStart) {\n\t\t\t\tthis.onStart();\n\t\t\t}\n\t\t},\n\t\tupdate(e) {\n\t\t\tthis.currentPos = {\n\t\t\t\tx: e.clientX,\n\t\t\t\ty: e.clientY,\n\t\t\t};\n\t\t\tthis.delta = {\n\t\t\t\tx: e.clientX - this.startPos.x,\n\t\t\t\ty: e.clientY - this.startPos.y,\n\t\t\t};\n\t\t\tthis.keys = {\n\t\t\t\tshift: e.shiftKey,\n\t\t\t\tctrl: e.ctrlKey,\n\t\t\t\talt: e.altKey,\n\t\t\t};\n\t\t},\n\t\tmousemove(e) {\n\t\t\tthis.update(e);\n\t\t\tif (this.onDrag) {\n\t\t\t\tthis.onDrag();\n\t\t\t}\n\t\t\tif (e.which === 0) {\n\t\t\t\t// mouse button released outside window; mouseup wasn't fired (Chrome)\n\t\t\t\tthis.mouseup(e);\n\t\t\t}\n\t\t},\n\t\tkeydown(e) {\n\t\t\t// escape key cancels dragging\n\t\t\tif (e.keyCode === 27) {\n\t\t\t\tthis.release();\n\t\t\t}\n\t\t},\n\t\tmouseup(e) {\n\t\t\tthis.update(e);\n\t\t\tthis.release();\n\t\t\tif (this.onComplete) {\n\t\t\t\tthis.onComplete();\n\t\t\t}\n\t\t},\n\t\trelease() {\n\t\t\tthis.document.body.classList.remove('dragging-' + this.attr);\n\t\t\tconst events = this.events;\n\t\t\tthis.document.removeEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tevents.mousemove,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.document.removeEventListener('keydown', events.keydown, false);\n\t\t\tthis.document.removeEventListener('mouseup', events.mouseup, false);\n\t\t\tif (this.onRelease) {\n\t\t\t\tthis.onRelease();\n\t\t\t}\n\t\t},\n\t};\n\n\t// helper functions\n\tfunction toArray(obj) {\n\t\tconst len = obj.length;\n\n\t\tconst arr = new Array(len);\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarr[i] = obj[i];\n\t\t}\n\t\treturn arr;\n\t}\n\n\tfunction bind(fn, ctx) {\n\t\tif (fn.bind) {\n\t\t\treturn fn.bind(ctx);\n\t\t}\n\t\treturn function(...args) {\n\t\t\tfn.apply(ctx, args);\n\t\t};\n\t}\n\n\tfunction positionElement(el, left, top) {\n\t\tel.style.left = String(left) + 'px';\n\t\tel.style.top = String(top) + 'px';\n\t}\n\n\tfunction resizeElement(el, width, height) {\n\t\tconst imageScaleResize = this.editor.config.imageScaleResize;\n\t\tif (imageScaleResize === 'both') {\n\t\t\tel.setAttribute('width', String(width));\n\t\t\tel.style.width = String(width) + 'px';\n\t\t\tel.setAttribute('height', String(height));\n\t\t\tel.style.height = String(height) + 'px';\n\t\t} else if (\n\t\t\timageScaleResize === 'width' ||\n\t\t\timageScaleResize === 'scale'\n\t\t) {\n\t\t\tel.removeAttribute('height');\n\t\t\tel.style.height = 'auto';\n\t\t\tel.setAttribute('width', String(width));\n\t\t\tel.style.width = String(width) + 'px';\n\t\t} else if (imageScaleResize === 'height') {\n\t\t\tel.setAttribute('height', String(height));\n\t\t\tel.style.height = String(height) + 'px';\n\t\t\tel.removeAttribute('width');\n\t\t\tel.style.width = 'auto';\n\t\t}\n\t}\n\n\tfunction getBoundingBox(window, el) {\n\t\tconst rect = el.getBoundingClientRect();\n\t\treturn {\n\t\t\tleft: rect.left + window.pageXOffset,\n\t\t\ttop: rect.top + window.pageYOffset,\n\t\t\twidth: rect.width,\n\t\t\theight: rect.height,\n\t\t};\n\t}\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * CKEditor plugin: Image2\n * - Show gripper to resize images on IE\n */\nif (!CKEDITOR.plugins.get('ae_dragresize_ie')) {\n\tconst alignmentsObj = {\n\t\tcenter: 1,\n\t\tleft: 0,\n\t\tright: 2,\n\t};\n\n\t/*\n\t * Set cursor css depend on imageScaleResize config\n\t **/\n\n\tconst cursor = {\n\t\tboth: 'nwse-resize',\n\t\theight: 'ns-resize',\n\t\tscale: 'nwse-resize',\n\t\twidth: 'ew-resize',\n\t};\n\n\tconst regexPercent = /^\\s*(\\d+%)\\s*$/i;\n\n\tconst template = '<img alt=\"\" src=\"\" />';\n\n\tCKEDITOR.plugins.add('ae_dragresize_ie', {\n\t\thidpi: true,\n\n\t\ticons: 'image',\n\n\t\tinit(editor) {\n\t\t\tconst image = widgetDef(editor);\n\n\t\t\t// Register the widget.\n\t\t\teditor.widgets.add('image', image);\n\t\t},\n\n\t\tonLoad() {\n\t\t\tCKEDITOR.addCss(\n\t\t\t\t'.cke_image_resizer_nwse-resize{' +\n\t\t\t\t\t'cursor: nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_ns-resize{' +\n\t\t\t\t\t'cursor: ns-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_nwse-resize{' +\n\t\t\t\t\t'cursor: nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_ew-resize{' +\n\t\t\t\t\t'cursor: ew-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_nocaption{' +\n\t\t\t\t\t// This is to remove unwanted space so resize\n\t\t\t\t\t// wrapper is displayed property.\n\t\t\t\t\t'line-height:0' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer{' +\n\t\t\t\t\t'display:none;' +\n\t\t\t\t\t'position:absolute;' +\n\t\t\t\t\t'width:10px;' +\n\t\t\t\t\t'height:10px;' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'background:#000;' +\n\t\t\t\t\t'outline:1px solid #fff;' +\n\t\t\t\t\t// Prevent drag handler from being misplaced (#11207).\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'cursor:nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_wrapper{' +\n\t\t\t\t\t'position:relative;' +\n\t\t\t\t\t'display:inline-block;' +\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_widget_wrapper:hover .cke_image_resizer,' +\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizing{' +\n\t\t\t\t\t'display:block' +\n\t\t\t\t\t'}'\n\t\t\t);\n\t\t},\n\n\t\trequires: 'widget',\n\t});\n\n\t// Widget states (forms) depending on alignment and configuration.\n\t//\n\t// Non-captioned widget (inline styles)\n\t// \t\t┌──────┬───────────────────────────────┬─────────────────────────────┐\n\t// \t\t│Align │Internal form                  │Data                         │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│none  │<wrapper>                      │<img />                      │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│left  │<wrapper style=”float:left”>   │<img style=”float:left” />   │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│center│<wrapper>                      │<p style=”text-align:center”>│\n\t// \t\t│      │ <p style=”text-align:center”> │  <img />                    │\n\t// \t\t│      │   <img />                     │</p>                         │\n\t// \t\t│      │ </p>                          │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│right │<wrapper style=”float:right”>  │<img style=”float:right” />  │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t└──────┴───────────────────────────────┴─────────────────────────────┘\n\t//\n\t// Non-captioned widget (config.image2_alignClasses defined)\n\t// \t\t┌──────┬───────────────────────────────┬─────────────────────────────┐\n\t// \t\t│Align │Internal form                  │Data                         │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│none  │<wrapper>                      │<img />                      │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│left  │<wrapper class=”left”>         │<img class=”left” />         │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│center│<wrapper>                      │<p class=”center”>           │\n\t// \t\t│      │ <p class=”center”>            │ <img />                     │\n\t// \t\t│      │   <img />                     │</p>                         │\n\t// \t\t│      │ </p>                          │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│right │<wrapper class=”right”>        │<img class=”right” />        │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t└──────┴───────────────────────────────┴─────────────────────────────┘\n\t//\n\t// Captioned widget (inline styles)\n\t// \t\t┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐\n\t// \t\t│Align │Internal form                           │Data                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│none  │<wrapper>                               │<figure />                              │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│left  │<wrapper style=”float:left”>            │<figure style=”float:left” />           │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│center│<wrapper style=”text-align:center”>     │<div style=”text-align:center”>         │\n\t// \t\t│      │ <figure style=”display:inline-block” />│ <figure style=”display:inline-block” />│\n\t// \t\t│      │</wrapper>                              │</p>                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│right │<wrapper style=”float:right”>           │<figure style=”float:right” />          │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t└──────┴────────────────────────────────────────┴────────────────────────────────────────┘\n\t//\n\t// Captioned widget (config.image2_alignClasses defined)\n\t// \t\t┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐\n\t// \t\t│Align │Internal form                           │Data                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│none  │<wrapper>                               │<figure />                              │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│left  │<wrapper class=”left”>                  │<figure class=”left” />                 │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│center│<wrapper class=”center”>                │<div class=”center”>                    │\n\t// \t\t│      │ <figure />                             │ <figure />                             │\n\t// \t\t│      │</wrapper>                              │</p>                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│right │<wrapper class=”right”>                 │<figure class=”right” />                │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t└──────┴────────────────────────────────────────┴────────────────────────────────────────┘\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction widgetDef(editor) {\n\t\teditor.config.imageScaleResize =\n\t\t\teditor.config.imageScaleResize || 'both';\n\n\t\teditor.on('imageAdd', imageData => {\n\t\t\teditor.widgets.initOn(imageData.data.el, 'image');\n\t\t});\n\n\t\tconst alignClasses = editor.config.image2_alignClasses;\n\n\t\tconst captionedClass = editor.config.image2_captionedClass;\n\n\t\treturn {\n\t\t\tinit() {\n\t\t\t\tconst helpers = CKEDITOR.plugins.image2;\n\n\t\t\t\tconst image = this.parts.image;\n\n\t\t\t\tconst data = {\n\t\t\t\t\talt: image.getAttribute('alt') || '',\n\t\t\t\t\thasCaption: !!this.parts.caption,\n\t\t\t\t\theight: image.getAttribute('height') || '',\n\t\t\t\t\t// Lock ratio is on by default (#10833).\n\t\t\t\t\tlock: this.ready\n\t\t\t\t\t\t? helpers.checkHasNaturalRatio(image)\n\t\t\t\t\t\t: true,\n\t\t\t\t\tsrc: image.getAttribute('src'),\n\t\t\t\t\twidth: image.getAttribute('width') || '',\n\t\t\t\t};\n\n\t\t\t\t// If we used 'a' in widget#parts definition, it could happen that\n\t\t\t\t// selected element is a child of widget.parts#caption. Since there's no clever\n\t\t\t\t// way to solve it with CSS selectors, it's done like that. (#11783).\n\t\t\t\tconst link = image.getAscendant('a');\n\n\t\t\t\tif (link && this.wrapper.contains(link)) {\n\t\t\t\t\tthis.parts.link = link;\n\t\t\t\t}\n\n\t\t\t\t// Depending on configuration, read style/class from element and\n\t\t\t\t// then remove it. Removed style/class will be set on wrapper in #data listener.\n\t\t\t\t// Note: Center alignment is detected during upcast, so only left/right cases\n\t\t\t\t// are checked below.\n\t\t\t\tif (!data.align) {\n\t\t\t\t\tconst alignElement = data.hasCaption ? this.element : image;\n\n\t\t\t\t\t// Read the initial left/right alignment from the class set on element.\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tif (alignElement.hasClass(alignClasses[0])) {\n\t\t\t\t\t\t\tdata.align = 'left';\n\t\t\t\t\t\t} else if (alignElement.hasClass(alignClasses[2])) {\n\t\t\t\t\t\t\tdata.align = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.align) {\n\t\t\t\t\t\t\talignElement.removeClass(\n\t\t\t\t\t\t\t\talignClasses[alignmentsObj[data.align]]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.align = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Read initial float style from figure/image and then remove it.\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.align = alignElement.getStyle('float') || 'none';\n\t\t\t\t\t\talignElement.removeStyle('float');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get rid of extra vertical space when there's no caption.\n\t\t\t\t// It will improve the look of the resizer.\n\t\t\t\tthis.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class'](\n\t\t\t\t\t'cke_image_nocaption'\n\t\t\t\t);\n\n\t\t\t\tthis.setData(data);\n\n\t\t\t\tif (editor.config.image2_disableResizer !== true) {\n\t\t\t\t\tsetupResizer(this);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#addClass\n\t\t\taddClass(className) {\n\t\t\t\tgetStyleableElement(this).addClass(className);\n\t\t\t},\n\n\t\t\tallowedContent: getWidgetAllowedContent(editor),\n\n\t\t\t// This widget converts style-driven dimensions to attributes.\n\t\t\tcontentTransformations: [['img[width]: sizeToAttribute']],\n\n\t\t\tdata() {\n\t\t\t\tconst features = this.features;\n\n\t\t\t\t// Image can't be captioned when figcaption is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.hasCaption &&\n\t\t\t\t\t!editor.filter.checkFeature(features.caption)\n\t\t\t\t) {\n\t\t\t\t\tthis.data.hasCaption = false;\n\t\t\t\t}\n\n\t\t\t\t// Image can't be aligned when floating is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.align != 'none' &&\n\t\t\t\t\t!editor.filter.checkFeature(features.align)\n\t\t\t\t) {\n\t\t\t\t\tthis.data.align = 'none';\n\t\t\t\t}\n\n\t\t\t\t// Update widget.parts.link since it will not auto-update unless widget\n\t\t\t\t// is destroyed and re-inited.\n\t\t\t\tif (!this.data.link) {\n\t\t\t\t\tif (this.parts.link) {\n\t\t\t\t\t\tdelete this.parts.link;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.parts.link) {\n\t\t\t\t\t\tthis.parts.link = this.parts.image.getParent();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.parts.image.setAttributes({\n\t\t\t\t\talt: this.data.alt,\n\n\t\t\t\t\tcontenteditable: this.parts.image.getAttribute(\n\t\t\t\t\t\t'contenteditable'\n\t\t\t\t\t)\n\t\t\t\t\t\t? this.parts.image.getAttribute('contenteditable')\n\t\t\t\t\t\t: true,\n\n\t\t\t\t\t// This internal is required by the editor.\n\t\t\t\t\t'data-cke-saved-src': this.data.src,\n\n\t\t\t\t\tsrc: this.data.src,\n\t\t\t\t});\n\n\t\t\t\t// If shifting non-captioned -> captioned, remove classes\n\t\t\t\t// related to styles from <img/>.\n\t\t\t\tif (\n\t\t\t\t\tthis.oldData &&\n\t\t\t\t\t!this.oldData.hasCaption &&\n\t\t\t\t\tthis.data.hasCaption\n\t\t\t\t) {\n\t\t\t\t\tfor (const c in this.data.classes) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n\t\t\t\t\t\t\t\tthis.data.classes,\n\t\t\t\t\t\t\t\tc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.parts.image.removeClass(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set dimensions of the image according to gathered data.\n\t\t\t\t// Do it only when the attributes are allowed (#11004).\n\t\t\t\tif (editor.filter.checkFeature(features.dimension)) {\n\t\t\t\t\tsetDimensions(this);\n\t\t\t\t}\n\n\t\t\t\t// Cache current data.\n\t\t\t\tthis.oldData = CKEDITOR.tools.extend({}, this.data);\n\t\t\t},\n\n\t\t\tdowncast: downcastWidgetElement(editor),\n\n\t\t\tdraggable: false,\n\n\t\t\t// This widget has an editable caption.\n\t\t\teditables: {\n\t\t\t\tcaption: {\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\tallowedContent: 'br em strong sub sup u s; a[!href,target]',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tfeatures: getWidgetFeatures(editor),\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#getClasses\n\t\t\tgetClasses: (function() {\n\t\t\t\tconst classRegex = new RegExp(\n\t\t\t\t\t'^(' +\n\t\t\t\t\t\t[].concat(captionedClass, alignClasses).join('|') +\n\t\t\t\t\t\t')$'\n\t\t\t\t);\n\n\t\t\t\treturn function() {\n\t\t\t\t\tconst classes = this.repository.parseElementClasses(\n\t\t\t\t\t\tgetStyleableElement(this).getAttribute('class')\n\t\t\t\t\t);\n\n\t\t\t\t\t// Neither config.image2_captionedClass nor config.image2_alignClasses\n\t\t\t\t\t// do not belong to style classes.\n\t\t\t\t\tfor (const c in classes) {\n\t\t\t\t\t\tif (classRegex.test(c)) {\n\t\t\t\t\t\t\tdelete classes[c];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn classes;\n\t\t\t\t};\n\t\t\t})(),\n\n\t\t\tgetLabel() {\n\t\t\t\tconst label = (this.data.alt || '') + ' ' + this.pathName;\n\n\t\t\t\treturn label;\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#hasClass\n\t\t\thasClass(className) {\n\t\t\t\treturn getStyleableElement(this).hasClass(className);\n\t\t\t},\n\n\t\t\tparts: {\n\t\t\t\tcaption: 'figcaption',\n\t\t\t\timage: 'img',\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#removeClass\n\t\t\tremoveClass(className) {\n\t\t\t\tgetStyleableElement(this).removeClass(className);\n\t\t\t},\n\n\t\t\trequiredContent: 'img[src,alt]',\n\n\t\t\tstyleableElements: 'img figure',\n\n\t\t\t// Template of the widget: plain image.\n\t\t\ttemplate,\n\n\t\t\tupcast: upcastWidgetElement(editor),\n\t\t};\n\t}\n\n\t/**\n\t * A set of Enhanced Image (image2) plugin helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.image2 = {\n\t\t/**\n\t\t * Checks whether the current image ratio matches the natural one\n\t\t * by comparing dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Boolean}\n\t\t */\n\t\tcheckHasNaturalRatio(image) {\n\t\t\tconst $ = image.$;\n\n\t\t\tconst natural = this.getNatural(image);\n\n\t\t\t// The reason for two alternative comparisons is that the rounding can come from\n\t\t\t// both dimensions, e.g. there are two cases:\n\t\t\t// \t1. height is computed as a rounded relation of the real height and the value of width,\n\t\t\t//\t2. width is computed as a rounded relation of the real width and the value of heigh.\n\t\t\treturn (\n\t\t\t\tMath.round(($.clientWidth / natural.width) * natural.height) ==\n\t\t\t\t\t$.clientHeight ||\n\t\t\t\tMath.round(($.clientHeight / natural.height) * natural.width) ==\n\t\t\t\t\t$.clientWidth\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns natural dimensions of the image. For modern browsers\n\t\t * it uses natural(Width|Height). For old ones (IE8) it creates\n\t\t * a new image and reads the dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Object}\n\t\t */\n\t\tgetNatural(image) {\n\t\t\tlet dimensions;\n\n\t\t\tif (image.$.naturalWidth) {\n\t\t\t\tdimensions = {\n\t\t\t\t\theight: image.$.naturalHeigh,\n\t\t\t\t\twidth: image.$.naturalWidth,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst img = new Image();\n\n\t\t\t\timg.src = image.getAttribute('src');\n\n\t\t\t\tdimensions = {\n\t\t\t\t\theight: img.heigh,\n\t\t\t\t\twidth: img.width,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn dimensions;\n\t\t},\n\t};\n\n\t// Returns a function that creates widgets from all <img> and\n\t// <figure class=\"{config.image2_captionedClass}\"> elements.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction upcastWidgetElement(editor) {\n\t\tconst isCenterWrapper = centerWrapperChecker(editor);\n\n\t\tconst captionedClass = editor.config.image2_captionedClass;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\t// @param {Object} data\n\t\treturn function(el, data) {\n\t\t\tconst dimensions = {\n\t\t\t\theight: 1,\n\t\t\t\twidth: 1,\n\t\t\t};\n\n\t\t\tconst name = el.name;\n\n\t\t\tlet image;\n\n\t\t\t// #11110 Don't initialize on pasted fake objects.\n\t\t\tif (el.attributes['data-cke-realelement']) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a center wrapper is found, there are 3 possible cases:\n\t\t\t//\n\t\t\t// 1. <div style=\"text-align:center\"><figure>...</figure></div>.\n\t\t\t//    In this case centering is done with a class set on widget.wrapper.\n\t\t\t//    Simply replace centering wrapper with figure (it's no longer necessary).\n\t\t\t//\n\t\t\t// 2. <p style=\"text-align:center\"><img/></p>.\n\t\t\t//    Nothing to do here: <p> remains for styling purposes.\n\t\t\t//\n\t\t\t// 3. <div style=\"text-align:center\"><img/></div>.\n\t\t\t//    Nothing to do here (2.) but that case is only possible in enterMode different\n\t\t\t//    than ENTER_P.\n\t\t\tif (isCenterWrapper(el)) {\n\t\t\t\tif (name == 'div') {\n\t\t\t\t\tconst figure = el.getFirst('figure');\n\n\t\t\t\t\t// Case #1.\n\t\t\t\t\tif (figure) {\n\t\t\t\t\t\tel.replaceWith(figure);\n\t\t\t\t\t\tel = figure;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Cases #2 and #3 (handled transparently)\n\n\t\t\t\t// If there's a centering wrapper, save it in data.\n\t\t\t\tdata.align = 'center';\n\n\t\t\t\t// Image can be wrapped in link <a><img/></a>.\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\t\t\t}\n\n\t\t\t// No center wrapper has been found.\n\t\t\telse if (name == 'figure' && el.hasClass(captionedClass)) {\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\n\t\t\t\t// Upcast linked image like <a><img/></a>.\n\t\t\t} else if (isLinkedOrStandaloneImage(el)) {\n\t\t\t\timage = el.name == 'a' ? el.children[0] : el;\n\t\t\t}\n\n\t\t\tif (!image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If there's an image, then cool, we got a widget.\n\t\t\t// Now just remove dimension attributes expressed with %.\n\t\t\tfor (const d in dimensions) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(dimensions, d)) {\n\t\t\t\t\tconst dimension = image.attributes[d];\n\n\t\t\t\t\tif (dimension && dimension.match(regexPercent)) {\n\t\t\t\t\t\tdelete image.attributes[d];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function which transforms the widget to the external format\n\t// according to the current configuration.\n\t//\n\t// @param {CKEDITOR.editor}\n\tfunction downcastWidgetElement(editor) {\n\t\tconst alignClasses = editor.config.image2_alignClasses;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\treturn function(el) {\n\t\t\t// In case of <a><img/></a>, <img/> is the element to hold\n\t\t\t// inline styles or classes (image2_alignClasses).\n\t\t\tconst attrsHolder = el.name == 'a' ? el.getFirst() : el;\n\n\t\t\tdelete attrsHolder.attributes.contenteditable;\n\n\t\t\tconst attrs = attrsHolder.attributes;\n\n\t\t\tconst align = this.data.align;\n\n\t\t\t// De-wrap the image from resize handle wrapper.\n\t\t\t// Only block widgets have one.\n\t\t\tif (!this.inline) {\n\t\t\t\tconst resizeWrapper = el.getFirst('span');\n\n\t\t\t\tif (resizeWrapper) {\n\t\t\t\t\tresizeWrapper.replaceWith(\n\t\t\t\t\t\tresizeWrapper.getFirst({\n\t\t\t\t\t\t\ta: 1,\n\t\t\t\t\t\t\timg: 1,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (align && align != 'none') {\n\t\t\t\tconst styles = CKEDITOR.tools.parseCssText(attrs.style || '');\n\n\t\t\t\t// When the widget is captioned (<figure>) and internally centering is done\n\t\t\t\t// with widget's wrapper style/class, in the external data representation,\n\t\t\t\t// <figure> must be wrapped with an element holding an style/class:\n\t\t\t\t//\n\t\t\t\t// \t<div style=\"text-align:center\">\n\t\t\t\t// \t\t<figure class=\"image\" style=\"display:inline-block\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t// or\n\t\t\t\t// \t<div class=\"some-center-class\">\n\t\t\t\t// \t\t<figure class=\"image\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t//\n\t\t\t\tif (align == 'center' && el.name == 'figure') {\n\t\t\t\t\tel = el.wrapWith(\n\t\t\t\t\t\tnew CKEDITOR.htmlParser.element(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\talignClasses\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tclass: alignClasses[1],\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\tstyle: 'text-align:center',\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// If left/right, add float style to the downcasted element.\n\t\t\t\telse if (\n\t\t\t\t\talign in\n\t\t\t\t\t{\n\t\t\t\t\t\tleft: 1,\n\t\t\t\t\t\tright: 1,\n\t\t\t\t\t}\n\t\t\t\t) {\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tattrsHolder.addClass(\n\t\t\t\t\t\t\talignClasses[alignmentsObj[align]]\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyles['float'] = align;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update element styles.\n\t\t\t\tif (!alignClasses && !CKEDITOR.tools.isEmpty(styles)) {\n\t\t\t\t\tattrs.style = CKEDITOR.tools.writeCssText(styles);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function that checks if an element is a centering wrapper.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction centerWrapperChecker(editor) {\n\t\tconst captionedClass = editor.config.image2_captionedClass;\n\n\t\tconst alignClasses = editor.config.image2_alignClasses;\n\n\t\tconst validChildren = {\n\t\t\ta: 1,\n\t\t\tfigure: 1,\n\t\t\timg: 1,\n\t\t};\n\n\t\treturn function(el) {\n\t\t\t// Wrapper must be either <div> or <p>.\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tel.name in\n\t\t\t\t\t{\n\t\t\t\t\t\tdiv: 1,\n\t\t\t\t\t\tp: 1,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst children = el.children;\n\n\t\t\t// Centering wrapper can have only one child.\n\t\t\tif (children.length !== 1) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst child = children[0];\n\n\t\t\t// Only <figure> or <img /> can be first (only) child of centering wrapper,\n\t\t\t// regardless of its type.\n\t\t\tif (!(child.name in validChildren)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// If centering wrapper is <p>, only <img /> can be the child.\n\t\t\t//   <p style=\"text-align:center\"><img /></p>\n\t\t\tif (el.name == 'p') {\n\t\t\t\tif (!isLinkedOrStandaloneImage(child)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Centering <div> can hold <img/> or <figure>, depending on enterMode.\n\t\t\telse {\n\t\t\t\t// If a <figure> is the first (only) child, it must have a class.\n\t\t\t\t//   <div style=\"text-align:center\"><figure>...</figure><div>\n\t\t\t\tif (child.name == 'figure') {\n\t\t\t\t\tif (!child.hasClass(captionedClass)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Centering <div> can hold <img/> or <a><img/></a> only when enterMode\n\t\t\t\t\t// is ENTER_(BR|DIV).\n\t\t\t\t\t//   <div style=\"text-align:center\"><img /></div>\n\t\t\t\t\t//   <div style=\"text-align:center\"><a><img /></a></div>\n\t\t\t\t\tif (editor.enterMode == CKEDITOR.ENTER_P) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Regardless of enterMode, a child which is not <figure> must be\n\t\t\t\t\t// either <img/> or <a><img/></a>.\n\t\t\t\t\tif (!isLinkedOrStandaloneImage(child)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Centering wrapper got to be... centering. If image2_alignClasses are defined,\n\t\t\t// check for centering class. Otherwise, check the style.\n\t\t\tif (\n\t\t\t\talignClasses\n\t\t\t\t\t? el.hasClass(alignClasses[1])\n\t\t\t\t\t: CKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\tel.attributes.style || '',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t  )['text-align'] == 'center'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t}\n\n\t// Checks whether element is <img/> or <a><img/></a>.\n\t//\n\t// @param {CKEDITOR.htmlParser.element}\n\tfunction isLinkedOrStandaloneImage(el) {\n\t\tif (el.name == 'img') {\n\t\t\treturn true;\n\t\t} else if (el.name == 'a') {\n\t\t\treturn el.children.length == 1 && el.getFirst('img');\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Sets width and height of the widget image according to current widget data.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setDimensions(widget) {\n\t\tconst data = widget.data;\n\n\t\tconst dimensions = {\n\t\t\theight: data.height,\n\t\t\twidth: data.width,\n\t\t};\n\n\t\tconst image = widget.parts.image;\n\n\t\tfor (const d in dimensions) {\n\t\t\tif (dimensions[d]) {\n\t\t\t\timage.setAttribute(d, dimensions[d]);\n\t\t\t} else {\n\t\t\t\timage.removeAttribute(d);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Defines all features related to drag-driven image resizing.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setupResizer(widget) {\n\t\tconst editor = widget.editor;\n\n\t\tconst editable = editor.editable();\n\n\t\tconst doc = editor.document;\n\n\t\t// Store the resizer in a widget for testing (#11004).\n\t\tconst resizer = (widget.resizer = doc.createElement('span'));\n\n\t\tresizer.addClass('cke_image_resizer');\n\t\tresizer.addClass(\n\t\t\t'cke_image_resizer_' + cursor[editor.config.imageScaleResize]\n\t\t);\n\t\tresizer.append(new CKEDITOR.dom.text('\\u200b', doc));\n\n\t\t// Inline widgets don't need a resizer wrapper as an image spans the entire widget.\n\t\tif (!widget.inline) {\n\t\t\tconst imageOrLink = widget.parts.link || widget.parts.image;\n\n\t\t\tconst oldResizeWrapper = imageOrLink.getParent();\n\n\t\t\tconst resizeWrapper = doc.createElement('span');\n\n\t\t\tresizeWrapper.addClass('cke_image_resizer_wrapper');\n\t\t\tresizeWrapper.append(imageOrLink);\n\t\t\tresizeWrapper.append(resizer);\n\t\t\twidget.element.append(resizeWrapper, true);\n\n\t\t\t// Remove the old wrapper which could came from e.g. pasted HTML\n\t\t\t// and which could be corrupted (e.g. resizer span has been lost).\n\t\t\tif (oldResizeWrapper.is('span')) {\n\t\t\t\toldResizeWrapper.remove();\n\t\t\t}\n\t\t} else {\n\t\t\twidget.wrapper.append(resizer);\n\t\t}\n\n\t\t// Calculate values of size variables and mouse offsets.\n\t\tresizer.on('mousedown', evt => {\n\t\t\tconst image = widget.parts.image;\n\n\t\t\t// \"factor\" can be either 1 or -1. I.e.: For right-aligned images, we need to\n\t\t\t// subtract the difference to get proper width, etc. Without \"factor\",\n\t\t\t// resizer starts working the opposite way.\n\t\t\tconst factor = widget.data.align == 'right' ? -1 : 1;\n\n\t\t\t// The x-coordinate of the mouse relative to the screen\n\t\t\t// when button gets pressed.\n\t\t\tconst startX = evt.data.$.screenX;\n\n\t\t\tconst startY = evt.data.$.screenY;\n\n\t\t\t// The initial dimensions and aspect ratio of the image.\n\t\t\tconst startWidth = image.$.clientWidth;\n\n\t\t\tconst startHeight = image.$.clientHeight;\n\n\t\t\tconst listeners = [];\n\n\t\t\t// A class applied to editable during resizing.\n\t\t\tconst cursorClass = 'cke_image_s' + (!~factor ? 'w' : 'e');\n\n\t\t\tlet nativeEvt;\n\t\t\tlet newWidth;\n\t\t\tlet newHeight;\n\t\t\tlet updateData;\n\n\t\t\tlet moveDiffX;\n\t\t\tlet moveDiffY;\n\n\t\t\t// Save the undo snapshot first: before resizing.\n\t\t\teditor.fire('saveSnapshot');\n\n\t\t\t// Mousemove listeners are removed on mouseup.\n\t\t\tattachToDocuments('mousemove', onMouseMove, listeners);\n\n\t\t\t// Clean up the mousemove listener. Update widget data if valid.\n\t\t\tattachToDocuments('mouseup', onMouseUp, listeners);\n\n\t\t\t// The entire editable will have the special cursor while resizing goes on.\n\t\t\teditable.addClass(cursorClass);\n\n\t\t\t// This is to always keep the resizer element visible while resizing.\n\t\t\tresizer.addClass('cke_image_resizing');\n\n\t\t\t// Attaches an event to a global document if inline editor.\n\t\t\t// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.\n\t\t\tfunction attachToDocuments(name, callback, collection) {\n\t\t\t\tconst globalDoc = CKEDITOR.document;\n\n\t\t\t\tconst listeners = [];\n\n\t\t\t\tif (!doc.equals(globalDoc)) {\n\t\t\t\t\tlisteners.push(globalDoc.on(name, callback));\n\t\t\t\t}\n\n\t\t\t\tlisteners.push(doc.on(name, callback));\n\n\t\t\t\tif (collection) {\n\t\t\t\t\tfor (let i = listeners.length; i--; ) {\n\t\t\t\t\t\tcollection.push(listeners.pop());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// This is how variables refer to the geometry.\n\t\t\t// Note: x corresponds to moveOffset, this is the position of mouse\n\t\t\t// Note: o corresponds to [startX, startY].\n\t\t\t//\n\t\t\t// \t+--------------+--------------+\n\t\t\t// \t|              |              |\n\t\t\t// \t|      I       |      II      |\n\t\t\t// \t|              |              |\n\t\t\t// \t+------------- o -------------+ _ _ _\n\t\t\t// \t|              |              |      ^\n\n\t\t\t// \t|      VI      |     III      |      | moveDiffY\n\t\t\t// \t|              |         x _ _ _ _ _ v\n\t\t\t// \t+--------------+---------|----+\n\t\t\t// \t               |         |\n\t\t\t// \t                <------->\n\t\t\t// \t                moveDiffX\n\t\t\tfunction onMouseMove(evt) {\n\t\t\t\tconst imageScaleResize = editor.config.imageScaleResize;\n\n\t\t\t\tnativeEvt = evt.data.$;\n\n\t\t\t\t// This is how far the mouse is from the point the button was pressed.\n\t\t\t\tmoveDiffX = nativeEvt.screenX - startX;\n\t\t\t\tmoveDiffY = startY - nativeEvt.screenY;\n\n\t\t\t\tif (\n\t\t\t\t\timageScaleResize === 'width' ||\n\t\t\t\t\timageScaleResize === 'both' ||\n\t\t\t\t\timageScaleResize === 'scale'\n\t\t\t\t) {\n\t\t\t\t\tnewWidth = startWidth + factor * moveDiffX;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\timageScaleResize === 'height' ||\n\t\t\t\t\timageScaleResize === 'both'\n\t\t\t\t) {\n\t\t\t\t\tnewHeight = startHeight - moveDiffY;\n\t\t\t\t}\n\n\t\t\t\tif (imageScaleResize === 'scale') {\n\t\t\t\t\tnewHeight = 'auto';\n\t\t\t\t}\n\n\t\t\t\tnewWidth = newWidth || startWidth;\n\t\t\t\tnewHeight = newHeight || startHeight;\n\n\t\t\t\t// Don't update attributes if less than 10.\n\t\t\t\t// This is to prevent images to visually disappear.\n\t\t\t\tif (\n\t\t\t\t\tnewWidth >= 15 &&\n\t\t\t\t\t(newHeight >= 15 || newHeight === 'auto')\n\t\t\t\t) {\n\t\t\t\t\timage.$.style.width = newWidth + 'px';\n\t\t\t\t\timage.$.style.height = newHeight + 'px';\n\n\t\t\t\t\tupdateData = true;\n\t\t\t\t} else {\n\t\t\t\t\tupdateData = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onMouseUp() {\n\t\t\t\tlet l;\n\n\t\t\t\twhile ((l = listeners.pop())) {\n\t\t\t\t\tl.removeListener();\n\t\t\t\t}\n\n\t\t\t\t// Restore default cursor by removing special class.\n\t\t\t\teditable.removeClass(cursorClass);\n\n\t\t\t\t// This is to bring back the regular behaviour of the resizer.\n\t\t\t\tresizer.removeClass('cke_image_resizing');\n\n\t\t\t\tif (updateData) {\n\t\t\t\t\twidget.setData({\n\t\t\t\t\t\theight: newHeight,\n\t\t\t\t\t\twidth: newWidth,\n\t\t\t\t\t});\n\n\t\t\t\t\t// Save another undo snapshot: after resizing.\n\t\t\t\t\teditor.fire('saveSnapshot');\n\t\t\t\t}\n\n\t\t\t\t// Don't update data twice or more.\n\t\t\t\tupdateData = false;\n\t\t\t}\n\t\t});\n\n\t\t// Change the position of the widget resizer when data changes.\n\t\twidget.on('data', () => {\n\t\t\tresizer[widget.data.align == 'right' ? 'addClass' : 'removeClass'](\n\t\t\t\t'cke_image_resizer_left'\n\t\t\t);\n\t\t});\n\n\t\twidget.parts.image.on('click', () => {\n\t\t\tconst selection = editor.getSelection();\n\n\t\t\tif (selection) {\n\t\t\t\tconst element = selection.getStartElement();\n\n\t\t\t\tif (element) {\n\t\t\t\t\tconst widgetElement = element.findOne('img');\n\n\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\tconst region = element.getClientRect();\n\n\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\tnativeEvent: event,\n\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\tregion,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Returns a set of widget allowedContent rules, depending\n\t// on configurations like config#image2_alignClasses or\n\t// config#image2_captionedClass.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetAllowedContent(editor) {\n\t\tconst rules = {\n\t\t\tfigcaption: true,\n\t\t\tfigure: {\n\t\t\t\tclasses: '!' + editor.config.image2_captionedClass,\n\t\t\t},\n\t\t\timg: {\n\t\t\t\tattributes: '!src,alt,width,height',\n\t\t\t},\n\t\t};\n\n\t\treturn rules;\n\t}\n\n\t// Returns a set of widget feature rules, depending\n\t// on editor configuration. Note that the following may not cover\n\t// all the possible cases since requiredContent supports a single\n\t// tag only.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetFeatures(editor) {\n\t\tconst alignClasses = editor.config.image2_alignClasses;\n\n\t\tconst features = {\n\t\t\talign: {\n\t\t\t\trequiredContent:\n\t\t\t\t\t'img' +\n\t\t\t\t\t(alignClasses ? '(' + alignClasses[0] + ')' : '{float}'),\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\trequiredContent: 'figcaption',\n\t\t\t},\n\t\t\tdimension: {\n\t\t\t\trequiredContent: 'img[width,height]',\n\t\t\t},\n\t\t};\n\n\t\treturn features;\n\t}\n\n\t// Returns element which is styled, considering current\n\t// state of the widget.\n\t//\n\t// @see CKEDITOR.plugins.widget#applyStyle\n\t// @param {CKEDITOR.plugins.widget} widget\n\t// @returns {CKEDITOR.dom.element}\n\tfunction getStyleableElement(widget) {\n\t\treturn widget.data.hasCaption ? widget.element : widget.parts.image;\n\t}\n}\n\nCKEDITOR.config.image2_captionedClass = 'image';\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n(function() {\n\tif (CKEDITOR.plugins.get('ae_dragresize_ie11')) {\n\t\treturn;\n\t}\n\n\tconst template = '<img alt=\"\" src=\"\" />';\n\n\tconst templateBlock = new CKEDITOR.template(\n\t\t'<figure class=\"{captionedClass}\">' +\n\t\t\ttemplate +\n\t\t\t'<figcaption>{captionPlaceholder}</figcaption>' +\n\t\t\t'</figure>'\n\t);\n\n\tconst alignmentsObj = {left: 0, center: 1, right: 2};\n\n\tconst regexPercent = /^\\s*(\\d+%)\\s*$/i;\n\n\tCKEDITOR.plugins.add('ae_dragresize_ie11', {\n\t\trequires: 'widget',\n\t\tonLoad() {\n\t\t\tCKEDITOR.addCss(\n\t\t\t\t'.cke_image_nocaption{' +\n\t\t\t\t\t// This is to remove unwanted space so resize\n\t\t\t\t\t// wrapper is displayed property.\n\t\t\t\t\t'line-height:0' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_editable.cke_image_ne, .cke_editable.cke_image_ne *{cursor:ne-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_nw, .cke_editable.cke_image_nw *{cursor:nw-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_sw, .cke_editable.cke_image_sw *{cursor:sw-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_se, .cke_editable.cke_image_se *{cursor:se-resize !important}' +\n\t\t\t\t\t'.cke_image_resizer{' +\n\t\t\t\t\t'display:none;' +\n\t\t\t\t\t'position:absolute;' +\n\t\t\t\t\t'width:10px;' +\n\t\t\t\t\t'height:10px;' +\n\t\t\t\t\t'background:#000;' +\n\t\t\t\t\t'outline:1px solid #fff;' +\n\t\t\t\t\t// Prevent drag handler from being misplaced (#11207).\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'cursor:se-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_wrapper{' +\n\t\t\t\t\t'position:relative;' +\n\t\t\t\t\t'display:inline-block;' +\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Top-right corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_ne{' +\n\t\t\t\t\t'cursor:ne-resize;' +\n\t\t\t\t\t'left:auto;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'top:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Top-left corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_nw{' +\n\t\t\t\t\t'cursor:nw-resize;' +\n\t\t\t\t\t'left:-5px;' +\n\t\t\t\t\t'right:auto;' +\n\t\t\t\t\t'top:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Bottom-right corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_se{' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'cursor:se-resize;' +\n\t\t\t\t\t'left:auto;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Bottom-left corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_sw{' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'cursor:sw-resize;' +\n\t\t\t\t\t'left:-5px;' +\n\t\t\t\t\t'right:auto;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_widget_wrapper:hover .cke_image_resizer,' +\n\t\t\t\t\t'.cke_image_resizing>.cke_image_resizer{' +\n\t\t\t\t\t'display:block' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Expand widget wrapper when linked inline image.\n\t\t\t\t\t'.cke_widget_wrapper>a{' +\n\t\t\t\t\t'display:inline-block' +\n\t\t\t\t\t'}'\n\t\t\t);\n\t\t},\n\n\t\tinit(editor) {\n\t\t\t// Adapts configuration from original image plugin. Should be removed\n\t\t\t// when we'll rename ae_dragresize_ie11 to image.\n\n\t\t\tconst image = widgetDef(editor);\n\n\t\t\t// Register the widget.\n\t\t\teditor.widgets.add('image', image);\n\n\t\t\t// Add a listener to handle selection change events and properly detect editor\n\t\t\t// interactions on the widgets without messing with widget native selection\n\t\t\teditor.on('selectionChange', _event => {\n\t\t\t\tconst selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tconst element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tconst widgetElement = element.findOne('img');\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tconst region = element.getClientRect();\n\n\t\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tafterInit(editor) {\n\t\t\t// Integrate with align commands (justify plugin).\n\t\t\tconst align = {left: 1, right: 1, center: 1, block: 1};\n\n\t\t\tconst integrate = alignCommandIntegrator(editor);\n\n\t\t\tfor (const value in align) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(align, value)) {\n\t\t\t\t\tintegrate(value);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n\n\t// Widget states (forms) depending on alignment and configuration.\n\t//\n\t// Non-captioned widget (inline styles)\n\t// \t\t┌──────┬───────────────────────────────┬─────────────────────────────┐\n\t// \t\t│Align │Internal form                  │Data                         │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│none  │<wrapper>                      │<img />                      │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│left  │<wrapper style=”float:left”>   │<img style=”float:left” />   │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│center│<wrapper>                      │<p style=”text-align:center”>│\n\t// \t\t│      │ <p style=”text-align:center”> │  <img />                    │\n\t// \t\t│      │   <img />                     │</p>                         │\n\t// \t\t│      │ </p>                          │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│right │<wrapper style=”float:right”>  │<img style=”float:right” />  │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t└──────┴───────────────────────────────┴─────────────────────────────┘\n\t//\n\t// Non-captioned widget (config.ae_dragresize_ie11_alignClasses defined)\n\t// \t\t┌──────┬───────────────────────────────┬─────────────────────────────┐\n\t// \t\t│Align │Internal form                  │Data                         │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│none  │<wrapper>                      │<img />                      │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│left  │<wrapper class=”left”>         │<img class=”left” />         │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│center│<wrapper>                      │<p class=”center”>           │\n\t// \t\t│      │ <p class=”center”>            │ <img />                     │\n\t// \t\t│      │   <img />                     │</p>                         │\n\t// \t\t│      │ </p>                          │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│right │<wrapper class=”right”>        │<img class=”right” />        │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t└──────┴───────────────────────────────┴─────────────────────────────┘\n\t//\n\t// Captioned widget (inline styles)\n\t// \t\t┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐\n\t// \t\t│Align │Internal form                           │Data                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│none  │<wrapper>                               │<figure />                              │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│left  │<wrapper style=”float:left”>            │<figure style=”float:left” />           │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│center│<wrapper style=”text-align:center”>     │<div style=”text-align:center”>         │\n\t// \t\t│      │ <figure style=”display:inline-block” />│ <figure style=”display:inline-block” />│\n\t// \t\t│      │</wrapper>                              │</p>                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│right │<wrapper style=”float:right”>           │<figure style=”float:right” />          │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t└──────┴────────────────────────────────────────┴────────────────────────────────────────┘\n\t//\n\t// Captioned widget (config.ae_dragresize_ie11_alignClasses defined)\n\t// \t\t┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐\n\t// \t\t│Align │Internal form                           │Data                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│none  │<wrapper>                               │<figure />                              │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│left  │<wrapper class=”left”>                  │<figure class=”left” />                 │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│center│<wrapper class=”center”>                │<div class=”center”>                    │\n\t// \t\t│      │ <figure />                             │ <figure />                             │\n\t// \t\t│      │</wrapper>                              │</p>                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│right │<wrapper class=”right”>                 │<figure class=”right” />                │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t└──────┴────────────────────────────────────────┴────────────────────────────────────────┘\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction widgetDef(editor) {\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tconst captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\tfunction deflate() {\n\t\t\tif (this.deflated) return;\n\n\t\t\t// Remember whether widget was focused before destroyed.\n\t\t\tif (editor.widgets.focused == this.widget) this.focused = true;\n\n\t\t\teditor.widgets.destroy(this.widget);\n\n\t\t\t// Mark widget was destroyed.\n\t\t\tthis.deflated = true;\n\t\t}\n\n\t\tfunction inflate() {\n\t\t\tconst editable = editor.editable();\n\n\t\t\tconst doc = editor.document;\n\n\t\t\t// Create a new widget. This widget will be either captioned\n\t\t\t// non-captioned, block or inline according to what is the\n\t\t\t// new state of the widget.\n\t\t\tif (this.deflated) {\n\t\t\t\tthis.widget = editor.widgets.initOn(\n\t\t\t\t\tthis.element,\n\t\t\t\t\t'image',\n\t\t\t\t\tthis.widget.data\n\t\t\t\t);\n\n\t\t\t\t// Once widget was re-created, it may become an inline element without\n\t\t\t\t// block wrapper (i.e. when unaligned, end not captioned). Let's do some\n\t\t\t\t// sort of autoparagraphing here (#10853).\n\t\t\t\tif (\n\t\t\t\t\tthis.widget.inline &&\n\t\t\t\t\t!new CKEDITOR.dom.elementPath(this.widget.wrapper, editable)\n\t\t\t\t\t\t.block\n\t\t\t\t) {\n\t\t\t\t\tconst block = doc.createElement(\n\t\t\t\t\t\teditor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div'\n\t\t\t\t\t);\n\t\t\t\t\tblock.replace(this.widget.wrapper);\n\t\t\t\t\tthis.widget.wrapper.move(block);\n\t\t\t\t}\n\n\t\t\t\t// The focus must be transferred from the old one (destroyed)\n\t\t\t\t// to the new one (just created).\n\t\t\t\tif (this.focused) {\n\t\t\t\t\tthis.widget.focus();\n\t\t\t\t\tdelete this.focused;\n\t\t\t\t}\n\n\t\t\t\tdelete this.deflated;\n\t\t\t}\n\n\t\t\t// If now widget was destroyed just update wrapper's alignment.\n\t\t\t// According to the new state.\n\t\t\telse {\n\t\t\t\tsetWrapperAlign(this.widget, alignClasses);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tallowedContent: getWidgetAllowedContent(editor),\n\n\t\t\trequiredContent: 'img[src,alt]',\n\n\t\t\tfeatures: getWidgetFeatures(editor),\n\n\t\t\tstyleableElements: 'img figure',\n\n\t\t\t// This widget converts style-driven dimensions to attributes.\n\t\t\tcontentTransformations: [['img[width]: sizeToAttribute']],\n\n\t\t\t// This widget has an editable caption.\n\t\t\teditables: {\n\t\t\t\tcaption: {\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\tallowedContent: 'br em strong sub sup u s; a[!href,target]',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tparts: {\n\t\t\t\timage: 'img',\n\t\t\t\tcaption: 'figcaption',\n\t\t\t\t// parts#link defined in widget#init\n\t\t\t},\n\n\t\t\t// Template of the widget: plain image.\n\t\t\ttemplate,\n\n\t\t\tdata() {\n\t\t\t\tconst features = this.features;\n\n\t\t\t\t// Image can't be captioned when figcaption is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.hasCaption &&\n\t\t\t\t\t!editor.filter.checkFeature(features.caption)\n\t\t\t\t)\n\t\t\t\t\tthis.data.hasCaption = false;\n\n\t\t\t\t// Image can't be aligned when floating is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.align != 'none' &&\n\t\t\t\t\t!editor.filter.checkFeature(features.align)\n\t\t\t\t)\n\t\t\t\t\tthis.data.align = 'none';\n\n\t\t\t\t// Convert the internal form of the widget from the old state to the new one.\n\t\t\t\tthis.shiftState({\n\t\t\t\t\twidget: this,\n\t\t\t\t\telement: this.element,\n\t\t\t\t\toldData: this.oldData,\n\t\t\t\t\tnewData: this.data,\n\t\t\t\t\tdeflate,\n\t\t\t\t\tinflate,\n\t\t\t\t});\n\n\t\t\t\t// Update widget.parts.link since it will not auto-update unless widget\n\t\t\t\t// is destroyed and re-inited.\n\t\t\t\tif (!this.data.link) {\n\t\t\t\t\tif (this.parts.link) delete this.parts.link;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.parts.link)\n\t\t\t\t\t\tthis.parts.link = this.parts.image.getParent();\n\t\t\t\t}\n\n\t\t\t\tthis.parts.image.setAttributes({\n\t\t\t\t\tsrc: this.data.src,\n\n\t\t\t\t\t// This internal is required by the editor.\n\t\t\t\t\t'data-cke-saved-src': this.data.src,\n\n\t\t\t\t\talt: this.data.alt,\n\t\t\t\t});\n\n\t\t\t\t// If shifting non-captioned -> captioned, remove classes\n\t\t\t\t// related to styles from <img/>.\n\t\t\t\tif (\n\t\t\t\t\tthis.oldData &&\n\t\t\t\t\t!this.oldData.hasCaption &&\n\t\t\t\t\tthis.data.hasCaption\n\t\t\t\t) {\n\t\t\t\t\tfor (const c in this.data.classes) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n\t\t\t\t\t\t\t\tthis.data.classes,\n\t\t\t\t\t\t\t\tc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.parts.image.removeClass(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set dimensions of the image according to gathered data.\n\t\t\t\t// Do it only when the attributes are allowed (#11004).\n\t\t\t\tif (editor.filter.checkFeature(features.dimension))\n\t\t\t\t\tsetDimensions(this);\n\n\t\t\t\t// Cache current data.\n\t\t\t\tthis.oldData = CKEDITOR.tools.extend({}, this.data);\n\t\t\t},\n\n\t\t\tinit() {\n\t\t\t\tconst helpers = CKEDITOR.plugins.ae_dragresize_ie11;\n\n\t\t\t\tconst image = this.parts.image;\n\n\t\t\t\tconst data = {\n\t\t\t\t\thasCaption: !!this.parts.caption,\n\t\t\t\t\tsrc: image.getAttribute('src'),\n\t\t\t\t\talt: image.getAttribute('alt') || '',\n\t\t\t\t\twidth: image.getAttribute('width') || '',\n\t\t\t\t\theight: image.getAttribute('height') || '',\n\n\t\t\t\t\t// Lock ratio is on by default (#10833).\n\t\t\t\t\tlock: this.ready\n\t\t\t\t\t\t? helpers.checkHasNaturalRatio(image)\n\t\t\t\t\t\t: true,\n\t\t\t\t};\n\n\t\t\t\t// If we used 'a' in widget#parts definition, it could happen that\n\t\t\t\t// selected element is a child of widget.parts#caption. Since there's no clever\n\t\t\t\t// way to solve it with CSS selectors, it's done like that. (#11783).\n\t\t\t\tconst link = image.getAscendant('a');\n\n\t\t\t\tif (link && this.wrapper.contains(link)) this.parts.link = link;\n\n\t\t\t\t// Depending on configuration, read style/class from element and\n\t\t\t\t// then remove it. Removed style/class will be set on wrapper in #data listener.\n\t\t\t\t// Note: Center alignment is detected during upcast, so only left/right cases\n\t\t\t\t// are checked below.\n\t\t\t\tif (!data.align) {\n\t\t\t\t\tconst alignElement = data.hasCaption ? this.element : image;\n\n\t\t\t\t\t// Read the initial left/right alignment from the class set on element.\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tif (alignElement.hasClass(alignClasses[0])) {\n\t\t\t\t\t\t\tdata.align = 'left';\n\t\t\t\t\t\t} else if (alignElement.hasClass(alignClasses[2])) {\n\t\t\t\t\t\t\tdata.align = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.align) {\n\t\t\t\t\t\t\talignElement.removeClass(\n\t\t\t\t\t\t\t\talignClasses[alignmentsObj[data.align]]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.align = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Read initial float style from figure/image and then remove it.\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.align = alignElement.getStyle('float') || 'none';\n\t\t\t\t\t\talignElement.removeStyle('float');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update data.link object with attributes if the link has been discovered.\n\t\t\t\tif (editor.plugins.link && this.parts.link) {\n\t\t\t\t\tdata.link = helpers.getLinkAttributesParser()(\n\t\t\t\t\t\teditor,\n\t\t\t\t\t\tthis.parts.link\n\t\t\t\t\t);\n\n\t\t\t\t\t// Get rid of cke_widget_* classes in data. Otherwise\n\t\t\t\t\t// they might appear in link dialog.\n\t\t\t\t\tconst advanced = data.link.advanced;\n\t\t\t\t\tif (advanced && advanced.advCSSClasses) {\n\t\t\t\t\t\tadvanced.advCSSClasses = CKEDITOR.tools.trim(\n\t\t\t\t\t\t\tadvanced.advCSSClasses.replace(/cke_\\S+/, '')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get rid of extra vertical space when there's no caption.\n\t\t\t\t// It will improve the look of the resizer.\n\t\t\t\tthis.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class'](\n\t\t\t\t\t'cke_image_nocaption'\n\t\t\t\t);\n\n\t\t\t\tthis.setData(data);\n\n\t\t\t\t// Setup dynamic image resizing with mouse.\n\t\t\t\t// Don't initialize resizer when dimensions are disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\teditor.filter.checkFeature(this.features.dimension) &&\n\t\t\t\t\teditor.config.ae_dragresize_ie11_disableResizer !== true\n\t\t\t\t)\n\t\t\t\t\tsetupResizer(this);\n\n\t\t\t\tconst dragHandlerStyle = this.dragHandlerContainer.$.style;\n\t\t\t\tdragHandlerStyle.setAttribute(\n\t\t\t\t\t'backgroundColor',\n\t\t\t\t\t'rgba(255, 255, 255, 1'\n\t\t\t\t);\n\t\t\t\tdragHandlerStyle.setAttribute('opacity', '1');\n\n\t\t\t\tthis.shiftState = helpers.stateShifter(this.editor);\n\n\t\t\t\t// Add widget editing option to its context menu.\n\t\t\t\tthis.on('contextMenu', function(evt) {\n\t\t\t\t\tevt.data.image = CKEDITOR.TRISTATE_OFF;\n\n\t\t\t\t\t// Integrate context menu items for link.\n\t\t\t\t\t// Note that widget may be wrapped in a link, which\n\t\t\t\t\t// does not belong to that widget (#11814).\n\t\t\t\t\tif (this.parts.link || this.wrapper.getAscendant('a'))\n\t\t\t\t\t\tevt.data.link = evt.data.unlink = CKEDITOR.TRISTATE_OFF;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#addClass\n\t\t\taddClass(className) {\n\t\t\t\tgetStyleableElement(this).addClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#hasClass\n\t\t\thasClass(className) {\n\t\t\t\treturn getStyleableElement(this).hasClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#removeClass\n\t\t\tremoveClass(className) {\n\t\t\t\tgetStyleableElement(this).removeClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#getClasses\n\t\t\tgetClasses: (function() {\n\t\t\t\tconst classRegex = new RegExp(\n\t\t\t\t\t'^(' +\n\t\t\t\t\t\t[].concat(captionedClass, alignClasses).join('|') +\n\t\t\t\t\t\t')$'\n\t\t\t\t);\n\n\t\t\t\treturn function() {\n\t\t\t\t\tconst classes = this.repository.parseElementClasses(\n\t\t\t\t\t\tgetStyleableElement(this).getAttribute('class')\n\t\t\t\t\t);\n\n\t\t\t\t\t// Neither config.ae_dragresize_ie11_captionedClass nor config.ae_dragresize_ie11_alignClasses\n\t\t\t\t\t// do not belong to style classes.\n\t\t\t\t\tfor (const c in classes) {\n\t\t\t\t\t\tif (classRegex.test(c)) delete classes[c];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn classes;\n\t\t\t\t};\n\t\t\t})(),\n\n\t\t\tupcast: upcastWidgetElement(editor),\n\t\t\tdowncast: downcastWidgetElement(editor),\n\n\t\t\tgetLabel() {\n\t\t\t\tconst label = (this.data.alt || '') + ' ' + this.pathName;\n\n\t\t\t\treturn this.editor.lang.widget.label.replace(/%1/, label);\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * A set of Enhanced Image (ae_dragresize_ie11) plugin helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.ae_dragresize_ie11 = {\n\t\tstateShifter(editor) {\n\t\t\t// Tag name used for centering non-captioned widgets.\n\t\t\tconst doc = editor.document;\n\n\t\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\t\tconst captionedClass =\n\t\t\t\teditor.config.ae_dragresize_ie11_captionedClass;\n\n\t\t\tconst editable = editor.editable();\n\n\t\t\t// The order that stateActions get executed. It matters!\n\n\t\t\tconst shiftables = ['hasCaption', 'align', 'link'];\n\n\t\t\t// Atomic procedures, one per state variable.\n\t\t\tconst stateActions = {\n\t\t\t\talign(shift, oldValue, newValue) {\n\t\t\t\t\tconst el = shift.element;\n\n\t\t\t\t\t// Alignment changed.\n\t\t\t\t\tif (\n\t\t\t\t\t\tshift.changed.align ||\n\t\t\t\t\t\t(el.$.style.marginLeft === 'auto' &&\n\t\t\t\t\t\t\tel.$.style.marginRight === 'auto')\n\t\t\t\t\t) {\n\t\t\t\t\t\t// No caption in the new state.\n\t\t\t\t\t\tif (!shift.newData.hasCaption) {\n\t\t\t\t\t\t\t// Changed to \"center\" (non-captioned).\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tnewValue == 'center' ||\n\t\t\t\t\t\t\t\t(el.$.style.marginLeft === 'auto' &&\n\t\t\t\t\t\t\t\t\tel.$.style.marginRight === 'auto')\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\t\t\tshift.element = wrapInCentering(editor, el);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Changed to \"non-center\" from \"center\" while caption removed.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!shift.changed.hasCaption &&\n\t\t\t\t\t\t\t\toldValue == 'center' &&\n\t\t\t\t\t\t\t\tnewValue != 'center'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\t\t\tshift.element = unwrapFromCentering(el);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Alignment remains and \"center\" removed caption.\n\t\t\t\t\telse if (\n\t\t\t\t\t\tnewValue == 'center' &&\n\t\t\t\t\t\tshift.changed.hasCaption &&\n\t\t\t\t\t\t!shift.newData.hasCaption\n\t\t\t\t\t) {\n\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\tshift.element = wrapInCentering(editor, el);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Finally set display for figure.\n\t\t\t\t\tif (!alignClasses && el.is('figure')) {\n\t\t\t\t\t\tif (newValue == 'center')\n\t\t\t\t\t\t\tel.setStyle('display', 'inline-block');\n\t\t\t\t\t\telse el.removeStyle('display');\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\thasCaption(shift, oldValue, newValue) {\n\t\t\t\t\t// This action is for real state change only.\n\t\t\t\t\tif (!shift.changed.hasCaption) return;\n\n\t\t\t\t\t// Get <img/> or <a><img/></a> from widget. Note that widget element might itself\n\t\t\t\t\t// be what we're looking for. Also element can be <p style=\"text-align:center\"><a>...</a></p>.\n\t\t\t\t\tlet imageOrLink;\n\t\t\t\t\tif (shift.element.is({img: 1, a: 1}))\n\t\t\t\t\t\timageOrLink = shift.element;\n\t\t\t\t\telse imageOrLink = shift.element.findOne('a,img');\n\n\t\t\t\t\t// Switching hasCaption always destroys the widget.\n\t\t\t\t\tshift.deflate();\n\n\t\t\t\t\t// There was no caption, but the caption is to be added.\n\t\t\t\t\tif (newValue) {\n\t\t\t\t\t\t// Create new <figure> from widget template.\n\t\t\t\t\t\tconst figure = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t\t\ttemplateBlock.output({\n\t\t\t\t\t\t\t\tcaptionedClass,\n\t\t\t\t\t\t\t\tcaptionPlaceholder:\n\t\t\t\t\t\t\t\t\teditor.lang.ae_dragresize_ie11\n\t\t\t\t\t\t\t\t\t\t.captionPlaceholder,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tdoc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Replace element with <figure>.\n\t\t\t\t\t\treplaceSafely(figure, shift.element);\n\n\t\t\t\t\t\t// Use old <img/> or <a><img/></a> instead of the one from the template,\n\t\t\t\t\t\t// so we won't lose additional attributes.\n\t\t\t\t\t\timageOrLink.replace(figure.findOne('img'));\n\n\t\t\t\t\t\t// Update widget's element.\n\t\t\t\t\t\tshift.element = figure;\n\t\t\t\t\t}\n\n\t\t\t\t\t// The caption was present, but now it's to be removed.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Unwrap <img/> or <a><img/></a> from figure.\n\t\t\t\t\t\timageOrLink.replace(shift.element);\n\n\t\t\t\t\t\t// Update widget's element.\n\t\t\t\t\t\tshift.element = imageOrLink;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tlink(shift, oldValue, newValue) {\n\t\t\t\t\tif (shift.changed.link) {\n\t\t\t\t\t\tconst img = shift.element.is('img')\n\t\t\t\t\t\t\t? shift.element\n\t\t\t\t\t\t\t: shift.element.findOne('img');\n\n\t\t\t\t\t\tconst link = shift.element.is('a')\n\t\t\t\t\t\t\t? shift.element\n\t\t\t\t\t\t\t: shift.element.findOne('a');\n\n\t\t\t\t\t\t// Why deflate:\n\t\t\t\t\t\t// If element is <img/>, it will be wrapped into <a>,\n\t\t\t\t\t\t// which becomes a new widget.element.\n\t\t\t\t\t\t// If element is <a><img/></a>, it will be unlinked\n\t\t\t\t\t\t// so <img/> becomes a new widget.element.\n\n\t\t\t\t\t\tconst needsDeflate =\n\t\t\t\t\t\t\t(shift.element.is('a') && !newValue) ||\n\t\t\t\t\t\t\t(shift.element.is('img') && newValue);\n\n\t\t\t\t\t\tlet newEl;\n\n\t\t\t\t\t\tif (needsDeflate) shift.deflate();\n\n\t\t\t\t\t\t// If unlinked the image, returned element is <img>.\n\t\t\t\t\t\tif (!newValue) newEl = unwrapFromLink(link);\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// If linked the image, returned element is <a>.\n\t\t\t\t\t\t\tif (!oldValue)\n\t\t\t\t\t\t\t\tnewEl = wrapInLink(img, shift.newData.link);\n\n\t\t\t\t\t\t\t// Set and remove all attributes associated with this state.\n\t\t\t\t\t\t\tconst attributes = CKEDITOR.plugins.ae_dragresize_ie11.getLinkAttributesGetter()(\n\t\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\t\tnewValue\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (!CKEDITOR.tools.isEmpty(attributes.set))\n\t\t\t\t\t\t\t\t(newEl || link).setAttributes(attributes.set);\n\n\t\t\t\t\t\t\tif (attributes.removed.length)\n\t\t\t\t\t\t\t\t(newEl || link).removeAttributes(\n\t\t\t\t\t\t\t\t\tattributes.removed\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (needsDeflate) shift.element = newEl;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tfunction wrapInCentering(editor, element) {\n\t\t\t\tconst attribsAndStyles = {};\n\n\t\t\t\tif (alignClasses)\n\t\t\t\t\tattribsAndStyles.attributes = {class: alignClasses[1]};\n\t\t\t\telse attribsAndStyles.styles = {'text-align': 'center'};\n\n\t\t\t\t// There's no gentle way to center inline element with CSS, so create p/div\n\t\t\t\t// that wraps widget contents and does the trick either with style or class.\n\t\t\t\tconst center = doc.createElement(\n\t\t\t\t\teditor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div',\n\t\t\t\t\tattribsAndStyles\n\t\t\t\t);\n\n\t\t\t\t// Replace element with centering wrapper.\n\t\t\t\treplaceSafely(center, element);\n\t\t\t\telement.move(center);\n\n\t\t\t\treturn center;\n\t\t\t}\n\n\t\t\tfunction unwrapFromCentering(element) {\n\t\t\t\tconst imageOrLink = element.findOne('a,img');\n\n\t\t\t\timageOrLink.replace(element);\n\n\t\t\t\treturn imageOrLink;\n\t\t\t}\n\n\t\t\t// Wraps <img/> -> <a><img/></a>.\n\t\t\t// Returns reference to <a>.\n\t\t\t//\n\t\t\t// @param {CKEDITOR.dom.element} img\n\t\t\t// @param {Object} linkData\n\t\t\t// @returns {CKEDITOR.dom.element}\n\t\t\tfunction wrapInLink(img, linkData) {\n\t\t\t\tconst link = doc.createElement('a', {\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\thref: linkData.url,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tlink.replace(img);\n\t\t\t\timg.move(link);\n\n\t\t\t\treturn link;\n\t\t\t}\n\n\t\t\t// De-wraps <a><img/></a> -> <img/>.\n\t\t\t// Returns the reference to <img/>\n\t\t\t//\n\t\t\t// @param {CKEDITOR.dom.element} link\n\t\t\t// @returns {CKEDITOR.dom.element}\n\t\t\tfunction unwrapFromLink(link) {\n\t\t\t\tconst img = link.findOne('img');\n\n\t\t\t\timg.replace(link);\n\n\t\t\t\treturn img;\n\t\t\t}\n\n\t\t\tfunction replaceSafely(replacing, replaced) {\n\t\t\t\tif (replaced.getParent()) {\n\t\t\t\t\tconst range = editor.createRange();\n\n\t\t\t\t\trange.moveToPosition(\n\t\t\t\t\t\treplaced,\n\t\t\t\t\t\tCKEDITOR.POSITION_BEFORE_START\n\t\t\t\t\t);\n\n\t\t\t\t\t// Remove old element. Do it before insertion to avoid a case when\n\t\t\t\t\t// element is moved from 'replaced' element before it, what creates\n\t\t\t\t\t// a tricky case which insertElementIntorRange does not handle.\n\t\t\t\t\treplaced.remove();\n\n\t\t\t\t\teditable.insertElementIntoRange(replacing, range);\n\t\t\t\t} else {\n\t\t\t\t\treplacing.replace(replaced);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn function(shift) {\n\t\t\t\tlet name;\n\t\t\t\tlet i;\n\n\t\t\t\tshift.changed = {};\n\n\t\t\t\tfor (i = 0; i < shiftables.length; i++) {\n\t\t\t\t\tname = shiftables[i];\n\n\t\t\t\t\tshift.changed[name] = shift.oldData\n\t\t\t\t\t\t? shift.oldData[name] !== shift.newData[name]\n\t\t\t\t\t\t: false;\n\t\t\t\t}\n\n\t\t\t\t// Iterate over possible state variables.\n\t\t\t\tfor (i = 0; i < shiftables.length; i++) {\n\t\t\t\t\tname = shiftables[i];\n\n\t\t\t\t\tstateActions[name](\n\t\t\t\t\t\tshift,\n\t\t\t\t\t\tshift.oldData ? shift.oldData[name] : null,\n\t\t\t\t\t\tshift.newData[name]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tshift.inflate();\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Checks whether the current image ratio matches the natural one\n\t\t * by comparing dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Boolean}\n\t\t */\n\t\tcheckHasNaturalRatio(image) {\n\t\t\tconst $ = image.$;\n\n\t\t\tconst natural = this.getNatural(image);\n\n\t\t\t// The reason for two alternative comparisons is that the rounding can come from\n\t\t\t// both dimensions, e.g. there are two cases:\n\t\t\t// \t1. height is computed as a rounded relation of the real height and the value of width,\n\t\t\t//\t2. width is computed as a rounded relation of the real width and the value of heigh.\n\t\t\treturn (\n\t\t\t\tMath.round(($.clientWidth / natural.width) * natural.height) ==\n\t\t\t\t\t$.clientHeight ||\n\t\t\t\tMath.round(($.clientHeight / natural.height) * natural.width) ==\n\t\t\t\t\t$.clientWidth\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns natural dimensions of the image. For modern browsers\n\t\t * it uses natural(Width|Height). For old ones (IE8) it creates\n\t\t * a new image and reads the dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Object}\n\t\t */\n\t\tgetNatural(image) {\n\t\t\tlet dimensions;\n\n\t\t\tif (image.$.naturalWidth) {\n\t\t\t\tdimensions = {\n\t\t\t\t\twidth: image.$.naturalWidth,\n\t\t\t\t\theight: image.$.naturalHeight,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst img = new Image();\n\t\t\t\timg.src = image.getAttribute('src');\n\n\t\t\t\tdimensions = {\n\t\t\t\t\twidth: img.width,\n\t\t\t\t\theight: img.height,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn dimensions;\n\t\t},\n\n\t\t/**\n\t\t * Returns an attribute getter function. Default getter comes from the Link plugin\n\t\t * and is documented by {@link CKEDITOR.plugins.link#getLinkAttributes}.\n\t\t *\n\t\t * **Note:** It is possible to override this method and use a custom getter e.g.\n\t\t * in the absence of the Link plugin.\n\t\t *\n\t\t * **Note:** If a custom getter is used, a data model format it produces\n\t\t * must be compatible with {@link CKEDITOR.plugins.link#getLinkAttributes}.\n\t\t *\n\t\t * **Note:** A custom getter must understand the data model format produced by\n\t\t * {@link #getLinkAttributesParser} to work correctly.\n\t\t *\n\t\t * @return {Function} A function that gets (composes) link attributes.\n\t\t * @since 4.5.5\n\t\t */\n\t\tgetLinkAttributesGetter() {\n\t\t\t// #13885\n\t\t\treturn CKEDITOR.plugins.link.getLinkAttributes;\n\t\t},\n\n\t\t/**\n\t\t * Returns an attribute parser function. Default parser comes from the Link plugin\n\t\t * and is documented by {@link CKEDITOR.plugins.link#parseLinkAttributes}.\n\t\t *\n\t\t * **Note:** It is possible to override this method and use a custom parser e.g.\n\t\t * in the absence of the Link plugin.\n\t\t *\n\t\t * **Note:** If a custom parser is used, a data model format produced by the parser\n\t\t * must be compatible with {@link #getLinkAttributesGetter}.\n\t\t *\n\t\t * **Note:** If a custom parser is used, it should be compatible with the\n\t\t * {@link CKEDITOR.plugins.link#parseLinkAttributes} data model format. Otherwise the\n\t\t * Link plugin dialog may not be populated correctly with parsed data. However\n\t\t * as long as Enhanced Image is **not** used with the Link plugin dialog, any custom data model\n\t\t * will work, being stored as an internal property of Enhanced Image widget's data only.\n\t\t *\n\t\t * @return {Function} A function that parses attributes.\n\t\t * @since 4.5.5\n\t\t */\n\t\tgetLinkAttributesParser() {\n\t\t\t// #13885\n\t\t\treturn CKEDITOR.plugins.link.parseLinkAttributes;\n\t\t},\n\t};\n\n\tfunction setWrapperAlign(widget, alignClasses) {\n\t\tconst wrapper = widget.wrapper;\n\n\t\tconst align = widget.data.align;\n\n\t\tconst hasCaption = widget.data.hasCaption;\n\n\t\tif (alignClasses) {\n\t\t\t// Remove all align classes first.\n\t\t\tfor (let i = 3; i--; ) wrapper.removeClass(alignClasses[i]);\n\n\t\t\tif (align == 'center') {\n\t\t\t\t// Avoid touching non-captioned, centered widgets because\n\t\t\t\t// they have the class set on the element instead of wrapper:\n\t\t\t\t//\n\t\t\t\t// \t<div class=\"cke_widget_wrapper\">\n\t\t\t\t// \t\t<p class=\"center-class\">\n\t\t\t\t// \t\t\t<img />\n\t\t\t\t// \t\t</p>\n\t\t\t\t// \t</div>\n\t\t\t\tif (hasCaption) {\n\t\t\t\t\twrapper.addClass(alignClasses[1]);\n\t\t\t\t}\n\t\t\t} else if (align != 'none') {\n\t\t\t\twrapper.addClass(alignClasses[alignmentsObj[align]]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (align == 'center') {\n\t\t\t\tif (hasCaption) wrapper.setStyle('text-align', 'center');\n\t\t\t\telse wrapper.removeStyle('text-align');\n\n\t\t\t\twrapper.removeStyle('float');\n\t\t\t} else {\n\t\t\t\tif (align == 'none') wrapper.removeStyle('float');\n\t\t\t\telse wrapper.setStyle('float', align);\n\n\t\t\t\twrapper.removeStyle('text-align');\n\t\t\t}\n\n\t\t\tconst image = wrapper.$.querySelector('img');\n\n\t\t\tconst imageStyles = image.getAttribute('style');\n\n\t\t\tif (imageStyles) {\n\t\t\t\tlet styles = '';\n\n\t\t\t\tconst heightStyles = /(height:.+?;)/.exec(imageStyles);\n\t\t\t\tif (heightStyles) {\n\t\t\t\t\tstyles += heightStyles[0];\n\t\t\t\t}\n\n\t\t\t\tconst widthStyles = /(width:.+?;)/.exec(imageStyles);\n\t\t\t\tif (widthStyles) {\n\t\t\t\t\tstyles += widthStyles[0];\n\t\t\t\t}\n\n\t\t\t\timage.setAttribute('style', styles);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Returns a function that creates widgets from all <img> and\n\t// <figure class=\"{config.ae_dragresize_ie11_captionedClass}\"> elements.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction upcastWidgetElement(editor) {\n\t\tconst isCenterWrapper = centerWrapperChecker(editor);\n\n\t\tconst captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\t// @param {Object} data\n\t\treturn function(el, data) {\n\t\t\tconst dimensions = {width: 1, height: 1};\n\n\t\t\tconst name = el.name;\n\n\t\t\tlet image;\n\n\t\t\t// #11110 Don't initialize on pasted fake objects.\n\t\t\tif (el.attributes['data-cke-realelement']) return;\n\n\t\t\t// If a center wrapper is found, there are 3 possible cases:\n\t\t\t//\n\t\t\t// 1. <div style=\"text-align:center\"><figure>...</figure></div>.\n\t\t\t//    In this case centering is done with a class set on widget.wrapper.\n\t\t\t//    Simply replace centering wrapper with figure (it's no longer necessary).\n\t\t\t//\n\t\t\t// 2. <p style=\"text-align:center\"><img/></p>.\n\t\t\t//    Nothing to do here: <p> remains for styling purposes.\n\t\t\t//\n\t\t\t// 3. <div style=\"text-align:center\"><img/></div>.\n\t\t\t//    Nothing to do here (2.) but that case is only possible in enterMode different\n\t\t\t//    than ENTER_P.\n\t\t\tif (isCenterWrapper(el)) {\n\t\t\t\tif (name == 'div') {\n\t\t\t\t\tconst figure = el.getFirst('figure');\n\n\t\t\t\t\t// Case #1.\n\t\t\t\t\tif (figure) {\n\t\t\t\t\t\tel.replaceWith(figure);\n\t\t\t\t\t\tel = figure;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Cases #2 and #3 (handled transparently)\n\n\t\t\t\t// If there's a centering wrapper, save it in data.\n\t\t\t\tdata.align = 'center';\n\n\t\t\t\t// Image can be wrapped in link <a><img/></a>.\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\t\t\t}\n\n\t\t\t// No center wrapper has been found.\n\t\t\telse if (name == 'figure' && el.hasClass(captionedClass)) {\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\n\t\t\t\t// Upcast linked image like <a><img/></a>.\n\t\t\t} else if (isLinkedOrStandaloneImage(el)) {\n\t\t\t\timage = el.name == 'a' ? el.children[0] : el;\n\t\t\t}\n\n\t\t\tif (!image) return;\n\n\t\t\t// If there's an image, then cool, we got a widget.\n\t\t\t// Now just remove dimension attributes expressed with %.\n\t\t\tfor (const d in dimensions) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(dimensions, d)) {\n\t\t\t\t\tconst dimension = image.attributes[d];\n\t\t\t\t\tif (dimension && dimension.match(regexPercent))\n\t\t\t\t\t\tdelete image.attributes[d];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function which transforms the widget to the external format\n\t// according to the current configuration.\n\t//\n\t// @param {CKEDITOR.editor}\n\tfunction downcastWidgetElement(editor) {\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\treturn function(el) {\n\t\t\t// In case of <a><img/></a>, <img/> is the element to hold\n\t\t\t// inline styles or classes (ae_dragresize_ie11_alignClasses).\n\t\t\tconst attrsHolder = el.name == 'a' ? el.getFirst() : el;\n\n\t\t\tconst attrs = attrsHolder.attributes;\n\n\t\t\tconst align = this.data.align;\n\n\t\t\t// De-wrap the image from resize handle wrapper.\n\t\t\t// Only block widgets have one.\n\t\t\tif (!this.inline) {\n\t\t\t\tconst resizeWrapper = el.getFirst('span');\n\n\t\t\t\tif (resizeWrapper)\n\t\t\t\t\tresizeWrapper.replaceWith(\n\t\t\t\t\t\tresizeWrapper.getFirst({img: 1, a: 1})\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (align && align != 'none') {\n\t\t\t\tconst styles = CKEDITOR.tools.parseCssText(attrs.style || '');\n\n\t\t\t\t// When the widget is captioned (<figure>) and internally centering is done\n\t\t\t\t// with widget's wrapper style/class, in the external data representation,\n\t\t\t\t// <figure> must be wrapped with an element holding an style/class:\n\t\t\t\t//\n\t\t\t\t// \t<div style=\"text-align:center\">\n\t\t\t\t// \t\t<figure class=\"image\" style=\"display:inline-block\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t// or\n\t\t\t\t// \t<div class=\"some-center-class\">\n\t\t\t\t// \t\t<figure class=\"image\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t//\n\t\t\t\tif (align == 'center' && el.name == 'figure') {\n\t\t\t\t\tel = el.wrapWith(\n\t\t\t\t\t\tnew CKEDITOR.htmlParser.element(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\talignClasses\n\t\t\t\t\t\t\t\t? {class: alignClasses[1]}\n\t\t\t\t\t\t\t\t: {style: 'text-align:center'}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// If left/right, add float style to the downcasted element.\n\t\t\t\telse if (align in {left: 1, right: 1}) {\n\t\t\t\t\tif (alignClasses)\n\t\t\t\t\t\tattrsHolder.addClass(\n\t\t\t\t\t\t\talignClasses[alignmentsObj[align]]\n\t\t\t\t\t\t);\n\t\t\t\t\telse styles['float'] = align;\n\t\t\t\t}\n\n\t\t\t\t// Update element styles.\n\t\t\t\tif (!alignClasses && !CKEDITOR.tools.isEmpty(styles))\n\t\t\t\t\tattrs.style = CKEDITOR.tools.writeCssText(styles) + ';';\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function that checks if an element is a centering wrapper.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction centerWrapperChecker(editor) {\n\t\tconst captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tconst validChildren = {figure: 1, a: 1, img: 1};\n\n\t\treturn function(el) {\n\t\t\t// Wrapper must be either <div> or <p>.\n\t\t\tif (!(el.name in {div: 1, p: 1})) return false;\n\n\t\t\tconst children = el.children;\n\n\t\t\t// Centering wrapper can have only one child.\n\t\t\tif (children.length !== 1) return false;\n\n\t\t\tconst child = children[0];\n\n\t\t\t// Only <figure> or <img /> can be first (only) child of centering wrapper,\n\t\t\t// regardless of its type.\n\t\t\tif (!(child.name in validChildren)) return false;\n\n\t\t\t// If centering wrapper is <p>, only <img /> can be the child.\n\t\t\t//   <p style=\"text-align:center\"><img /></p>\n\t\t\tif (el.name == 'p') {\n\t\t\t\tif (!isLinkedOrStandaloneImage(child)) return false;\n\t\t\t}\n\t\t\t// Centering <div> can hold <img/> or <figure>, depending on enterMode.\n\t\t\telse {\n\t\t\t\t// If a <figure> is the first (only) child, it must have a class.\n\t\t\t\t//   <div style=\"text-align:center\"><figure>...</figure><div>\n\t\t\t\tif (child.name == 'figure') {\n\t\t\t\t\tif (!child.hasClass(captionedClass)) return false;\n\t\t\t\t} else {\n\t\t\t\t\t// Centering <div> can hold <img/> or <a><img/></a> only when enterMode\n\t\t\t\t\t// is ENTER_(BR|DIV).\n\t\t\t\t\t//   <div style=\"text-align:center\"><img /></div>\n\t\t\t\t\t//   <div style=\"text-align:center\"><a><img /></a></div>\n\t\t\t\t\tif (editor.enterMode == CKEDITOR.ENTER_P) return false;\n\n\t\t\t\t\t// Regardless of enterMode, a child which is not <figure> must be\n\t\t\t\t\t// either <img/> or <a><img/></a>.\n\t\t\t\t\tif (!isLinkedOrStandaloneImage(child)) return false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Centering wrapper got to be... centering. If ae_dragresize_ie11_alignClasses are defined,\n\t\t\t// check for centering class. Otherwise, check the style.\n\t\t\tif (\n\t\t\t\talignClasses\n\t\t\t\t\t? el.hasClass(alignClasses[1])\n\t\t\t\t\t: CKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\tel.attributes.style || '',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t  )['text-align'] == 'center'\n\t\t\t)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t};\n\t}\n\n\t// Checks whether element is <img/> or <a><img/></a>.\n\t//\n\t// @param {CKEDITOR.htmlParser.element}\n\tfunction isLinkedOrStandaloneImage(el) {\n\t\tif (el.name == 'img') return true;\n\t\telse if (el.name == 'a')\n\t\t\treturn el.children.length == 1 && el.getFirst('img');\n\n\t\treturn false;\n\t}\n\n\t// Sets width and height of the widget image according to current widget data.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setDimensions(widget) {\n\t\tconst data = widget.data;\n\n\t\tconst dimensions = {width: data.width, height: data.height};\n\n\t\tconst image = widget.parts.image;\n\n\t\tfor (const d in dimensions) {\n\t\t\tif (dimensions[d]) image.setAttribute(d, dimensions[d]);\n\t\t\telse image.removeAttribute(d);\n\t\t}\n\t}\n\n\t// Defines all features related to drag-driven image resizing.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setupResizer(widget) {\n\t\tconst editor = widget.editor;\n\n\t\tconst editable = editor.editable();\n\n\t\tconst doc = editor.document;\n\n\t\t// Store the resizer in a widget for testing (#11004).\n\n\t\tconst resizer = (widget.resizer = doc.createElement('span'));\n\n\t\t// Create resizer for each corner (NE, NW, SE, SW)\n\n\t\tconst resizerNE = doc.createElement('span');\n\n\t\tconst resizerNW = doc.createElement('span');\n\n\t\tconst resizerSE = doc.createElement('span');\n\n\t\tconst resizerSW = doc.createElement('span');\n\n\t\tresizerNE.addClass('cke_image_resizer');\n\t\tresizerNE.addClass('cke_image_resizer_ne');\n\n\t\tresizerNW.addClass('cke_image_resizer');\n\t\tresizerNW.addClass('cke_image_resizer_nw');\n\n\t\tresizerSE.addClass('cke_image_resizer');\n\t\tresizerSE.addClass('cke_image_resizer_se');\n\n\t\tresizerSW.addClass('cke_image_resizer');\n\t\tresizerSW.addClass('cke_image_resizer_sw');\n\n\t\t// Add each directional resizer as a child of resizer\n\t\tresizer.append(resizerNE);\n\t\tresizer.append(resizerNW);\n\t\tresizer.append(resizerSE);\n\t\tresizer.append(resizerSW);\n\n\t\t// resizer.setAttribute( 'title', editor.lang.ae_dragresize_ie11.resizer );\n\t\tresizer.append(new CKEDITOR.dom.text('\\u200b', doc));\n\n\t\t// Inline widgets don't need a resizer wrapper as an image spans the entire widget.\n\t\tif (!widget.inline) {\n\t\t\tconst imageOrLink = widget.parts.link || widget.parts.image;\n\n\t\t\tconst oldResizeWrapper = imageOrLink.getParent();\n\n\t\t\tconst resizeWrapper = doc.createElement('span');\n\n\t\t\tresizeWrapper.addClass('cke_image_resizer_wrapper');\n\t\t\tresizeWrapper.append(imageOrLink);\n\t\t\tresizeWrapper.append(resizer);\n\t\t\twidget.element.append(resizeWrapper, true);\n\n\t\t\t// Remove the old wrapper which could came from e.g. pasted HTML\n\t\t\t// and which could be corrupted (e.g. resizer span has been lost).\n\t\t\tif (oldResizeWrapper.is('span')) oldResizeWrapper.remove();\n\t\t} else {\n\t\t\twidget.wrapper.append(resizer);\n\t\t}\n\n\t\t// Calculate values of size variables and mouse offsets.\n\t\tresizer.on('mousedown', evt => {\n\t\t\tconst image = widget.parts.image;\n\n\t\t\t// The x-coordinate of the mouse relative to the screen\n\t\t\t// when button gets pressed.\n\n\t\t\tconst startX = evt.data.$.screenX;\n\n\t\t\tconst startY = evt.data.$.screenY;\n\n\t\t\t// The initial dimensions and aspect ratio of the image.\n\n\t\t\tconst startWidth = image.$.clientWidth;\n\n\t\t\tconst startHeight = image.$.clientHeight;\n\n\t\t\tconst ratio = startWidth / startHeight;\n\n\t\t\tconst listeners = [];\n\n\t\t\tconst target = evt.data.getTarget();\n\n\t\t\tlet factorX;\n\n\t\t\tlet factorY;\n\n\t\t\tlet moveDiffX;\n\n\t\t\tlet moveDiffY;\n\n\t\t\tlet nativeEvt;\n\n\t\t\tlet newHeight;\n\n\t\t\tlet newWidth;\n\n\t\t\tlet updateData;\n\n\t\t\t// \"factorX\" and \"factorY\" can be either 1 or -1. I.e.: We need to\n\t\t\t// add/subtract the difference to get proper width, etc. Without \"factorX\"\n\t\t\t// and \"factorY\", resizer starts working the opposite way.\n\t\t\tif (target.hasClass('cke_image_resizer_ne')) {\n\t\t\t\tfactorX = 1;\n\t\t\t\tfactorY = 1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_nw')) {\n\t\t\t\tfactorX = -1;\n\t\t\t\tfactorY = 1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_se')) {\n\t\t\t\tfactorX = 1;\n\t\t\t\tfactorY = -1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_sw')) {\n\t\t\t\tfactorX = -1;\n\t\t\t\tfactorY = -1;\n\t\t\t}\n\n\t\t\t// A class applied to editable during resizing.\n\t\t\tconst cursorClass =\n\t\t\t\t'cke_image_' +\n\t\t\t\t(!~factorY ? 's' : 'n') +\n\t\t\t\t(!~factorX ? 'w' : 'e');\n\n\t\t\t// Save the undo snapshot first: before resizing.\n\t\t\teditor.fire('saveSnapshot');\n\n\t\t\t// Mousemove listeners are removed on mouseup.\n\t\t\tattachToDocuments('mousemove', onMouseMove, listeners);\n\n\t\t\t// Clean up the mousemove listener. Update widget data if valid.\n\t\t\tattachToDocuments('mouseup', onMouseUp, listeners);\n\n\t\t\t// The entire editable will have the special cursor while resizing goes on.\n\t\t\teditable.addClass(cursorClass);\n\n\t\t\t// This is to always keep the resizer element visible while resizing.\n\t\t\tresizer.addClass('cke_image_resizing');\n\n\t\t\t// Attaches an event to a global document if inline editor.\n\t\t\t// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.\n\t\t\tfunction attachToDocuments(name, callback, collection) {\n\t\t\t\tconst globalDoc = CKEDITOR.document;\n\n\t\t\t\tconst listeners = [];\n\n\t\t\t\tif (!doc.equals(globalDoc))\n\t\t\t\t\tlisteners.push(globalDoc.on(name, callback));\n\n\t\t\t\tlisteners.push(doc.on(name, callback));\n\n\t\t\t\tif (collection) {\n\t\t\t\t\tfor (let i = listeners.length; i--; )\n\t\t\t\t\t\tcollection.push(listeners.pop());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate width first, and then adjust height, preserving ratio.\n\t\t\tfunction adjustToX() {\n\t\t\t\tnewWidth = startWidth + factorX * moveDiffX;\n\t\t\t\tnewHeight = Math.round(newWidth / ratio);\n\t\t\t}\n\n\t\t\t// Calculate height first, and then adjust width, preserving ratio.\n\t\t\tfunction adjustToY() {\n\t\t\t\tnewHeight = startHeight + factorY * moveDiffY;\n\t\t\t\tnewWidth = Math.round(newHeight * ratio);\n\t\t\t}\n\n\t\t\t// This is how variables refer to the geometry.\n\t\t\t// Note: x corresponds to moveOffset, this is the position of mouse\n\t\t\t// Note: o corresponds to [startX, startY].\n\t\t\t//\n\t\t\t// \t+--------------+--------------+\n\t\t\t// \t|              |              |\n\t\t\t// \t|      I       |      II      |\n\t\t\t// \t|              |              |\n\t\t\t// \t+------------- o -------------+ _ _ _\n\t\t\t// \t|              |              |      ^\n\t\t\t// \t|      VI      |     III      |      | moveDiffY\n\t\t\t// \t|              |         x _ _ _ _ _ v\n\t\t\t// \t+--------------+---------|----+\n\t\t\t// \t               |         |\n\t\t\t// \t                <------->\n\t\t\t// \t                moveDiffX\n\t\t\tfunction onMouseMove(evt) {\n\t\t\t\tnativeEvt = evt.data.$;\n\n\t\t\t\t// This is how far the mouse is from the point the button was pressed.\n\t\t\t\tmoveDiffX = nativeEvt.screenX - startX;\n\t\t\t\tmoveDiffY = startY - nativeEvt.screenY;\n\n\t\t\t\t// Resize with NE, SE drag handles\n\t\t\t\tif (factorX == 1) {\n\t\t\t\t\tif (moveDiffX <= 0) {\n\t\t\t\t\t\tadjustToY();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadjustToX();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Resize with NW, SW drag handles\n\t\t\t\telse {\n\t\t\t\t\tif (moveDiffX <= 0) {\n\t\t\t\t\t\tadjustToX();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadjustToY();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Don't update attributes if less than 10.\n\t\t\t\t// This is to prevent images to visually disappear.\n\t\t\t\tif (newWidth >= 15 && newHeight >= 15) {\n\t\t\t\t\timage.$.style.width = newWidth + 'px';\n\t\t\t\t\timage.$.style.height = newHeight + 'px';\n\n\t\t\t\t\tupdateData = true;\n\t\t\t\t} else {\n\t\t\t\t\tupdateData = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onMouseUp() {\n\t\t\t\tlet l;\n\n\t\t\t\twhile ((l = listeners.pop())) l.removeListener();\n\n\t\t\t\t// Restore default cursor by removing special class.\n\t\t\t\teditable.removeClass(cursorClass);\n\n\t\t\t\t// This is to bring back the regular behaviour of the resizer.\n\t\t\t\tresizer.removeClass('cke_image_resizing');\n\n\t\t\t\tif (updateData) {\n\t\t\t\t\twidget.setData({\n\t\t\t\t\t\theight: newHeight,\n\t\t\t\t\t\twidth: newWidth,\n\t\t\t\t\t});\n\n\t\t\t\t\t// Save another undo snapshot: after resizing.\n\t\t\t\t\teditor.fire('saveSnapshot');\n\t\t\t\t}\n\n\t\t\t\t// Don't update data twice or more.\n\t\t\t\tupdateData = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Removes the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be removed\n\t */\n\tconst removeWidgetAlignment = function(widget, imageAlignment) {\n\t\tif (imageAlignment === 'left' || imageAlignment === 'right') {\n\t\t\twidget.wrapper.removeStyle('float');\n\t\t} else if (imageAlignment === 'center') {\n\t\t\twidget.editor.execCommand('justifyleft');\n\t\t\twidget.editor.execCommand('justifyleft');\n\t\t}\n\t};\n\n\t// Integrates widget alignment setting with justify\n\t// plugin's commands (execution and refreshment).\n\t// @param {CKEDITOR.editor} editor\n\t// @param {String} value 'left', 'right', 'center' or 'block'\n\tfunction alignCommandIntegrator(editor) {\n\t\tconst execCallbacks = [];\n\n\t\tlet enabled;\n\n\t\treturn function(value) {\n\t\t\tconst command = editor.getCommand('justify' + value);\n\n\t\t\t// Most likely, the justify plugin isn't loaded.\n\t\t\tif (!command) return;\n\n\t\t\t// This command will be manually refreshed along with\n\t\t\t// other commands after exec.\n\t\t\texecCallbacks.push(() => {\n\t\t\t\tcommand.refresh(editor, editor.elementPath());\n\t\t\t});\n\n\t\t\tif (value in {right: 1, left: 1, center: 1}) {\n\t\t\t\tcommand.on('exec', evt => {\n\t\t\t\t\tconst widget = getFocusedWidget(editor);\n\n\t\t\t\t\tif (widget) {\n\t\t\t\t\t\tif (widget.data.align === value) {\n\t\t\t\t\t\t\tremoveWidgetAlignment(widget, value);\n\n\t\t\t\t\t\t\tdelete widget.data.align;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidget.setData('align', value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Once the widget changed its align, all the align commands\n\t\t\t\t\t\t// must be refreshed: the event is to be cancelled.\n\t\t\t\t\t\tfor (let i = execCallbacks.length; i--; )\n\t\t\t\t\t\t\texecCallbacks[i]();\n\n\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tcommand.on('refresh', function(evt) {\n\t\t\t\tconst widget = getFocusedWidget(editor);\n\n\t\t\t\tconst allowed = {right: 1, left: 1, center: 1};\n\n\t\t\t\tif (!widget) return;\n\n\t\t\t\t// Cache \"enabled\" on first use. This is because filter#checkFeature may\n\t\t\t\t// not be available during plugin's afterInit in the future — a moment when\n\t\t\t\t// alignCommandIntegrator is called.\n\t\t\t\tif (enabled === undefined)\n\t\t\t\t\tenabled = editor.filter.checkFeature(\n\t\t\t\t\t\teditor.widgets.registered.image.features.align\n\t\t\t\t\t);\n\n\t\t\t\t// Don't allow justify commands when widget alignment is disabled (#11004).\n\t\t\t\tif (!enabled) this.setState(CKEDITOR.TRISTATE_DISABLED);\n\t\t\t\telse {\n\t\t\t\t\tthis.setState(\n\t\t\t\t\t\twidget.data.align == value\n\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t: value in allowed\n\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_DISABLED\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tevt.cancel();\n\t\t\t});\n\t\t};\n\t}\n\n\t// Returns the focused widget, if of the type specific for this plugin.\n\t// If no widget is focused, `null` is returned.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {CKEDITOR.plugins.widget}\n\tfunction getFocusedWidget(editor) {\n\t\tconst widget = editor.widgets.focused;\n\n\t\tif (widget && widget.name == 'image') return widget;\n\n\t\treturn null;\n\t}\n\n\t// Returns a set of widget allowedContent rules, depending\n\t// on configurations like config#ae_dragresize_ie11_alignClasses or\n\t// config#ae_dragresize_ie11_captionedClass.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetAllowedContent(editor) {\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tconst rules = {\n\t\t\t// Widget may need <div> or <p> centering wrapper.\n\t\t\tdiv: {\n\t\t\t\tmatch: centerWrapperChecker(editor),\n\t\t\t},\n\t\t\tp: {\n\t\t\t\tmatch: centerWrapperChecker(editor),\n\t\t\t},\n\t\t\timg: {\n\t\t\t\tattributes: '!src,alt,width,height',\n\t\t\t},\n\t\t\tfigure: {\n\t\t\t\tclasses: '!' + editor.config.ae_dragresize_ie11_captionedClass,\n\t\t\t},\n\t\t\tfigcaption: true,\n\t\t};\n\n\t\tif (alignClasses) {\n\t\t\t// Centering class from the config.\n\t\t\trules.div.classes = alignClasses[1];\n\t\t\trules.p.classes = rules.div.classes;\n\n\t\t\t// Left/right classes from the config.\n\t\t\trules.img.classes = alignClasses[0] + ',' + alignClasses[2];\n\t\t\trules.figure.classes += ',' + rules.img.classes;\n\t\t} else {\n\t\t\t// Centering with text-align.\n\t\t\trules.div.styles = 'text-align';\n\t\t\trules.p.styles = 'text-align';\n\n\t\t\trules.img.styles = 'float';\n\t\t\trules.figure.styles = 'float,display';\n\t\t}\n\n\t\treturn rules;\n\t}\n\n\t// Returns a set of widget feature rules, depending\n\t// on editor configuration. Note that the following may not cover\n\t// all the possible cases since requiredContent supports a single\n\t// tag only.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetFeatures(editor) {\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tconst features = {\n\t\t\tdimension: {\n\t\t\t\trequiredContent: 'img[width,height]',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\trequiredContent:\n\t\t\t\t\t'img' +\n\t\t\t\t\t(alignClasses ? '(' + alignClasses[0] + ')' : '{float}'),\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\trequiredContent: 'figcaption',\n\t\t\t},\n\t\t};\n\n\t\treturn features;\n\t}\n\n\t// Returns element which is styled, considering current\n\t// state of the widget.\n\t//\n\t// @see CKEDITOR.plugins.widget#applyStyle\n\t// @param {CKEDITOR.plugins.widget} widget\n\t// @returns {CKEDITOR.dom.element}\n\tfunction getStyleableElement(widget) {\n\t\treturn widget.data.hasCaption ? widget.element : widget.parts.image;\n\t}\n})();\n\n/**\n * A CSS class applied to the `<figure>` element of a captioned image.\n *\n * Read more in the [documentation](#!/guide/dev_captionedimage) and see the\n * [SDK sample](http://sdk.ckeditor.com/samples/captionedimage.html).\n *\n *\t\t// Changes the class to \"captionedImage\".\n *\t\tconfig.ae_dragresize_ie11_captionedClass = 'captionedImage';\n *\n * @cfg {String} [ae_dragresize_ie11_captionedClass='image']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.ae_dragresize_ie11_captionedClass = 'image';\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport {HIGH_PRIORITY} from './priorities';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_embed')) {\n\tconst REGEX_HTTP = /^https?/;\n\n\tconst REGEX_DEFAULT_LINK = /<a href=/;\n\n\tCKEDITOR.DEFAULT_AE_EMBED_URL_TPL =\n\t\t'http://alloy.iframe.ly/api/oembed?url={url}&callback={callback}';\n\tCKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL =\n\t\t'<div data-ae-embed-url=\"{url}\"></div>';\n\tCKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL = '<a href=\"{url}\">{url}</a>';\n\t/**\n\t * CKEditor plugin which adds the infrastructure to embed urls as media objects using an oembed\n\t * service. By default, and for demoing purposes only, the oembed service is hosted in iframe.ly\n\t * at //alloy.iframe.ly/api/oembed?url={url}&callback={callback}. Note this should be changed to\n\t * a self-hosted or paid service in production environments. Access to the alloy.iframe.ly endpoint\n\t * may be restricted per domain due to significant traffic.\n\t *\n\t * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it\n\t * to an embedded content.\n\t *\n\t * @class CKEDITOR.plugins.ae_embed\n\t */\n\tCKEDITOR.plugins.add('ae_embed', {\n\t\trequires: 'widget',\n\t\tinit(editor) {\n\t\t\tconst AE_EMBED_URL_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedUrlTemplate ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_URL_TPL\n\t\t\t);\n\t\t\tconst AE_EMBED_WIDGET_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedWidgetTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL\n\t\t\t);\n\t\t\tconst AE_EMBED_DEFAULT_LINK_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedLinkDefaultTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL\n\t\t\t);\n\n\t\t\t// Default function to upcast DOM elements to embed widgets.\n\t\t\t// It matches CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL\n\t\t\tconst defaultEmbedWidgetUpcastFn = function(element, data) {\n\t\t\t\tif (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-ae-embed-url']\n\t\t\t\t) {\n\t\t\t\t\tdata.url = element.attributes['data-ae-embed-url'];\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Create a embedUrl command that can be invoked to easily embed media URLs\n\t\t\teditor.addCommand('embedUrl', {\n\t\t\t\texec(editor, data) {\n\t\t\t\t\teditor.insertHtml(\n\t\t\t\t\t\tAE_EMBED_WIDGET_TPL.output({\n\t\t\t\t\t\t\turl: data.url,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t// Create a widget to properly handle embed operations\n\t\t\teditor.widgets.add('ae_embed', {\n\t\t\t\tmask: true,\n\t\t\t\trequiredContent: 'div[data-ae-embed-url]',\n\n\t\t\t\t/**\n\t\t\t\t * Listener to be executed every time the widget's data changes. It takes care of\n\t\t\t\t * requesting the embed object to the configured oembed service and render it in\n\t\t\t\t * the editor\n\t\t\t\t *\n\t\t\t\t * @method data\n\t\t\t\t * @param {event} event Data change event\n\t\t\t\t */\n\t\t\t\tdata(event) {\n\t\t\t\t\tconst widget = this;\n\n\t\t\t\t\tconst url = event.data.url;\n\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\tCKEDITOR.tools.jsonp(\n\t\t\t\t\t\t\tAE_EMBED_URL_TPL,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\turl: encodeURIComponent(url),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresponse => {\n\t\t\t\t\t\t\t\tif (response.html) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tREGEX_DEFAULT_LINK.test(response.html)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twidget.element.setHtml(response.html);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t_msg => {\n\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tcreateATag(url) {\n\t\t\t\t\tthis.editor.execCommand('undo');\n\n\t\t\t\t\tconst aTagHtml = AE_EMBED_DEFAULT_LINK_TPL.output({\n\t\t\t\t\t\turl,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.editor.insertHtml(aTagHtml);\n\t\t\t\t\tthis.editor.fire('actionPerformed', this);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Function used to upcast an element to ae_embed widgets.\n\t\t\t\t *\n\t\t\t\t * @method upcast\n\t\t\t\t * @param {CKEDITOR.htmlParser.element} element The element to be checked\n\t\t\t\t * @param {Object} data The object that will be passed to the widget\n\t\t\t\t */\n\t\t\t\tupcast(element, data) {\n\t\t\t\t\tconst embedWidgetUpcastFn =\n\t\t\t\t\t\teditor.config.embedWidgetUpcastFn ||\n\t\t\t\t\t\tdefaultEmbedWidgetUpcastFn;\n\n\t\t\t\t\treturn embedWidgetUpcastFn(element, data);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t// Add a listener to handle paste events and turn links into embed objects\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\teditor.on(\n\t\t\t\t\t'paste',\n\t\t\t\t\tevent => {\n\t\t\t\t\t\tconst link = event.data.dataValue;\n\n\t\t\t\t\t\tif (REGEX_HTTP.test(link)) {\n\t\t\t\t\t\t\tevent.stop();\n\n\t\t\t\t\t\t\teditor.execCommand('embedUrl', {\n\t\t\t\t\t\t\t\turl: event.data.dataValue,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tnull,\n\t\t\t\t\tnull,\n\t\t\t\t\t// Make sure we run before autolink's paste handler,\n\t\t\t\t\t// otherwise the link will be turned into an anchor and our\n\t\t\t\t\t// REGEX_HTTP test will fail.\n\t\t\t\t\tHIGH_PRIORITY\n\t\t\t\t);\n\t\t\t});\n\n\t\t\t// Add a listener to handle selection change events and properly detect editor\n\t\t\t// interactions on the widgets without messing with widget native selection\n\t\t\teditor.on('selectionChange', _event => {\n\t\t\t\tconst selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tconst element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tconst widgetElement = element.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"ae_embed\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tconst region = element.getClientRect();\n\n\t\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add a filter to skip filtering widget elements\n\t\t\teditor.filter.addElementCallback(element => {\n\t\t\t\tif ('data-ae-embed-url' in element.attributes) {\n\t\t\t\t\treturn CKEDITOR.FILTER_SKIP_TREE;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * Priorities that can be used to control the order in which event handlers run.\n *\n * @see https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_event.html#method-on\n */\nexport const DEFAULT_PRIORITY = 10;\nexport const HIGH_PRIORITY = 5;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Resizer from './Resizer.es';\n\nif (!CKEDITOR.plugins.get('embedurl')) {\n\tconst REGEX_HTTP = /^https?/;\n\n\tCKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL =\n\t\t'<div data-embed-url=\"{url}\" class=\"embed-responsive embed-responsive-16by9\">{content}<div class=\"embed-help-message\">{helpMessageIcon}<span> {helpMessage}</span></div></div><br>';\n\n\t/**\n\t * Enum for supported embed alignments\n\t * @type {Object}\n\t */\n\n\tconst EMBED_ALIGNMENT = {\n\t\tCENTER: 'center',\n\t\tLEFT: 'left',\n\t\tRIGHT: 'right',\n\t};\n\n\t/**\n\t * Enum values for supported embed alignments\n\t * @type {Array}\n\t */\n\n\tconst ALIGN_VALUES = [\n\t\tEMBED_ALIGNMENT.CENTER,\n\t\tEMBED_ALIGNMENT.LEFT,\n\t\tEMBED_ALIGNMENT.RIGHT,\n\t];\n\n\t/**\n\t * Necessary styles for the center alignment\n\t * @type {Array.<Object>}\n\t */\n\n\tconst CENTERED_EMBED_STYLE = [\n\t\t{\n\t\t\tname: 'display',\n\t\t\tvalue: 'block',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-left',\n\t\t\tvalue: 'auto',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-right',\n\t\t\tvalue: 'auto',\n\t\t},\n\t];\n\n\t/**\n\t * Retrieves the alignment value of an embed element.\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @return {String} The alignment value\n\t */\n\n\tconst getEmbedAlignment = function(embed) {\n\t\tlet embedAlignment = embed.getStyle('float');\n\n\t\tif (\n\t\t\t!embedAlignment ||\n\t\t\tembedAlignment === 'inherit' ||\n\t\t\tembedAlignment === 'none'\n\t\t) {\n\t\t\tembedAlignment = embed.getAttribute('align');\n\t\t}\n\n\t\tif (!embedAlignment) {\n\t\t\tconst centeredEmbed = CENTERED_EMBED_STYLE.every(style => {\n\t\t\t\tlet styleCheck = embed.getStyle(style.name) === style.value;\n\n\t\t\t\tif (!styleCheck && style.vendorPrefixes) {\n\t\t\t\t\tstyleCheck = style.vendorPrefixes.some(\n\t\t\t\t\t\tvendorPrefix =>\n\t\t\t\t\t\t\tembed.getStyle(vendorPrefix + style.name) ===\n\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn styleCheck;\n\t\t\t});\n\n\t\t\tembedAlignment = centeredEmbed ? EMBED_ALIGNMENT.CENTER : null;\n\t\t}\n\n\t\treturn embedAlignment;\n\t};\n\n\t/**\n\t * Removes the alignment value of an embed\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @param {String} embedAlignment The embed alignment value to be removed\n\t */\n\n\tconst removeEmbedAlignment = function(embed, embedAlignment) {\n\t\tif (\n\t\t\tembedAlignment === EMBED_ALIGNMENT.LEFT ||\n\t\t\tembedAlignment === EMBED_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tembed.removeStyle('float');\n\n\t\t\tif (embedAlignment === getEmbedAlignment(embed)) {\n\t\t\t\tembed.removeAttribute('align');\n\t\t\t}\n\t\t} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_EMBED_STYLE.forEach(style => {\n\t\t\t\tembed.removeStyle(style.name);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix =>\n\t\t\t\t\t\tembed.removeStyle(vendorPrefix + style.name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Sets the alignment value of an embed\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @param {String} embedAlignment The embed alignment value to be set\n\t */\n\n\tconst setEmbedAlignment = function(embed, embedAlignment) {\n\t\tremoveEmbedAlignment(embed, getEmbedAlignment(embed));\n\n\t\tif (\n\t\t\tembedAlignment === EMBED_ALIGNMENT.LEFT ||\n\t\t\tembedAlignment === EMBED_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tembed.setStyle('float', embedAlignment);\n\t\t} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_EMBED_STYLE.forEach(style => {\n\t\t\t\tembed.setStyle(style.name, style.value);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix =>\n\t\t\t\t\t\tembed.setStyle(vendorPrefix + style.name, style.value)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst getSelectedElement = function(editor) {\n\t\tconst result = {\n\t\t\talignment: null,\n\t\t\telement: null,\n\t\t};\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (\n\t\t\t\tselectedElement &&\n\t\t\t\tselectedElement.getAttribute('data-cke-widget-wrapper')\n\t\t\t) {\n\t\t\t\tresult.alignment = getEmbedAlignment(selectedElement);\n\t\t\t\tresult.element = selectedElement;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tconst resizeElement = function(el, width, height) {\n\t\tconst wrapperElement = el.parentElement;\n\n\t\tif (wrapperElement && width > 0 && height > 0) {\n\t\t\tconst rect = wrapperElement.getBoundingClientRect();\n\n\t\t\tconst pwidth =\n\t\t\t\twidth >= rect.width\n\t\t\t\t\t? 100\n\t\t\t\t\t: Math.floor((width / rect.width) * 100);\n\t\t\tconst style = `width:${pwidth}%;`;\n\n\t\t\twrapperElement.setAttribute('style', style);\n\n\t\t\tconst widgetElement = wrapperElement.querySelector(\n\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t);\n\n\t\t\tif (widgetElement) {\n\t\t\t\tconst styles =\n\t\t\t\t\tJSON.parse(widgetElement.getAttribute('data-styles')) || {};\n\n\t\t\t\tstyles.width = `${width}px`;\n\t\t\t\tstyles.height = `${height}px`;\n\n\t\t\t\twidgetElement.setAttribute(\n\t\t\t\t\t'data-styles',\n\t\t\t\t\tJSON.stringify(styles)\n\t\t\t\t);\n\n\t\t\t\tconst iframeElement = widgetElement.querySelector('iframe');\n\n\t\t\t\tif (iframeElement) {\n\t\t\t\t\tiframeElement.setAttribute('width', width);\n\t\t\t\t\tiframeElement.setAttribute('height', height);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconst selectWidget = function(editor) {\n\t\tsetTimeout(() => {\n\t\t\tconst selection = editor.getSelection();\n\n\t\t\tif (selection) {\n\t\t\t\tconst wrapperElement = selection.root.find(\n\t\t\t\t\t'[data-cke-widget-wrapper]'\n\t\t\t\t);\n\n\t\t\t\tif (wrapperElement) {\n\t\t\t\t\tconst elementList = wrapperElement.$;\n\t\t\t\t\tif (elementList.length > 0) {\n\t\t\t\t\t\tconst lastElement = new CKEDITOR.dom.element(\n\t\t\t\t\t\t\telementList[elementList.length - 1]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst imageElement = lastElement.findOne('img');\n\t\t\t\t\t\tconst widgetElement = lastElement.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (imageElement && widgetElement) {\n\t\t\t\t\t\t\tconst range = editor.createRange();\n\n\t\t\t\t\t\t\trange.setStart(widgetElement, 0);\n\t\t\t\t\t\t\trange.setEnd(imageElement, 1);\n\n\t\t\t\t\t\t\tselection.selectRanges([range]);\n\t\t\t\t\t\t\tselection.selectElement(lastElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 0);\n\t};\n\n\tlet currentAlignment = null;\n\tlet currentElement = null;\n\tlet resizer = null;\n\n\t/**\n\t * CKEditor plugin which adds the infrastructure to embed urls as media objects\n\t *\n\t * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it\n\t * to an embedded content.\n\t *\n\t * @class CKEDITOR.plugins.embedurl\n\t */\n\n\tCKEDITOR.plugins.add('embedurl', {\n\t\trequires: 'widget',\n\n\t\tinit: editor => {\n\t\t\tconst LFR_EMBED_WIDGET_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedWidgetTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL\n\t\t\t);\n\n\t\t\tlet providers = editor.config.embedProviders || [];\n\n\t\t\tproviders = providers.map(provider => {\n\t\t\t\treturn {\n\t\t\t\t\tid: provider.id,\n\t\t\t\t\ttpl: new CKEDITOR.template(\n\t\t\t\t\t\t`<div data-embed-id=\"{embedId}\">${provider.tpl}</div>`\n\t\t\t\t\t),\n\t\t\t\t\ttype: provider.type,\n\t\t\t\t\turlSchemes: provider.urlSchemes.map(\n\t\t\t\t\t\tscheme => new RegExp(scheme)\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst generateEmbedContent = (url, content) => {\n\t\t\t\treturn LFR_EMBED_WIDGET_TPL.output({\n\t\t\t\t\tcontent,\n\t\t\t\t\thelpMessage: AlloyEditor.Strings.videoPlaybackDisabled,\n\t\t\t\t\thelpMessageIcon: Liferay.Util.getLexiconIconTpl(\n\t\t\t\t\t\t'info-circle'\n\t\t\t\t\t),\n\t\t\t\t\turl,\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst defaultEmbedWidgetUpcastFn = (element, data) => {\n\t\t\t\tlet upcastWidget = false;\n\n\t\t\t\tif (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-embed-url']\n\t\t\t\t) {\n\t\t\t\t\tdata.url = element.attributes['data-embed-url'];\n\n\t\t\t\t\tupcastWidget = true;\n\t\t\t\t} else if (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-embed-id']\n\t\t\t\t) {\n\t\t\t\t\tconst iframe = element.children[0];\n\n\t\t\t\t\tdata.url = iframe.attributes.src;\n\n\t\t\t\t\tdelete element.attributes.style;\n\n\t\t\t\t\tconst embedContent = generateEmbedContent(\n\t\t\t\t\t\tdata.url,\n\t\t\t\t\t\telement.getOuterHtml()\n\t\t\t\t\t);\n\n\t\t\t\t\tconst widgetFragment = new CKEDITOR.htmlParser.fragment.fromHtml(\n\t\t\t\t\t\tembedContent\n\t\t\t\t\t);\n\n\t\t\t\t\tupcastWidget = widgetFragment.children[0];\n\n\t\t\t\t\tupcastWidget.attributes['data-styles'] =\n\t\t\t\t\t\telement.attributes['data-styles'];\n\t\t\t\t\tupcastWidget.removeClass('embed-responsive');\n\t\t\t\t\tupcastWidget.removeClass('embed-responsive-16by9');\n\n\t\t\t\t\telement.replaceWith(upcastWidget);\n\t\t\t\t}\n\n\t\t\t\treturn upcastWidget;\n\t\t\t};\n\n\t\t\tconst showError = errorMsg => {\n\t\t\t\teditor.fire('error', errorMsg);\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\teditor.getSelection().removeAllRanges();\n\n\t\t\t\t\teditor.focus();\n\n\t\t\t\t\tresizer.hide();\n\t\t\t\t}, 0);\n\t\t\t};\n\n\t\t\teditor.addCommand('embedUrl', {\n\t\t\t\texec: (editor, data) => {\n\t\t\t\t\tconst type = data.type;\n\t\t\t\t\tconst url = data.url;\n\t\t\t\t\tlet content;\n\n\t\t\t\t\tif (REGEX_HTTP.test(url)) {\n\t\t\t\t\t\tconst validProvider = providers\n\t\t\t\t\t\t\t.filter(provider => {\n\t\t\t\t\t\t\t\treturn type ? provider.type === type : true;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.some(provider => {\n\t\t\t\t\t\t\t\tconst scheme = provider.urlSchemes.find(\n\t\t\t\t\t\t\t\t\tscheme => scheme.test(url)\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (scheme) {\n\t\t\t\t\t\t\t\t\tconst embedId = scheme.exec(url)[1];\n\n\t\t\t\t\t\t\t\t\tcontent = provider.tpl.output({\n\t\t\t\t\t\t\t\t\t\tembedId,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn scheme;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (validProvider) {\n\t\t\t\t\t\t\teditor._selectEmbedWidget = url;\n\n\t\t\t\t\t\t\tconst embedContent = generateEmbedContent(\n\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\teditor.insertHtml(embedContent);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshowError(AlloyEditor.Strings.platformNotSupported);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowError(AlloyEditor.Strings.enterValidUrl);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\teditor.widgets.add('embedurl', {\n\t\t\t\tdraggable: false,\n\t\t\t\tmask: true,\n\t\t\t\trequiredContent: 'div[data-embed-url]',\n\n\t\t\t\tdata(event) {\n\t\t\t\t\tconst instance = this;\n\n\t\t\t\t\t// Sync dimensions and alignment with editor wrapper\n\n\t\t\t\t\tlet styles = null;\n\n\t\t\t\t\tconst stylesJSON = instance.element.getAttribute(\n\t\t\t\t\t\t'data-styles'\n\t\t\t\t\t);\n\n\t\t\t\t\tif (stylesJSON) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tstyles = JSON.parse(stylesJSON);\n\t\t\t\t\t\t} catch (_error) {\n\t\t\t\t\t\t\tstyles = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!styles) {\n\t\t\t\t\t\tconst iframe = instance.wrapper.findOne('iframe');\n\n\t\t\t\t\t\tconst bounds = instance.wrapper.$.getBoundingClientRect();\n\t\t\t\t\t\tconst width = iframe.getAttribute('width');\n\n\t\t\t\t\t\tconst pwidth =\n\t\t\t\t\t\t\twidth >= bounds.width\n\t\t\t\t\t\t\t\t? 100\n\t\t\t\t\t\t\t\t: Math.round((width / bounds.width) * 100);\n\n\t\t\t\t\t\tstyles = {\n\t\t\t\t\t\t\twidth: `${pwidth}%`,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tinstance.wrapper.setAttribute(\n\t\t\t\t\t\t'style',\n\t\t\t\t\t\tCKEDITOR.tools.writeCssText(styles)\n\t\t\t\t\t);\n\n\t\t\t\t\tif (editor._selectEmbedWidget === event.data.url) {\n\t\t\t\t\t\tselectWidget(editor);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tdowncast(widget) {\n\t\t\t\t\tconst embedContent = widget.children[0];\n\n\t\t\t\t\tembedContent.attributes.class =\n\t\t\t\t\t\t'embed-responsive embed-responsive-16by9';\n\n\t\t\t\t\tembedContent.attributes['data-styles'] = JSON.stringify(\n\t\t\t\t\t\tCKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\twidget.parent.attributes.style\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tembedContent.attributes.style =\n\t\t\t\t\t\twidget.parent.attributes.style;\n\n\t\t\t\t\treturn embedContent;\n\t\t\t\t},\n\n\t\t\t\tupcast(element, data) {\n\t\t\t\t\tconst embedWidgetUpcastFn =\n\t\t\t\t\t\teditor.config.embedWidgetUpcastFn ||\n\t\t\t\t\t\tdefaultEmbedWidgetUpcastFn;\n\n\t\t\t\t\treturn embedWidgetUpcastFn(element, data);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\twindow.addEventListener(\n\t\t\t\t'resize',\n\t\t\t\t() => {\n\t\t\t\t\tresizer.hide();\n\t\t\t\t\tselectWidget(editor);\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\n\t\t\teditor.on('selectionChange', _event => {\n\t\t\t\tconst selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tconst element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tconst widgetElement = element.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\n\t\t\t\t\t\t\tconst region = element.getClientRect();\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst imageElement = element.findOne(\n\t\t\t\t\t\t\t'img.cke_widget_mask'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (imageElement) {\n\t\t\t\t\t\t\tresizer.show(imageElement.$);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresizer.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teditor.on('destroy', () => {\n\t\t\t\tconst resizeElement = document.getElementById('ckimgrsz');\n\n\t\t\t\tif (resizeElement) {\n\t\t\t\t\tresizeElement.remove();\n\t\t\t\t}\n\n\t\t\t\tdocument.removeEventListener('mousedown', mouseDownListener);\n\t\t\t});\n\n\t\t\teditor.on('blur', () => {\n\t\t\t\tresizer.hide();\n\t\t\t});\n\n\t\t\teditor.filter.addElementCallback(element => {\n\t\t\t\tif ('data-embed-url' in element.attributes) {\n\t\t\t\t\treturn CKEDITOR.FILTER_SKIP_TREE;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst mouseDownListener = event => {\n\t\t\t\tconst result = getSelectedElement(editor);\n\n\t\t\t\tcurrentAlignment = result.alignment;\n\t\t\t\tcurrentElement = result.element;\n\n\t\t\t\tif (resizer.isHandle(event.target)) {\n\t\t\t\t\tresizer.initDrag(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tresizer = new Resizer(editor, {\n\t\t\t\tonComplete(element, width, height) {\n\t\t\t\t\tresizeElement(element, width, height);\n\n\t\t\t\t\tif (currentAlignment && currentElement) {\n\t\t\t\t\t\tsetEmbedAlignment(currentElement, currentAlignment);\n\t\t\t\t\t}\n\t\t\t\t\tselectWidget(editor);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tdocument.addEventListener('mousedown', mouseDownListener, false);\n\t\t},\n\n\t\tafterInit: editor => {\n\t\t\tALIGN_VALUES.forEach(alignValue => {\n\t\t\t\tconst command = editor.getCommand('justify' + alignValue);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.on('exec', event => {\n\t\t\t\t\t\tconst selectedElement = editor\n\t\t\t\t\t\t\t.getSelection()\n\t\t\t\t\t\t\t.getSelectedElement();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tselectedElement &&\n\t\t\t\t\t\t\tselectedElement.getAttribute(\n\t\t\t\t\t\t\t\t'data-cke-widget-wrapper'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst selectedEmbed = selectedElement.findOne(\n\t\t\t\t\t\t\t\t'[data-widget=\"embedurl\"] [data-embed-id]'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (selectedEmbed) {\n\t\t\t\t\t\t\t\tconst embedAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (embedAlignment === alignValue) {\n\t\t\t\t\t\t\t\t\tremoveEmbedAlignment(\n\t\t\t\t\t\t\t\t\t\tselectedElement,\n\t\t\t\t\t\t\t\t\t\talignValue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetEmbedAlignment(\n\t\t\t\t\t\t\t\t\t\tselectedElement,\n\t\t\t\t\t\t\t\t\t\talignValue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrentElement = selectedElement;\n\t\t\t\t\t\t\t\tcurrentAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst imageElement = selectedElement.findOne(\n\t\t\t\t\t\t\t\t\t'img'\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (imageElement) {\n\t\t\t\t\t\t\t\t\tresizer.show(imageElement.$);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tevent.cancel();\n\n\t\t\t\t\t\t\t\tconst elementPath = new CKEDITOR.dom.elementPath(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tALIGN_VALUES.forEach(alignValue => {\n\t\t\t\t\t\t\t\t\tconst command = editor.getCommand(\n\t\t\t\t\t\t\t\t\t\t'justify' + alignValue\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tif (command) {\n\t\t\t\t\t\t\t\t\t\tcommand.refresh(editor, elementPath);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tcommand.on('refresh', event => {\n\t\t\t\t\t\tconst lastElement = event.data.path.lastElement;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlastElement &&\n\t\t\t\t\t\t\tlastElement.getAttribute(\n\t\t\t\t\t\t\t\t'data-cke-widget-wrapper'\n\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\tlastElement.findOne('[data-widget] [data-embed-id]')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst embedAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\tlastElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.sender.setState(\n\t\t\t\t\t\t\t\tembedAlignment === alignValue\n\t\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n\nexport default CKEDITOR.plugins.get('embedurl');\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport DragEvent from './DragEvent.es';\n\nconst IMAGE_HANDLES = ['tl', 'tr', 'bl', 'br'];\n\nconst POSITION_ELEMENT_FN = {\n\tbl(handle, left, top, box) {\n\t\tpositionElement(handle, -3 + left, box.height - 4 + top);\n\t},\n\tbr(handle, left, top, box) {\n\t\tpositionElement(handle, box.width - 4 + left, box.height - 4 + top);\n\t},\n\trm(handle, left, top, box) {\n\t\tpositionElement(\n\t\t\thandle,\n\t\t\tbox.width - 4 + left,\n\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t);\n\t},\n\ttl(handle, left, top, _box) {\n\t\tpositionElement(handle, left - 3, top - 3);\n\t},\n\ttr(handle, left, top, box) {\n\t\tpositionElement(handle, box.width - 4 + left, -3 + top);\n\t},\n};\n\nconst positionElement = (el, left, top) => {\n\tel.style.left = `${left}px`;\n\tel.style.top = `${top}px`;\n};\n\nconst getBoundingBox = (window, el) => {\n\tconst rect = el.getBoundingClientRect();\n\n\treturn {\n\t\theight: rect.height,\n\t\tleft: rect.left + window.pageXOffset,\n\t\ttop: rect.top + window.pageYOffset,\n\t\twidth: rect.width,\n\t};\n};\n\nclass Resizer {\n\tconstructor(editor, cfg = {}) {\n\t\tthis.cfg = cfg;\n\t\tthis.editor = editor;\n\n\t\tthis.document = editor.document ? editor.document.$ : document;\n\t\tthis.window = editor.window ? editor.window.$ : window;\n\n\t\tthis.box = null;\n\t\tthis.container = null;\n\t\tthis.handles = {};\n\t\tthis.preview = null;\n\t\tthis.previewBox = null;\n\t\tthis.result = null;\n\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.container = this.document.createElement('div');\n\t\tthis.container.id = 'ckimgrsz';\n\n\t\tthis.preview = this.document.createElement('span');\n\n\t\tthis.container.appendChild(this.preview);\n\n\t\tthis.handles = {};\n\n\t\tIMAGE_HANDLES.forEach(handleName => {\n\t\t\tthis.handles[handleName] = this.createHandle(handleName);\n\t\t});\n\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.container.appendChild(this.handles[keys[i]]);\n\t\t}\n\t}\n\n\tcreateHandle(name) {\n\t\tconst el = this.document.createElement('i');\n\n\t\tel.classList.add(name);\n\n\t\treturn el;\n\t}\n\n\tisHandle(el) {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tlet result = false;\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tif (this.handles[keys[i]] === el) {\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tshow(el) {\n\t\tconst uiNode = this.editor.config.uiNode || document.body;\n\n\t\tthis.el = el;\n\n\t\tthis.box = getBoundingBox(this.window, this.el);\n\n\t\tpositionElement(\n\t\t\tthis.container,\n\t\t\tthis.box.left,\n\t\t\tthis.box.top + uiNode.scrollTop\n\t\t);\n\n\t\tuiNode.appendChild(this.container);\n\n\t\tthis.el.classList.add('ckimgrsz');\n\n\t\tthis.showHandles();\n\t}\n\n\thide() {\n\t\tconst elements = this.document.getElementsByClassName('ckimgrsz');\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\telements[i].classList.remove('ckimgrsz');\n\t\t}\n\n\t\tthis.hideHandles();\n\n\t\tif (this.container.parentNode) {\n\t\t\tthis.container.parentNode.removeChild(this.container);\n\t\t}\n\t}\n\n\tinitDrag(event) {\n\t\tif (event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst drag = new DragEvent(this.window, this.document);\n\n\t\tdrag.onStart = () => {\n\t\t\tthis.showPreview();\n\n\t\t\tthis.isDragging = true;\n\n\t\t\tthis.editor.getSelection().lock();\n\t\t};\n\n\t\tdrag.onDrag = () => {\n\t\t\tthis.calculateSize(drag);\n\n\t\t\tconst editorBounds = this.editor.element.$.getBoundingClientRect();\n\n\t\t\tif (this.previewBox.width >= editorBounds.width) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.updatePreview();\n\n\t\t\tconst box = this.previewBox;\n\n\t\t\tthis.updateHandles(box, box.left, box.top);\n\t\t};\n\n\t\tdrag.onRelease = () => {\n\t\t\tthis.hidePreview();\n\n\t\t\tthis.isDragging = false;\n\n\t\t\tthis.hide();\n\n\t\t\tthis.editor.getSelection().unlock();\n\n\t\t\tthis.editor.fire('saveSnapshot');\n\t\t};\n\n\t\tdrag.onComplete = () => {\n\t\t\tthis.resizeComplete();\n\n\t\t\tthis.editor.fire('saveSnapshot');\n\t\t};\n\n\t\tdrag.start(event);\n\t}\n\n\tupdateHandles(box, left = 0, top = 0) {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tPOSITION_ELEMENT_FN[keys[i]](this.handles[keys[i]], left, top, box);\n\t\t}\n\t}\n\n\tshowHandles() {\n\t\tthis.updateHandles(this.box);\n\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.handles[keys[i]].style.display = 'block';\n\t\t}\n\t}\n\n\thideHandles() {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.handles[keys[i]].style.display = 'none';\n\t\t}\n\t}\n\n\tshowPreview() {\n\t\tthis.calculateSize();\n\n\t\tthis.updatePreview();\n\n\t\tthis.preview.style.display = 'block';\n\t}\n\n\tupdatePreview() {\n\t\tpositionElement(\n\t\t\tthis.preview,\n\t\t\tthis.previewBox.left,\n\t\t\tthis.previewBox.top\n\t\t);\n\n\t\tthis.preview.style.height = `${this.previewBox.height}px`;\n\t\tthis.preview.style.width = `${this.previewBox.width}px`;\n\t}\n\n\thidePreview() {\n\t\tconst box = getBoundingBox(this.window, this.preview);\n\n\t\tthis.result = {\n\t\t\theight: box.height,\n\t\t\twidth: box.width,\n\t\t};\n\n\t\tthis.preview.style.display = 'none';\n\t}\n\n\tcalculateSize(data) {\n\t\tthis.previewBox = {\n\t\t\theight: this.box.height,\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\twidth: this.box.width,\n\t\t};\n\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst className = data.target.className;\n\n\t\tif (className.indexOf('r') >= 0) {\n\t\t\tthis.previewBox.width = Math.max(32, this.box.width + data.delta.x);\n\t\t}\n\n\t\tif (className.indexOf('b') >= 0) {\n\t\t\tthis.previewBox.height = Math.max(\n\t\t\t\t32,\n\t\t\t\tthis.box.height + data.delta.y\n\t\t\t);\n\t\t}\n\n\t\tif (className.indexOf('l') >= 0) {\n\t\t\tthis.previewBox.width = Math.max(32, this.box.width - data.delta.x);\n\t\t}\n\n\t\tif (className.indexOf('t') >= 0) {\n\t\t\tthis.previewBox.height = Math.max(\n\t\t\t\t32,\n\t\t\t\tthis.box.height - data.delta.y\n\t\t\t);\n\t\t}\n\n\t\tif (className.indexOf('m') < 0 && !data.keys.shift) {\n\t\t\tconst ratio = this.box.width / this.box.height;\n\n\t\t\tif (this.previewBox.width / this.previewBox.height > ratio) {\n\t\t\t\tthis.previewBox.height = Math.round(\n\t\t\t\t\tthis.previewBox.width / ratio\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.previewBox.width = Math.round(\n\t\t\t\t\tthis.previewBox.height * ratio\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (className.indexOf('l') >= 0) {\n\t\t\tthis.previewBox.left = this.box.width - this.previewBox.width;\n\t\t}\n\n\t\tif (className.indexOf('t') >= 0) {\n\t\t\tthis.previewBox.top = this.box.height - this.previewBox.height;\n\t\t}\n\t}\n\n\tresizeComplete() {\n\t\tthis.cfg.onComplete(this.el, this.result.width, this.result.height);\n\t}\n}\n\nexport {Resizer};\nexport default Resizer;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nclass DragEvent {\n\tconstructor(window, document) {\n\t\tthis.document = document;\n\t\tthis.window = window;\n\n\t\tthis.events = {\n\t\t\tkeydown: this.keydown.bind(this),\n\t\t\tmousemove: this.mousemove.bind(this),\n\t\t\tmouseup: this.mouseup.bind(this),\n\t\t};\n\t}\n\n\tstart(event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tthis.target = event.target;\n\n\t\tthis.className = this.target.className;\n\n\t\tthis.startPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t};\n\n\t\tthis.update(event);\n\n\t\tthis.document.addEventListener('keydown', this.events.keydown, false);\n\t\tthis.document.addEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.events.mousemove,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.addEventListener('mouseup', this.events.mouseup, false);\n\n\t\tthis.document.body.classList.add(`dragging-${this.className}`);\n\n\t\tif (typeof this.onStart === 'function') {\n\t\t\tthis.onStart();\n\t\t}\n\t}\n\n\tupdate(event) {\n\t\tthis.currentPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t};\n\n\t\tthis.delta = {\n\t\t\tx: event.clientX - this.startPos.x,\n\t\t\ty: event.clientY - this.startPos.y,\n\t\t};\n\n\t\tthis.keys = {\n\t\t\talt: event.altKey,\n\t\t\tctrl: event.ctrlKey,\n\t\t\tshift: event.shiftKey,\n\t\t};\n\t}\n\n\tmousemove(event) {\n\t\tthis.update(event);\n\n\t\tif (typeof this.onDrag === 'function') {\n\t\t\tthis.onDrag();\n\t\t}\n\n\t\tif (event.which === 0) {\n\t\t\tthis.mouseup(event);\n\t\t}\n\t}\n\n\tkeydown(event) {\n\t\tif (event.keyCode === 27) {\n\t\t\tthis.release();\n\t\t}\n\t}\n\n\tmouseup(event) {\n\t\tthis.update(event);\n\n\t\tthis.release();\n\n\t\tif (typeof this.onComplete === 'function') {\n\t\t\tthis.onComplete();\n\t\t}\n\t}\n\n\trelease() {\n\t\tthis.document.body.classList.remove(`dragging-${this.className}`);\n\n\t\tthis.document.removeEventListener(\n\t\t\t'keydown',\n\t\t\tthis.events.keydown,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.removeEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.events.mousemove,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.removeEventListener(\n\t\t\t'mouseup',\n\t\t\tthis.events.mouseup,\n\t\t\tfalse\n\t\t);\n\n\t\tif (typeof this.onRelease === 'function') {\n\t\t\tthis.onRelease();\n\t\t}\n\t}\n}\n\nexport {DragEvent};\nexport default DragEvent;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport SelectionTest from '../selections/selection-test';\n\nif (!CKEDITOR.plugins.get('ae_imagealignment')) {\n\t/**\n\t * Enum for supported image alignments\n\t * @type {Object}\n\t */\n\tconst IMAGE_ALIGNMENT = {\n\t\tCENTER: 'center',\n\t\tLEFT: 'left',\n\t\tRIGHT: 'right',\n\t};\n\n\t/**\n\t * Enum values for supported image alignments\n\t * @type {Array}\n\t */\n\tconst ALIGN_VALUES = [\n\t\tIMAGE_ALIGNMENT.LEFT,\n\t\tIMAGE_ALIGNMENT.RIGHT,\n\t\tIMAGE_ALIGNMENT.CENTER,\n\t];\n\n\t/**\n\t * Necessary styles for the left|center|right alignment\n\t * @type {Array.<Object>}\n\t */\n\tconst IMAGE_STYLE_ALIGNMENT = {\n\t\t[IMAGE_ALIGNMENT.LEFT]: [\n\t\t\t{\n\t\t\t\tname: 'display',\n\t\t\t\tvalue: 'inline-block',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'float',\n\t\t\t\tvalue: 'left',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'margin-right',\n\t\t\t\tvalue: '1.2rem',\n\t\t\t},\n\t\t],\n\t\t[IMAGE_ALIGNMENT.CENTER]: [\n\t\t\t{\n\t\t\t\tname: 'display',\n\t\t\t\tvalue: 'block',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'margin-left',\n\t\t\t\tvalue: 'auto',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'margin-right',\n\t\t\t\tvalue: 'auto',\n\t\t\t},\n\t\t],\n\t\t[IMAGE_ALIGNMENT.RIGHT]: [\n\t\t\t{\n\t\t\t\tname: 'display',\n\t\t\t\tvalue: 'inline-block',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'float',\n\t\t\t\tvalue: 'right',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'margin-left',\n\t\t\t\tvalue: '1.2rem',\n\t\t\t},\n\t\t],\n\t};\n\n\t/**\n\t * Retrieves the alignment value of an image.\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @return {String} The alignment value\n\t */\n\tconst getImageAlignment = function(image) {\n\t\tlet imageAlignment = image.getStyle('float');\n\n\t\tif (\n\t\t\t!imageAlignment ||\n\t\t\timageAlignment === 'inherit' ||\n\t\t\timageAlignment === 'none'\n\t\t) {\n\t\t\timageAlignment = image.getAttribute('align');\n\t\t}\n\n\t\tif (!imageAlignment) {\n\t\t\tlet centeredImage = IMAGE_STYLE_ALIGNMENT[\n\t\t\t\tIMAGE_ALIGNMENT.CENTER\n\t\t\t].every(style => {\n\t\t\t\tlet styleCheck = image.getStyle(style.name) === style.value;\n\n\t\t\t\tif (!styleCheck && style.vendorPrefixes) {\n\t\t\t\t\tstyleCheck = style.vendorPrefixes.some(vendorPrefix => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\timage.getStyle(vendorPrefix + style.name) ===\n\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn styleCheck;\n\t\t\t});\n\n\t\t\tif (!imageAlignment) {\n\t\t\t\tconst imageContainer = image.$.parentNode;\n\n\t\t\t\tif (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {\n\t\t\t\t\tIMAGE_STYLE_ALIGNMENT[IMAGE_ALIGNMENT.CENTER].forEach(\n\t\t\t\t\t\tstyle => {\n\t\t\t\t\t\t\timage.setStyle(style.name, style.value);\n\n\t\t\t\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix => {\n\t\t\t\t\t\t\t\t\timage.setStyle(\n\t\t\t\t\t\t\t\t\t\tvendorPrefix + style.name,\n\t\t\t\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tcenteredImage = true;\n\t\t\t\t\timageContainer.style.textAlign = '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\timageAlignment = centeredImage ? IMAGE_ALIGNMENT.CENTER : null;\n\t\t}\n\n\t\tif (!CKEDITOR.env.edge && CKEDITOR.env.ie) {\n\t\t\tconst p = image.findOne('p');\n\t\t\tif (p) {\n\t\t\t\timageAlignment = p.getStyle('text-align');\n\t\t\t}\n\t\t}\n\n\t\treturn imageAlignment;\n\t};\n\n\t/**\n\t * Removes the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be removed\n\t */\n\tconst removeImageAlignment = function(image, imageAlignment) {\n\t\tif (\n\t\t\timageAlignment === IMAGE_ALIGNMENT.LEFT ||\n\t\t\timageAlignment === IMAGE_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tif (imageAlignment === getImageAlignment(image)) {\n\t\t\t\timage.removeAttribute('align');\n\t\t\t}\n\t\t} else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {\n\t\t\tconst imageContainer = image.$.parentNode;\n\n\t\t\tif (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {\n\t\t\t\timageContainer.style.textAlign = '';\n\t\t\t}\n\t\t}\n\n\t\tconst styles = IMAGE_STYLE_ALIGNMENT[imageAlignment];\n\n\t\tif (styles) {\n\t\t\tstyles.forEach(style => {\n\t\t\t\timage.removeStyle(style.name);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix => {\n\t\t\t\t\t\timage.removeStyle(vendorPrefix + style.name);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Sets the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be set\n\t */\n\tconst setImageAlignment = function(image, imageAlignment) {\n\t\tremoveImageAlignment(image, getImageAlignment(image));\n\n\t\tconst styles = IMAGE_STYLE_ALIGNMENT[imageAlignment];\n\n\t\tif (styles) {\n\t\t\tstyles.forEach(style => {\n\t\t\t\timage.setStyle(style.name, style.value);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix => {\n\t\t\t\t\t\timage.setStyle(vendorPrefix + style.name, style.value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * CKEditor plugin which modifies the justify commands to properly align images. This\n\t * plugin is an excerpt of CKEditor's original image one that can be found at\n\t * https://github.com/ckeditor/ckeditor-dev/blob/master/plugins/image/plugin.js\n\t *\n\t * @class CKEDITOR.plugins.ae_imagealignment\n\t */\n\tCKEDITOR.plugins.add('ae_imagealignment', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'paste' event on the editing area.\n\t\t *\n\t\t * @method afterInit\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tafterInit(editor) {\n\t\t\tconst self = this;\n\n\t\t\tALIGN_VALUES.forEach(value => {\n\t\t\t\tconst command = editor.getCommand('justify' + value);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.on('exec', event => {\n\t\t\t\t\t\tconst selectionData = editor.getSelectionData();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tselectionData &&\n\t\t\t\t\t\t\tSelectionTest.image({\n\t\t\t\t\t\t\t\tdata: {selectionData},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst image = selectionData.element;\n\n\t\t\t\t\t\t\tconst imageAlignment = getImageAlignment(image);\n\n\t\t\t\t\t\t\tif (imageAlignment === value) {\n\t\t\t\t\t\t\t\tremoveImageAlignment(image, value);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetImageAlignment(image, value);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tevent.cancel();\n\n\t\t\t\t\t\t\tself.refreshCommands(\n\t\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\t\tnew CKEDITOR.dom.elementPath(image)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tcommand.on('refresh', function(event) {\n\t\t\t\t\t\tconst selectionData = {\n\t\t\t\t\t\t\telement: event.data.path.lastElement,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tSelectionTest.image({\n\t\t\t\t\t\t\t\tdata: {selectionData},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst imageAlignment = getImageAlignment(\n\t\t\t\t\t\t\t\tselectionData.element\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\timageAlignment === value\n\t\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Forces a refresh of the modified justify commands. This is needed because the applied changes\n\t\t * do not modify the selection, so the refresh is never triggered and the UI does not update\n\t\t * properly until the next selectionChange event.\n\t\t *\n\t\t * @param {CKEDITOR.editor} editor The editor instance\n\t\t * @param {CKEDITOR.dom.elementPath} elementPath The path of the selected image\n\t\t */\n\t\trefreshCommands(editor, elementPath) {\n\t\t\tALIGN_VALUES.forEach(value => {\n\t\t\t\tconst command = editor.getCommand('justify' + value);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.refresh(editor, elementPath);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_pasteimages')) {\n\t/**\n\t * CKEditor plugin which allows pasting images directly into the editable area. The image will be encoded\n\t * as Data URI. An event `beforeImageAdd` will be fired with the list of pasted images. If any of the listeners\n\t * returns `false` or cancels the event, the images won't be added to the content. Otherwise,\n\t * an event `imageAdd` will be fired with the inserted element into the editable area.\n\t *\n\t * @class CKEDITOR.plugins.ae_pasteimages\n\t */\n\n\t/**\n\t * Fired before adding images to the editor.\n\t * @event beforeImageAdd\n\t * @param {Array} imageFiles Array of image files\n\t */\n\n\t/**\n\t * Fired when an image is being added to the editor successfully.\n\t *\n\t * @event imageAdd\n\t * @param {CKEDITOR.dom.element} el The created image with src as Data URI\n\t * @param {File} file The image file\n\t */\n\n\tCKEDITOR.plugins.add('ae_pasteimages', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'paste' event on the editing area.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'paste',\n\t\t\t\t\tthis._onPaste,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * The function creates an img element with src the image data as Data URI.\n\t\t * Then, it fires an 'imageAdd' event via CKEditor's event system. The passed\n\t\t * params will be:\n\t\t * - `el` - the created img element\n\t\t * - `file` - the original pasted data\n\t\t *\n\t\t * @method _onPaste\n\t\t * @protected\n\t\t * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor\n\t\t */\n\t\t_onPaste(event) {\n\t\t\tif (event.data.$.clipboardData) {\n\t\t\t\tconst pastedData = event.data.$.clipboardData.items[0];\n\t\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\t\tif (pastedData.type.indexOf('image') === 0) {\n\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\tconst imageFile = pastedData.getAsFile();\n\n\t\t\t\t\treader.onload = function(event) {\n\t\t\t\t\t\tconst result = editor.fire('beforeImageAdd', {\n\t\t\t\t\t\t\timageFiles: imageFile,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t\t\t\t'<img src=\"' + event.target.result + '\">'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\teditor.insertElement(el);\n\n\t\t\t\t\t\t\tconst imageData = {\n\t\t\t\t\t\t\t\tel,\n\t\t\t\t\t\t\t\tfile: imageFile,\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\treader.readAsDataURL(imageFile);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_placeholder')) {\n\t/**\n\t * CKEDITOR enterMode config set the behavior of paragraphs\n\t * When the content is empty CKEDITOR keeps the enterMode string\n\t * into the content\n\t * @property\n\t * @type {string}\n\t */\n\tconst brFiller = CKEDITOR.env.needsBrFiller ? '<br>' : '';\n\n\tconst enterModeEmptyValue = {\n\t\t1: ['<p>' + brFiller + '</p>'],\n\t\t2: ['', ' ', brFiller],\n\t\t3: ['<div>' + brFiller + '</div>'],\n\t};\n\n\t/**\n\t * CKEditor plugin which allows adding a placeholder to the editor. In this case, if there\n\t * is no content to the editor, there will be hint to the user.\n\t *\n\t * @class CKEDITOR.plugins.ae_placeholder\n\t */\n\n\t/**\n\t * Specifies the placeholder class which have to be aded to editor when editor is not focused.\n\t *\n\t * @attribute placeholderClass\n\t * @default ae_placeholder\n\t * @type String\n\t */\n\n\tCKEDITOR.plugins.add('ae_placeholder', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'blur' and 'contentDom' event listeners.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\teditor.on('blur', this._checkEmptyData, this);\n\t\t\teditor.on('change', this._checkEmptyData, this);\n\t\t\teditor.on('focus', this._removePlaceholderClass, this);\n\t\t\teditor.once('contentDom', this._checkEmptyData, this);\n\t\t},\n\n\t\t/**\n\t\t * Removes any data from the content and adds a class,\n\t\t * specified by the \"placeholderClass\" config attribute.\n\t\t *\n\t\t * @protected\n\t\t * @method _checkEmptyData\n\t\t * @param {CKEDITOR.dom.event} editor event, fired from CKEditor\n\t\t */\n\t\t_checkEmptyData(event) {\n\t\t\tconst editor = event.editor;\n\n\t\t\tconst editableNode = editor.editable();\n\n\t\t\tconst innerHtml = editableNode.$.innerHTML.trim();\n\n\t\t\tconst isEmpty = enterModeEmptyValue[editor.config.enterMode].some(\n\t\t\t\telement => {\n\t\t\t\t\treturn innerHtml === element;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (isEmpty) {\n\t\t\t\teditableNode.addClass(editor.config.placeholderClass);\n\t\t\t} else {\n\t\t\t\teditableNode.removeClass(editor.config.placeholderClass);\n\t\t\t}\n\t\t},\n\n\t\t/**\n             * Remove placeholder class when input is focused\n             *\n             * @protected\n             * @method _removePlaceholderClass\n             + @param {CKEDITOR.dom.event} editor event, fired from CKEditor\n             */\n\t\t_removePlaceholderClass(event) {\n\t\t\tconst editor = event.editor;\n\n\t\t\tconst editorNode = new CKEDITOR.dom.element(editor.element.$);\n\n\t\t\teditorNode.removeClass(editor.config.placeholderClass);\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_selectionkeystrokes')) {\n\t/**\n\t * CKEditor plugin that simulates editor interaction events based on manual keystrokes. This\n\t * can be used to trigger different reactions in the editor.\n\t *\n\t * @class CKEDITOR.plugins.ae_selectionkeystrokes\n\t */\n\tCKEDITOR.plugins.add('ae_selectionkeystrokes', {\n\t\trequires: 'ae_selectionregion',\n\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function adds a command to the editor for every defined selectionKeystroke\n\t\t * in the configuration and maps it to the specified keystroke.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\tif (editor.config.selectionKeystrokes) {\n\t\t\t\teditor.config.selectionKeystrokes.forEach(\n\t\t\t\t\tselectionKeystroke => {\n\t\t\t\t\t\tconst command = new CKEDITOR.command(editor, {\n\t\t\t\t\t\t\texec(editor) {\n\t\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\t\tmanualSelection:\n\t\t\t\t\t\t\t\t\t\tselectionKeystroke.selection,\n\t\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\t\tselectionData: editor.getSelectionData(),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst commandName =\n\t\t\t\t\t\t\t'selectionKeystroke' + selectionKeystroke.selection;\n\n\t\t\t\t\t\teditor.addCommand(commandName, command);\n\t\t\t\t\t\teditor.setKeystroke(\n\t\t\t\t\t\t\tselectionKeystroke.keys,\n\t\t\t\t\t\t\tcommandName\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nif (!CKEDITOR.plugins.get('ae_tableresize')) {\n\tconst pxUnit = CKEDITOR.tools.cssLength;\n\n\tfunction getWidth(el) {\n\t\treturn CKEDITOR.env.ie\n\t\t\t? el.$.clientWidth\n\t\t\t: parseInt(el.getComputedStyle('width'), 10);\n\t}\n\n\tfunction getBorderWidth(element, side) {\n\t\tlet computed = element.getComputedStyle('border-' + side + '-width');\n\n\t\tconst borderMap = {\n\t\t\tthin: '0px',\n\t\t\tmedium: '1px',\n\t\t\tthick: '2px',\n\t\t};\n\n\t\tif (computed.indexOf('px') < 0) {\n\t\t\t// look up keywords\n\t\t\tif (\n\t\t\t\tcomputed in borderMap &&\n\t\t\t\telement.getComputedStyle('border-style') != 'none'\n\t\t\t) {\n\t\t\t\tcomputed = borderMap[computed];\n\t\t\t} else {\n\t\t\t\tcomputed = 0;\n\t\t\t}\n\t\t}\n\n\t\treturn parseInt(computed, 10);\n\t}\n\n\t// Gets the table row that contains the most columns.\n\tfunction getMasterPillarRow(table) {\n\t\tconst $rows = table.$.rows;\n\n\t\tlet maxCells = 0;\n\n\t\tlet cellsCount;\n\n\t\tlet $elected;\n\n\t\tlet $tr;\n\n\t\tfor (let i = 0, len = $rows.length; i < len; i++) {\n\t\t\t$tr = $rows[i];\n\t\t\tcellsCount = $tr.cells.length;\n\n\t\t\tif (cellsCount > maxCells) {\n\t\t\t\tmaxCells = cellsCount;\n\t\t\t\t$elected = $tr;\n\t\t\t}\n\t\t}\n\n\t\treturn $elected;\n\t}\n\n\tfunction buildTableColumnPillars(table) {\n\t\tconst pillars = [];\n\n\t\tlet pillarIndex = -1;\n\n\t\tconst rtl = table.getComputedStyle('direction') === 'rtl';\n\n\t\t// Get the raw row element that cointains the most columns.\n\t\tconst $tr = getMasterPillarRow(table);\n\n\t\t// Get the tbody element and position, which will be used to set the\n\t\t// top and bottom boundaries.\n\t\tconst tbody = new CKEDITOR.dom.element(table.$.tBodies[0]);\n\n\t\tconst tbodyPosition = tbody.getDocumentPosition();\n\n\t\t// Loop thorugh all cells, building pillars after each one of them.\n\t\tfor (let i = 0, len = $tr.cells.length; i < len; i++) {\n\t\t\t// Both the current cell and the successive one will be used in the\n\t\t\t// pillar size calculation.\n\t\t\tconst td = new CKEDITOR.dom.element($tr.cells[i]);\n\n\t\t\tconst nextTd =\n\t\t\t\t$tr.cells[i + 1] && new CKEDITOR.dom.element($tr.cells[i + 1]);\n\n\t\t\tpillarIndex += td.$.colSpan || 1;\n\n\t\t\t// Calculate the pillar boundary positions.\n\t\t\tlet pillarLeft;\n\t\t\tlet pillarRight;\n\n\t\t\tlet x = td.getDocumentPosition().x;\n\n\t\t\t// Calculate positions based on the current cell.\n\t\t\tif (rtl) {\n\t\t\t\tpillarRight = x + getBorderWidth(td, 'left');\n\t\t\t} else {\n\t\t\t\tpillarLeft = x + td.$.offsetWidth - getBorderWidth(td, 'right');\n\t\t\t}\n\n\t\t\t// Calculate positions based on the next cell, if available.\n\t\t\tif (nextTd) {\n\t\t\t\tx = nextTd.getDocumentPosition().x;\n\n\t\t\t\tif (rtl) {\n\t\t\t\t\tpillarLeft =\n\t\t\t\t\t\tx +\n\t\t\t\t\t\tnextTd.$.offsetWidth -\n\t\t\t\t\t\tgetBorderWidth(nextTd, 'right');\n\t\t\t\t} else {\n\t\t\t\t\tpillarRight = x + getBorderWidth(nextTd, 'left');\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Otherwise calculate positions based on the table (for last cell).\n\t\t\telse {\n\t\t\t\tx = table.getDocumentPosition().x;\n\n\t\t\t\tif (rtl) {\n\t\t\t\t\tpillarLeft = x;\n\t\t\t\t} else {\n\t\t\t\t\tpillarRight = x + table.$.offsetWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst pillarWidth = Math.max(pillarRight - pillarLeft, 4);\n\n\t\t\t// The pillar should reflects exactly the shape of the hovered\n\t\t\t// column border line.\n\t\t\tpillars.push({\n\t\t\t\ttable,\n\t\t\t\tindex: pillarIndex,\n\t\t\t\tx: pillarLeft,\n\t\t\t\ty: tbodyPosition.y,\n\t\t\t\twidth: pillarWidth,\n\t\t\t\theight: tbody.$.offsetHeight,\n\t\t\t\trtl,\n\t\t\t});\n\t\t}\n\n\t\treturn pillars;\n\t}\n\n\tfunction getPillarAtPosition(pillars, positionX) {\n\t\tfor (let i = 0, len = pillars.length; i < len; i++) {\n\t\t\tconst pillar = pillars[i];\n\n\t\t\tif (positionX >= pillar.x && positionX <= pillar.x + pillar.width) {\n\t\t\t\treturn pillar;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction cancel(evt) {\n\t\t(evt.data || evt).preventDefault();\n\t}\n\n\tfunction ColumnResizer(editor, pillar) {\n\t\tlet currentShift;\n\t\tlet leftShiftBoundary;\n\t\tlet leftSideCells;\n\t\tlet resizing;\n\t\tlet rightShiftBoundary;\n\t\tlet rightSideCells;\n\t\tlet startOffset;\n\n\t\tconst document = editor.document;\n\n\t\tconst resizer = CKEDITOR.dom.element.createFromHtml(\n\t\t\t'<div data-cke-temp=1 contenteditable=false unselectable=on ' +\n\t\t\t\t'style=\"position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;' +\n\t\t\t\t'padding:0;background-color:#004;background-image:none;border:0px none;z-index:10\"></div>',\n\t\t\tdocument\n\t\t);\n\n\t\tconst isResizing = (this.isResizing = function() {\n\t\t\treturn resizing;\n\t\t});\n\n\t\tconst move = (this.move = function(posX) {\n\t\t\tlet resizerNewPosition =\n\t\t\t\tposX - Math.round(resizer.$.offsetWidth / 2);\n\n\t\t\tif (isResizing) {\n\t\t\t\tif (\n\t\t\t\t\tresizerNewPosition === leftShiftBoundary ||\n\t\t\t\t\tresizerNewPosition === rightShiftBoundary\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresizerNewPosition = Math.max(\n\t\t\t\t\tresizerNewPosition,\n\t\t\t\t\tleftShiftBoundary\n\t\t\t\t);\n\t\t\t\tresizerNewPosition = Math.min(\n\t\t\t\t\tresizerNewPosition,\n\t\t\t\t\trightShiftBoundary\n\t\t\t\t);\n\n\t\t\t\tcurrentShift = resizerNewPosition - startOffset;\n\t\t\t}\n\n\t\t\tresizer.setStyle('left', pxUnit(resizerNewPosition));\n\t\t});\n\n\t\tfunction detach() {\n\t\t\tresizer.removeListener('mouseup', onMouseUp);\n\t\t\tresizer.removeListener('mousedown', onMouseDown);\n\t\t\tresizer.removeListener('mousemove', onMouseMove);\n\t\t}\n\n\t\tfunction resizeStart() {\n\t\t\t// Before starting to resize, figure out which cells to change\n\t\t\t// and the boundaries of this resizing shift.\n\n\t\t\tconst columnIndex = pillar.index;\n\n\t\t\tconst map = CKEDITOR.tools.buildTableMap(pillar.table);\n\n\t\t\tconst leftColumnCells = [];\n\n\t\t\tconst rightColumnCells = [];\n\n\t\t\tlet leftMinSize = Number.MAX_VALUE;\n\n\t\t\tlet rightMinSize = leftMinSize;\n\n\t\t\tconst rtl = pillar.rtl;\n\n\t\t\tfor (let i = 0, len = map.length; i < len; i++) {\n\t\t\t\tconst row = map[i];\n\n\t\t\t\tlet leftCell = row[columnIndex + (rtl ? 1 : 0)];\n\n\t\t\t\tlet rightCell = row[columnIndex + (rtl ? 0 : 1)];\n\n\t\t\t\tleftCell = leftCell && new CKEDITOR.dom.element(leftCell);\n\t\t\t\trightCell = rightCell && new CKEDITOR.dom.element(rightCell);\n\n\t\t\t\tif (!leftCell || !rightCell || !leftCell.equals(rightCell)) {\n\t\t\t\t\tif (leftCell) {\n\t\t\t\t\t\tleftMinSize = Math.min(leftMinSize, getWidth(leftCell));\n\t\t\t\t\t}\n\t\t\t\t\tif (rightCell) {\n\t\t\t\t\t\trightMinSize = Math.min(\n\t\t\t\t\t\t\trightMinSize,\n\t\t\t\t\t\t\tgetWidth(rightCell)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tleftColumnCells.push(leftCell);\n\t\t\t\t\trightColumnCells.push(rightCell);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Cache the list of cells to be resized.\n\t\t\tleftSideCells = leftColumnCells;\n\t\t\trightSideCells = rightColumnCells;\n\n\t\t\t// Cache the resize limit boundaries.\n\t\t\tleftShiftBoundary = pillar.x - leftMinSize;\n\t\t\trightShiftBoundary = pillar.x + rightMinSize;\n\n\t\t\tresizer.setOpacity(0.5);\n\t\t\tstartOffset = parseInt(resizer.getStyle('left'), 10);\n\t\t\tcurrentShift = 0;\n\t\t\tresizing = 1;\n\n\t\t\tresizer.on('mousemove', onMouseMove);\n\n\t\t\t// Prevent the native drag behavior otherwise 'mousemove' won't fire.\n\t\t\tdocument.on('dragstart', cancel);\n\t\t}\n\n\t\tfunction resizeEnd() {\n\t\t\tresizing = 0;\n\n\t\t\tresizer.setOpacity(0);\n\n\t\t\tif (currentShift) {\n\t\t\t\tresizeColumn();\n\t\t\t}\n\n\t\t\tconst table = pillar.table;\n\t\t\tsetTimeout(() => {\n\t\t\t\ttable.removeCustomData('_cke_table_pillars');\n\t\t\t}, 0);\n\n\t\t\tdocument.removeListener('dragstart', cancel);\n\t\t}\n\n\t\tfunction resizeColumn() {\n\t\t\tconst rtl = pillar.rtl;\n\n\t\t\tconst cellsCount = rtl\n\t\t\t\t? rightSideCells.length\n\t\t\t\t: leftSideCells.length;\n\n\t\t\t// Perform the actual resize to table cells, only for those by side of the pillar.\n\t\t\tfor (let i = 0; i < cellsCount; i++) {\n\t\t\t\tconst leftCell = leftSideCells[i];\n\n\t\t\t\tconst rightCell = rightSideCells[i];\n\n\t\t\t\tconst table = pillar.table;\n\n\t\t\t\t// Defer the resizing to avoid any interference among cells.\n\t\t\t\tCKEDITOR.tools.setTimeout(\n\t\t\t\t\t(\n\t\t\t\t\t\tleftCell,\n\t\t\t\t\t\tleftOldWidth,\n\t\t\t\t\t\trightCell,\n\t\t\t\t\t\trightOldWidth,\n\t\t\t\t\t\ttableWidth,\n\t\t\t\t\t\tsizeShift\n\t\t\t\t\t) => {\n\t\t\t\t\t\t// 1px is the minimum valid width (#11626).\n\t\t\t\t\t\tif (leftCell) {\n\t\t\t\t\t\t\tleftCell.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(Math.max(leftOldWidth + sizeShift, 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rightCell) {\n\t\t\t\t\t\t\trightCell.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(Math.max(rightOldWidth - sizeShift, 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we're in the last cell, we need to resize the table as well\n\t\t\t\t\t\tif (tableWidth) {\n\t\t\t\t\t\t\ttable.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(tableWidth + sizeShift * (rtl ? -1 : 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t0,\n\t\t\t\t\tthis,\n\t\t\t\t\t[\n\t\t\t\t\t\tleftCell,\n\t\t\t\t\t\tleftCell && getWidth(leftCell),\n\t\t\t\t\t\trightCell,\n\t\t\t\t\t\trightCell && getWidth(rightCell),\n\t\t\t\t\t\t(!leftCell || !rightCell) &&\n\t\t\t\t\t\t\tgetWidth(table) +\n\t\t\t\t\t\t\t\tgetBorderWidth(table, 'left') +\n\t\t\t\t\t\t\t\tgetBorderWidth(table, 'right'),\n\t\t\t\t\t\tcurrentShift,\n\t\t\t\t\t]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfunction onMouseDown(evt) {\n\t\t\tcancel(evt);\n\n\t\t\tresizeStart();\n\n\t\t\tdocument.on('mouseup', onMouseUp, this);\n\t\t}\n\n\t\tfunction onMouseUp(evt) {\n\t\t\tevt.removeListener();\n\n\t\t\tresizeEnd();\n\t\t}\n\n\t\tfunction onMouseMove(evt) {\n\t\t\tmove(evt.data.getPageOffset().x);\n\t\t}\n\n\t\t// Clean DOM when editor is destroyed.\n\t\teditor.on('destroy', () => {\n\t\t\tdetach();\n\n\t\t\tresizer.remove();\n\t\t});\n\n\t\t// Place the resizer after body to prevent it\n\t\t// from being editable.\n\t\tdocument.getDocumentElement().append(resizer);\n\n\t\tresizer.setStyles({\n\t\t\twidth: pxUnit(pillar.width),\n\t\t\theight: pxUnit(pillar.height),\n\t\t\tleft: pxUnit(pillar.x),\n\t\t\ttop: pxUnit(pillar.y),\n\t\t});\n\n\t\tresizer.on('mousedown', onMouseDown, this);\n\n\t\tdocument.getBody().setStyle('cursor', 'col-resize');\n\n\t\t// Display the resizer to receive events but don't show it,\n\t\t// only change the cursor to resizable shape.\n\t\tresizer.show();\n\n\t\tthis.destroy = function() {\n\t\t\tdetach();\n\n\t\t\tdocument.getBody().setStyle('cursor', 'auto');\n\n\t\t\tresizer.remove();\n\t\t};\n\t}\n\n\tfunction clearPillarsCache(evt) {\n\t\tconst target = evt.data.getTarget();\n\n\t\tif (evt.name === 'mouseout') {\n\t\t\t// Bypass interal mouse move.\n\t\t\tif (!target.is('table')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet dest = new CKEDITOR.dom.element(\n\t\t\t\tevt.data.$.relatedTarget || evt.data.$.toElement\n\t\t\t);\n\t\t\twhile (dest && dest.$ && !dest.equals(target) && !dest.is('body')) {\n\t\t\t\tdest = dest.getParent();\n\t\t\t}\n\t\t\tif (!dest || dest.equals(target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\ttarget.getAscendant('table', 1).removeCustomData('_cke_table_pillars');\n\t\tevt.removeListener();\n\t}\n\n\tCKEDITOR.plugins.add('ae_tableresize', {\n\t\trequires: 'ae_tabletools',\n\n\t\tinit(editor) {\n\t\t\teditor.on('contentDom', () => {\n\t\t\t\tlet resizer;\n\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\t// In Classic editor it is better to use document\n\t\t\t\t// instead of editable so event will work below body.\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable.isInline() ? editable : editor.document,\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tevt => {\n\t\t\t\t\t\tevt = evt.data;\n\n\t\t\t\t\t\tconst target = evt.getTarget();\n\n\t\t\t\t\t\t// FF may return document and IE8 some UFO (object with no nodeType property...)\n\t\t\t\t\t\t// instead of an element (#11823).\n\t\t\t\t\t\tif (target.type !== CKEDITOR.NODE_ELEMENT) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst pageX = evt.getPageOffset().x;\n\n\t\t\t\t\t\t// If we're already attached to a pillar, simply move the\n\t\t\t\t\t\t// resizer.\n\t\t\t\t\t\tif (resizer) {\n\t\t\t\t\t\t\tif (resizer.isResizing()) {\n\t\t\t\t\t\t\t\tresizer.move(pageX);\n\n\t\t\t\t\t\t\t\tcancel(evt);\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresizer.destroy();\n\n\t\t\t\t\t\t\t\tresizer = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Considering table, tr, td, tbody but nothing else.\n\t\t\t\t\t\tlet pillars;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!target.is('table') &&\n\t\t\t\t\t\t\t!target.getAscendant('tbody', 1)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst table = target.getAscendant('table', 1);\n\n\t\t\t\t\t\t// Make sure the table we found is inside the container\n\t\t\t\t\t\t// (eg. we should not use tables the editor is embedded within)\n\t\t\t\t\t\tif (!editor.editable().contains(table)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!(pillars = table.getCustomData(\n\t\t\t\t\t\t\t\t'_cke_table_pillars'\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Cache table pillars calculation result.\n\t\t\t\t\t\t\ttable.setCustomData(\n\t\t\t\t\t\t\t\t'_cke_table_pillars',\n\t\t\t\t\t\t\t\t(pillars = buildTableColumnPillars(table))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttable.on('mouseout', clearPillarsCache);\n\t\t\t\t\t\t\ttable.on('mousedown', clearPillarsCache);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst pillar = getPillarAtPosition(pillars, pageX);\n\n\t\t\t\t\t\tif (pillar) {\n\t\t\t\t\t\t\tresizer = new ColumnResizer(editor, pillar);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nif (!CKEDITOR.plugins.get('ae_tabletools')) {\n\tconst cellNodeRegex = /^(?:td|th)$/;\n\n\tfunction getSelectedCells(selection) {\n\t\tconst ranges = selection.getRanges();\n\t\tconst retval = [];\n\t\tconst database = {};\n\n\t\tfunction moveOutOfCellGuard(node) {\n\t\t\t// Apply to the first cell only.\n\t\t\tif (retval.length > 0) return;\n\n\t\t\t// If we are exiting from the first </td>, then the td should definitely be\n\t\t\t// included.\n\t\t\tif (\n\t\t\t\tnode.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\tcellNodeRegex.test(node.getName()) &&\n\t\t\t\t!node.getCustomData('selected_cell')\n\t\t\t) {\n\t\t\t\tCKEDITOR.dom.element.setMarker(\n\t\t\t\t\tdatabase,\n\t\t\t\t\tnode,\n\t\t\t\t\t'selected_cell',\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tretval.push(node);\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < ranges.length; i++) {\n\t\t\tconst range = ranges[i];\n\n\t\t\tif (range.collapsed) {\n\t\t\t\t// Walker does not handle collapsed ranges yet - fall back to old API.\n\t\t\t\tconst startNode = range.getCommonAncestor();\n\t\t\t\tconst nearestCell =\n\t\t\t\t\tstartNode.getAscendant('td', true) ||\n\t\t\t\t\tstartNode.getAscendant('th', true);\n\t\t\t\tif (nearestCell) retval.push(nearestCell);\n\t\t\t} else {\n\t\t\t\tconst walker = new CKEDITOR.dom.walker(range);\n\t\t\t\tlet node;\n\t\t\t\twalker.guard = moveOutOfCellGuard;\n\n\t\t\t\twhile ((node = walker.next())) {\n\t\t\t\t\t// If may be possible for us to have a range like this:\n\t\t\t\t\t// <td>^1</td><td>^2</td>\n\t\t\t\t\t// The 2nd td shouldn't be included.\n\t\t\t\t\t//\n\t\t\t\t\t// So we have to take care to include a td we've entered only when we've\n\t\t\t\t\t// walked into its children.\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tnode.type != CKEDITOR.NODE_ELEMENT ||\n\t\t\t\t\t\t!node.is(CKEDITOR.dtd.table)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst parent =\n\t\t\t\t\t\t\tnode.getAscendant('td', true) ||\n\t\t\t\t\t\t\tnode.getAscendant('th', true);\n\t\t\t\t\t\tif (parent && !parent.getCustomData('selected_cell')) {\n\t\t\t\t\t\t\tCKEDITOR.dom.element.setMarker(\n\t\t\t\t\t\t\t\tdatabase,\n\t\t\t\t\t\t\t\tparent,\n\t\t\t\t\t\t\t\t'selected_cell',\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tretval.push(parent);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\n\t\treturn retval;\n\t}\n\n\tfunction getFocusElementAfterDelCells(cellsToDelete) {\n\t\tlet i = 0;\n\n\t\tconst last = cellsToDelete.length - 1;\n\n\t\tconst database = {};\n\n\t\tlet cell;\n\n\t\tlet focusedCell;\n\n\t\tlet tr;\n\n\t\twhile ((cell = cellsToDelete[i++]))\n\t\t\tCKEDITOR.dom.element.setMarker(database, cell, 'delete_cell', true);\n\n\t\t// 1.first we check left or right side focusable cell row by row;\n\t\ti = 0;\n\t\twhile ((cell = cellsToDelete[i++])) {\n\t\t\tif (\n\t\t\t\t((focusedCell = cell.getPrevious()) &&\n\t\t\t\t\t!focusedCell.getCustomData('delete_cell')) ||\n\t\t\t\t((focusedCell = cell.getNext()) &&\n\t\t\t\t\t!focusedCell.getCustomData('delete_cell'))\n\t\t\t) {\n\t\t\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\t\t\t\treturn focusedCell;\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\n\t\t// 2. then we check the toppest row (outside the selection area square) focusable cell\n\t\ttr = cellsToDelete[0].getParent();\n\t\tif ((tr = tr.getPrevious())) return tr.getLast();\n\n\t\t// 3. last we check the lowerest  row focusable cell\n\t\ttr = cellsToDelete[last].getParent();\n\t\tif ((tr = tr.getNext())) return tr.getChild(0);\n\n\t\treturn null;\n\t}\n\n\tfunction insertRow(editor, insertBefore) {\n\t\tconst selection = editor.getSelection();\n\n\t\tconst cells = getSelectedCells(selection);\n\n\t\tconst firstCell = cells[0];\n\n\t\tconst table = firstCell.getAscendant('table');\n\n\t\tconst doc = firstCell.getDocument();\n\n\t\tconst startRow = cells[0].getParent();\n\n\t\tconst startRowIndex = startRow.$.rowIndex;\n\n\t\tconst lastCell = cells[cells.length - 1];\n\n\t\tconst endRowIndex =\n\t\t\tlastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;\n\n\t\tconst endRow = new CKEDITOR.dom.element(table.$.rows[endRowIndex]);\n\n\t\tconst rowIndex = insertBefore ? startRowIndex : endRowIndex;\n\n\t\tconst row = insertBefore ? startRow : endRow;\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst cloneRow = map[rowIndex];\n\n\t\tconst nextRow = insertBefore ? map[rowIndex - 1] : map[rowIndex + 1];\n\n\t\tconst width = map[0].length;\n\n\t\tconst newRow = doc.createElement('tr');\n\t\tfor (let i = 0; cloneRow[i] && i < width; i++) {\n\t\t\tlet cell;\n\t\t\t// Check whether there's a spanning row here, do not break it.\n\t\t\tif (\n\t\t\t\tcloneRow[i].rowSpan > 1 &&\n\t\t\t\tnextRow &&\n\t\t\t\tcloneRow[i] == nextRow[i]\n\t\t\t) {\n\t\t\t\tcell = cloneRow[i];\n\t\t\t\tcell.rowSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element(cloneRow[i]).clone();\n\t\t\t\tcell.removeAttribute('rowSpan');\n\t\t\t\tcell.appendBogus();\n\t\t\t\tnewRow.append(cell);\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\ti += cell.colSpan - 1;\n\t\t}\n\n\t\tif (insertBefore) {\n\t\t\tnewRow.insertBefore(row);\n\t\t} else {\n\t\t\tnewRow.insertAfter(row);\n\t\t}\n\n\t\tconst cell = new CKEDITOR.dom.element(newRow.$).getChild(\n\t\t\tcells[0] ? cells[0].$.cellIndex : 0\n\t\t);\n\t\tselectElement(editor, cell);\n\t}\n\n\tfunction deleteRows(selectionOrRow) {\n\t\tif (selectionOrRow instanceof CKEDITOR.dom.selection) {\n\t\t\tconst cells = getSelectedCells(selectionOrRow);\n\n\t\t\tconst firstCell = cells[0];\n\n\t\t\tconst table = firstCell.getAscendant('table');\n\n\t\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\t\tconst startRow = cells[0].getParent();\n\n\t\t\tconst startRowIndex = startRow.$.rowIndex;\n\n\t\t\tconst lastCell = cells[cells.length - 1];\n\n\t\t\tconst endRowIndex =\n\t\t\t\tlastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;\n\n\t\t\tconst rowsToDelete = [];\n\n\t\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\t\tfor (let i = startRowIndex; i <= endRowIndex; i++) {\n\t\t\t\tconst mapRow = map[i];\n\n\t\t\t\tconst row = new CKEDITOR.dom.element(table.$.rows[i]);\n\n\t\t\t\tfor (let j = 0; j < mapRow.length; j++) {\n\t\t\t\t\tconst cell = new CKEDITOR.dom.element(mapRow[j]);\n\n\t\t\t\t\tconst cellRowIndex = cell.getParent().$.rowIndex;\n\n\t\t\t\t\tif (cell.$.rowSpan == 1) cell.remove();\n\t\t\t\t\t// Row spanned cell.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Span row of the cell, reduce spanning.\n\t\t\t\t\t\tcell.$.rowSpan -= 1;\n\t\t\t\t\t\t// Root row of the cell, root cell to next row.\n\t\t\t\t\t\tif (cellRowIndex == i) {\n\t\t\t\t\t\t\tconst nextMapRow = map[i + 1];\n\t\t\t\t\t\t\tif (nextMapRow[j - 1]) {\n\t\t\t\t\t\t\t\tcell.insertAfter(\n\t\t\t\t\t\t\t\t\tnew CKEDITOR.dom.element(nextMapRow[j - 1])\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnew CKEDITOR.dom.element(\n\t\t\t\t\t\t\t\t\ttable.$.rows[i + 1]\n\t\t\t\t\t\t\t\t).append(cell, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tj += cell.$.colSpan - 1;\n\t\t\t\t}\n\n\t\t\t\trowsToDelete.push(row);\n\t\t\t}\n\n\t\t\tconst rows = table.$.rows;\n\n\t\t\t// Where to put the cursor after rows been deleted?\n\t\t\t// 1. Into next sibling row if any;\n\t\t\t// 2. Into previous sibling row if any;\n\t\t\t// 3. Into table's parent element if it's the very last row.\n\t\t\tconst cursorPosition = new CKEDITOR.dom.element(\n\t\t\t\trows[endRowIndex + 1] ||\n\t\t\t\t\t(startRowIndex > 0 ? rows[startRowIndex - 1] : null) ||\n\t\t\t\t\ttable.$.parentNode\n\t\t\t);\n\n\t\t\tfor (let i = rowsToDelete.length; i >= 0; i--)\n\t\t\t\tdeleteRows(rowsToDelete[i]);\n\n\t\t\treturn cursorPosition;\n\t\t} else if (selectionOrRow instanceof CKEDITOR.dom.element) {\n\t\t\tconst table = selectionOrRow.getAscendant('table');\n\n\t\t\tif (table.$.rows.length == 1) table.remove();\n\t\t\telse selectionOrRow.remove();\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction getCellColIndex(cell, isStart) {\n\t\tconst row = cell.getParent();\n\n\t\tconst rowCells = row.$.cells;\n\n\t\tlet colIndex = 0;\n\t\tfor (let i = 0; i < rowCells.length; i++) {\n\t\t\tconst mapCell = rowCells[i];\n\t\t\tcolIndex += isStart ? 1 : mapCell.colSpan;\n\t\t\tif (mapCell == cell.$) break;\n\t\t}\n\n\t\treturn colIndex - 1;\n\t}\n\n\tfunction getColumnsIndices(cells, isStart) {\n\t\tlet retval = isStart ? Infinity : 0;\n\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\tconst colIndex = getCellColIndex(cells[i], isStart);\n\t\t\tif (isStart ? colIndex < retval : colIndex > retval)\n\t\t\t\tretval = colIndex;\n\t\t}\n\t\treturn retval;\n\t}\n\n\tfunction insertColumn(editor, insertBefore) {\n\t\tconst selection = editor.getSelection();\n\n\t\tconst cells = getSelectedCells(selection);\n\n\t\tconst firstCell = cells[0];\n\n\t\tconst table = firstCell.getAscendant('table');\n\n\t\tconst startCol = getColumnsIndices(cells, 1);\n\n\t\tconst lastCol = getColumnsIndices(cells);\n\n\t\tconst colIndex = insertBefore ? startCol : lastCol;\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst cloneCol = [];\n\n\t\tconst nextCol = [];\n\n\t\tconst height = map.length;\n\n\t\tfor (let i = 0; i < height; i++) {\n\t\t\tcloneCol.push(map[i][colIndex]);\n\t\t\tconst nextCell = insertBefore\n\t\t\t\t? map[i][colIndex - 1]\n\t\t\t\t: map[i][colIndex + 1];\n\t\t\tnextCol.push(nextCell);\n\t\t}\n\n\t\tconst insertedCells = [];\n\t\tfor (let i = 0; i < height; i++) {\n\t\t\tlet cell;\n\n\t\t\tif (!cloneCol[i]) continue;\n\n\t\t\t// Check whether there's a spanning column here, do not break it.\n\t\t\tif (cloneCol[i].colSpan > 1 && nextCol[i] == cloneCol[i]) {\n\t\t\t\tcell = cloneCol[i];\n\t\t\t\tcell.colSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element(cloneCol[i]).clone();\n\t\t\t\tcell.removeAttribute('colSpan');\n\t\t\t\tcell.appendBogus();\n\t\t\t\tcell[insertBefore ? 'insertBefore' : 'insertAfter'].call(\n\t\t\t\t\tcell,\n\t\t\t\t\tnew CKEDITOR.dom.element(cloneCol[i])\n\t\t\t\t);\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\tinsertedCells[i] = cell;\n\n\t\t\ti += cell.rowSpan - 1;\n\t\t}\n\n\t\tconst cell = new CKEDITOR.dom.element(\n\t\t\tinsertedCells[firstCell.getParent().$.rowIndex]\n\t\t);\n\t\tselectElement(editor, cell);\n\t}\n\n\tfunction selectElement(editor, element) {\n\t\tconst range = editor.createRange();\n\n\t\trange.moveToPosition(element, CKEDITOR.POSITION_AFTER_START);\n\t\teditor.getSelection().selectRanges([range]);\n\t}\n\n\tfunction deleteColumns(selectionOrCell) {\n\t\tconst cells = getSelectedCells(selectionOrCell);\n\n\t\tconst firstCell = cells[0];\n\n\t\tconst lastCell = cells[cells.length - 1];\n\n\t\tconst table = firstCell.getAscendant('table');\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet startColIndex;\n\n\t\tlet endColIndex;\n\n\t\tconst rowsToDelete = [];\n\n\t\tlet rows;\n\n\t\t// Figure out selected cells' column indices.\n\t\tfor (let i = 0, rows = map.length; i < rows; i++) {\n\t\t\t// eslint-disable-next-line sort-vars\n\t\t\tfor (let j = 0, cols = map[i].length; j < cols; j++) {\n\t\t\t\tif (map[i][j] == firstCell.$) startColIndex = j;\n\t\t\t\tif (map[i][j] == lastCell.$) endColIndex = j;\n\t\t\t}\n\t\t}\n\n\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\tfor (let i = startColIndex; i <= endColIndex; i++) {\n\t\t\tfor (let j = 0; j < map.length; j++) {\n\t\t\t\tconst mapRow = map[j];\n\n\t\t\t\tconst row = new CKEDITOR.dom.element(table.$.rows[j]);\n\n\t\t\t\tconst cell = new CKEDITOR.dom.element(mapRow[i]);\n\n\t\t\t\tif (cell.$) {\n\t\t\t\t\tif (cell.$.colSpan == 1) cell.remove();\n\t\t\t\t\t// Reduce the col spans.\n\t\t\t\t\telse cell.$.colSpan -= 1;\n\n\t\t\t\t\tj += cell.$.rowSpan - 1;\n\n\t\t\t\t\tif (!row.$.cells.length) rowsToDelete.push(row);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst firstRowCells = table.$.rows[0] && table.$.rows[0].cells;\n\n\t\t// Where to put the cursor after columns been deleted?\n\t\t// 1. Into next cell of the first row if any;\n\t\t// 2. Into previous cell of the first row if any;\n\t\t// 3. Into table's parent element;\n\t\tconst cursorPosition = new CKEDITOR.dom.element(\n\t\t\tfirstRowCells[startColIndex] ||\n\t\t\t\t(startColIndex\n\t\t\t\t\t? firstRowCells[startColIndex - 1]\n\t\t\t\t\t: table.$.parentNode)\n\t\t);\n\n\t\t// Delete table rows only if all columns are gone (do not remove empty row).\n\t\tif (rowsToDelete.length == rows) table.remove();\n\n\t\treturn cursorPosition;\n\t}\n\n\tfunction insertCell(selection, insertBefore) {\n\t\tconst startElement = selection.getStartElement();\n\t\tconst cell =\n\t\t\tstartElement.getAscendant('td', 1) ||\n\t\t\tstartElement.getAscendant('th', 1);\n\n\t\tif (!cell) return;\n\n\t\t// Create the new cell element to be added.\n\t\tconst newCell = cell.clone();\n\t\tnewCell.appendBogus();\n\n\t\tif (insertBefore) newCell.insertBefore(cell);\n\t\telse newCell.insertAfter(cell);\n\t}\n\n\tfunction deleteCells(selectionOrCell) {\n\t\tif (selectionOrCell instanceof CKEDITOR.dom.selection) {\n\t\t\tconst cellsToDelete = getSelectedCells(selectionOrCell);\n\t\t\tconst table =\n\t\t\t\tcellsToDelete[0] && cellsToDelete[0].getAscendant('table');\n\t\t\tconst cellToFocus = getFocusElementAfterDelCells(cellsToDelete);\n\n\t\t\tfor (let i = cellsToDelete.length - 1; i >= 0; i--)\n\t\t\t\tdeleteCells(cellsToDelete[i]);\n\n\t\t\tif (cellToFocus) placeCursorInCell(cellToFocus, true);\n\t\t\telse if (table) table.remove();\n\t\t} else if (selectionOrCell instanceof CKEDITOR.dom.element) {\n\t\t\tconst tr = selectionOrCell.getParent();\n\t\t\tif (tr.getChildCount() == 1) tr.remove();\n\t\t\telse selectionOrCell.remove();\n\t\t}\n\t}\n\n\t// Remove filler at end and empty spaces around the cell content.\n\tfunction trimCell(cell) {\n\t\tconst bogus = cell.getBogus();\n\t\tif (bogus) {\n\t\t\tbogus.remove();\n\t\t}\n\t\tcell.trim();\n\t}\n\n\tfunction placeCursorInCell(cell, placeAtEnd) {\n\t\tconst docInner = cell.getDocument();\n\n\t\tconst docOuter = CKEDITOR.document;\n\n\t\t// Fixing \"Unspecified error\" thrown in IE10 by resetting\n\t\t// selection the dirty and shameful way (#10308).\n\t\t// We can not apply this hack to IE8 because\n\t\t// it causes error (#11058).\n\t\tif (CKEDITOR.env.ie && CKEDITOR.env.version == 10) {\n\t\t\tdocOuter.focus();\n\t\t\tdocInner.focus();\n\t\t}\n\n\t\tconst range = new CKEDITOR.dom.range(docInner);\n\t\tif (\n\t\t\t!range['moveToElementEdit' + (placeAtEnd ? 'End' : 'Start')](cell)\n\t\t) {\n\t\t\trange.selectNodeContents(cell);\n\t\t\trange.collapse(placeAtEnd ? false : true);\n\t\t}\n\t\trange.select(true);\n\t}\n\n\tfunction cellInRow(tableMap, rowIndex, cell) {\n\t\tconst oRow = tableMap[rowIndex];\n\t\tif (typeof cell == 'undefined') return oRow;\n\n\t\tfor (let c = 0; oRow && c < oRow.length; c++) {\n\t\t\tif (cell.is && oRow[c] == cell.$) return c;\n\t\t\telse if (c == cell) return new CKEDITOR.dom.element(oRow[c]);\n\t\t}\n\t\treturn cell.is ? -1 : null;\n\t}\n\n\tfunction cellInCol(tableMap, colIndex) {\n\t\tconst oCol = [];\n\t\tfor (let r = 0; r < tableMap.length; r++) {\n\t\t\tconst row = tableMap[r];\n\t\t\toCol.push(row[colIndex]);\n\n\t\t\t// Avoid adding duplicate cells.\n\t\t\tif (row[colIndex].rowSpan > 1) r += row[colIndex].rowSpan - 1;\n\t\t}\n\t\treturn oCol;\n\t}\n\n\tfunction mergeCells(selection, mergeDirection, isDetect) {\n\t\tconst cells = getSelectedCells(selection);\n\n\t\t// Invalid merge request if:\n\t\t// 1. In batch mode despite that less than two selected.\n\t\t// 2. In solo mode while not exactly only one selected.\n\t\t// 3. Cells distributed in different table groups (e.g. from both thead and tbody).\n\t\tlet commonAncestor;\n\t\tif (\n\t\t\t(mergeDirection ? cells.length != 1 : cells.length < 2) ||\n\t\t\t((commonAncestor = selection.getCommonAncestor()) &&\n\t\t\t\tcommonAncestor.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\tcommonAncestor.is('table'))\n\t\t)\n\t\t\treturn false;\n\n\t\tlet cell;\n\n\t\tconst firstCell = cells[0];\n\n\t\tconst table = firstCell.getAscendant('table');\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst mapHeight = map.length;\n\n\t\tconst mapWidth = map[0].length;\n\n\t\tconst startRow = firstCell.getParent().$.rowIndex;\n\n\t\tconst startColumn = cellInRow(map, startRow, firstCell);\n\n\t\tif (mergeDirection) {\n\t\t\tlet targetCell;\n\t\t\ttry {\n\t\t\t\tconst rowspan =\n\t\t\t\t\tparseInt(firstCell.getAttribute('rowspan'), 10) || 1;\n\t\t\t\tconst colspan =\n\t\t\t\t\tparseInt(firstCell.getAttribute('colspan'), 10) || 1;\n\n\t\t\t\ttargetCell =\n\t\t\t\t\tmap[\n\t\t\t\t\t\tmergeDirection == 'up'\n\t\t\t\t\t\t\t? startRow - rowspan\n\t\t\t\t\t\t\t: mergeDirection == 'down'\n\t\t\t\t\t\t\t? startRow + rowspan\n\t\t\t\t\t\t\t: startRow\n\t\t\t\t\t][\n\t\t\t\t\t\tmergeDirection == 'left'\n\t\t\t\t\t\t\t? startColumn - colspan\n\t\t\t\t\t\t\t: mergeDirection == 'right'\n\t\t\t\t\t\t\t? startColumn + colspan\n\t\t\t\t\t\t\t: startColumn\n\t\t\t\t\t];\n\t\t\t} catch (er) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 1. No cell could be merged.\n\t\t\t// 2. Same cell actually.\n\t\t\tif (!targetCell || firstCell.$ == targetCell) return false;\n\n\t\t\t// Sort in map order regardless of the DOM sequence.\n\t\t\tcells[\n\t\t\t\tmergeDirection == 'up' || mergeDirection == 'left'\n\t\t\t\t\t? 'unshift'\n\t\t\t\t\t: 'push'\n\t\t\t](new CKEDITOR.dom.element(targetCell));\n\t\t}\n\n\t\t// Start from here are merging way ignorance (merge up/right, batch merge).\n\t\tconst doc = firstCell.getDocument();\n\n\t\tlet lastRowIndex = startRow;\n\n\t\tlet totalRowSpan = 0;\n\n\t\tlet totalColSpan = 0;\n\n\t\t// Use a documentFragment as buffer when appending cell contents.\n\n\t\tconst frag = !isDetect && new CKEDITOR.dom.documentFragment(doc);\n\n\t\tlet dimension = 0;\n\n\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\tcell = cells[i];\n\n\t\t\tconst tr = cell.getParent();\n\n\t\t\tconst cellFirstChild = cell.getFirst();\n\n\t\t\tconst colSpan = cell.$.colSpan;\n\n\t\t\tconst rowSpan = cell.$.rowSpan;\n\n\t\t\tconst rowIndex = tr.$.rowIndex;\n\n\t\t\tconst colIndex = cellInRow(map, rowIndex, cell);\n\n\t\t\t// Accumulated the actual places taken by all selected cells.\n\t\t\tdimension += colSpan * rowSpan;\n\t\t\t// Accumulated the maximum virtual spans from column and row.\n\t\t\ttotalColSpan = Math.max(\n\t\t\t\ttotalColSpan,\n\t\t\t\tcolIndex - startColumn + colSpan\n\t\t\t);\n\t\t\ttotalRowSpan = Math.max(\n\t\t\t\ttotalRowSpan,\n\t\t\t\trowIndex - startRow + rowSpan\n\t\t\t);\n\n\t\t\tif (!isDetect) {\n\t\t\t\t// Trim all cell fillers and check to remove empty cells.\n\t\t\t\tif ((trimCell(cell), cell.getChildren().count())) {\n\t\t\t\t\t// Merge vertically cells as two separated paragraphs.\n\t\t\t\t\tif (\n\t\t\t\t\t\trowIndex != lastRowIndex &&\n\t\t\t\t\t\tcellFirstChild &&\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcellFirstChild.isBlockBoundary &&\n\t\t\t\t\t\t\tcellFirstChild.isBlockBoundary({br: 1})\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst last = frag.getLast(\n\t\t\t\t\t\t\tCKEDITOR.dom.walker.whitespaces(true)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (last && !(last.is && last.is('br')))\n\t\t\t\t\t\t\tfrag.append('br');\n\t\t\t\t\t}\n\n\t\t\t\t\tcell.moveChildren(frag);\n\t\t\t\t}\n\t\t\t\tif (i) {\n\t\t\t\t\tcell.remove();\n\t\t\t\t} else {\n\t\t\t\t\tcell.setHtml('');\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastRowIndex = rowIndex;\n\t\t}\n\n\t\tif (!isDetect) {\n\t\t\tfrag.moveChildren(firstCell);\n\n\t\t\tfirstCell.appendBogus();\n\n\t\t\tif (totalColSpan >= mapWidth) firstCell.removeAttribute('rowSpan');\n\t\t\telse firstCell.$.rowSpan = totalRowSpan;\n\n\t\t\tif (totalRowSpan >= mapHeight) firstCell.removeAttribute('colSpan');\n\t\t\telse firstCell.$.colSpan = totalColSpan;\n\n\t\t\t// Swip empty <tr> left at the end of table due to the merging.\n\t\t\tconst trs = new CKEDITOR.dom.nodeList(table.$.rows);\n\n\t\t\tlet count = trs.count();\n\n\t\t\tfor (let i = count - 1; i >= 0; i--) {\n\t\t\t\tconst tailTr = trs.getItem(i);\n\t\t\t\tif (!tailTr.$.cells.length) {\n\t\t\t\t\ttailTr.remove();\n\t\t\t\t\tcount++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn firstCell;\n\t\t}\n\t\t// Be able to merge cells only if actual dimension of selected\n\t\t// cells equals to the caculated rectangle.\n\t\telse {\n\t\t\treturn totalRowSpan * totalColSpan == dimension;\n\t\t}\n\t}\n\n\tfunction verticalSplitCell(selection, isDetect) {\n\t\tconst cells = getSelectedCells(selection);\n\t\tif (cells.length > 1) return false;\n\t\telse if (isDetect) return true;\n\n\t\tconst cell = cells[0];\n\n\t\tconst tr = cell.getParent();\n\n\t\tconst table = tr.getAscendant('table');\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst rowIndex = tr.$.rowIndex;\n\n\t\tconst colIndex = cellInRow(map, rowIndex, cell);\n\n\t\tconst rowSpan = cell.$.rowSpan;\n\n\t\tlet newCell;\n\n\t\tlet newRowSpan;\n\n\t\tlet newCellRowSpan;\n\n\t\tlet newRowIndex;\n\n\t\tif (rowSpan > 1) {\n\t\t\tnewRowSpan = Math.ceil(rowSpan / 2);\n\t\t\tnewCellRowSpan = Math.floor(rowSpan / 2);\n\t\t\tnewRowIndex = rowIndex + newRowSpan;\n\t\t\tconst newCellTr = new CKEDITOR.dom.element(\n\t\t\t\ttable.$.rows[newRowIndex]\n\t\t\t);\n\n\t\t\tconst newCellRow = cellInRow(map, newRowIndex);\n\n\t\t\tlet candidateCell;\n\n\t\t\tnewCell = cell.clone();\n\n\t\t\t// Figure out where to insert the new cell by checking the vitual row.\n\t\t\tfor (let c = 0; c < newCellRow.length; c++) {\n\t\t\t\tcandidateCell = newCellRow[c];\n\t\t\t\t// Catch first cell actually following the column.\n\t\t\t\tif (candidateCell.parentNode == newCellTr.$ && c > colIndex) {\n\t\t\t\t\tnewCell.insertBefore(\n\t\t\t\t\t\tnew CKEDITOR.dom.element(candidateCell)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tcandidateCell = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// The destination row is empty, append at will.\n\t\t\tif (!candidateCell) newCellTr.append(newCell);\n\t\t} else {\n\t\t\tnewCellRowSpan = newRowSpan = 1;\n\n\t\t\tconst newCellTr = tr.clone();\n\t\t\tnewCellTr.insertAfter(tr);\n\t\t\tnewCellTr.append((newCell = cell.clone()));\n\n\t\t\tconst cellsInSameRow = cellInRow(map, rowIndex);\n\t\t\tfor (let i = 0; i < cellsInSameRow.length; i++)\n\t\t\t\tcellsInSameRow[i].rowSpan++;\n\t\t}\n\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.rowSpan = newRowSpan;\n\t\tnewCell.$.rowSpan = newCellRowSpan;\n\t\tif (newRowSpan == 1) cell.removeAttribute('rowSpan');\n\t\tif (newCellRowSpan == 1) newCell.removeAttribute('rowSpan');\n\n\t\treturn newCell;\n\t}\n\n\tfunction horizontalSplitCell(selection, isDetect) {\n\t\tconst cells = getSelectedCells(selection);\n\t\tif (cells.length > 1) return false;\n\t\telse if (isDetect) return true;\n\n\t\tconst cell = cells[0];\n\n\t\tconst tr = cell.getParent();\n\n\t\tconst table = tr.getAscendant('table');\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst rowIndex = tr.$.rowIndex;\n\n\t\tconst colIndex = cellInRow(map, rowIndex, cell);\n\n\t\tconst colSpan = cell.$.colSpan;\n\n\t\tlet newColSpan;\n\n\t\tlet newCellColSpan;\n\n\t\tif (colSpan > 1) {\n\t\t\tnewColSpan = Math.ceil(colSpan / 2);\n\t\t\tnewCellColSpan = Math.floor(colSpan / 2);\n\t\t} else {\n\t\t\tnewCellColSpan = newColSpan = 1;\n\t\t\tconst cellsInSameCol = cellInCol(map, colIndex);\n\t\t\tfor (let i = 0; i < cellsInSameCol.length; i++)\n\t\t\t\tcellsInSameCol[i].colSpan++;\n\t\t}\n\t\tconst newCell = cell.clone();\n\t\tnewCell.insertAfter(cell);\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.colSpan = newColSpan;\n\t\tnewCell.$.colSpan = newCellColSpan;\n\t\tif (newColSpan == 1) cell.removeAttribute('colSpan');\n\t\tif (newCellColSpan == 1) newCell.removeAttribute('colSpan');\n\n\t\treturn newCell;\n\t}\n\n\tCKEDITOR.plugins.add('ae_tabletools', {\n\t\tinit(editor) {\n\t\t\tfunction createDef(def) {\n\t\t\t\treturn CKEDITOR.tools.extend(def || {}, {\n\t\t\t\t\tcontextSensitive: 1,\n\t\t\t\t\trefresh(editor, path) {\n\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\tpath.contains({td: 1, th: 1}, 1)\n\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_DISABLED\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tfunction addCmd(name, def) {\n\t\t\t\tlet cmd = editor.getCommand(name);\n\n\t\t\t\tif (cmd) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcmd = editor.addCommand(name, def);\n\t\t\t\teditor.addFeature(cmd);\n\t\t\t}\n\n\t\t\taddCmd(\n\t\t\t\t'rowDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tplaceCursorInCell(deleteRows(selection));\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'rowInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tinsertRow(editor, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'rowInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tinsertRow(editor);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tconst element = deleteColumns(selection);\n\t\t\t\t\t\tif (element) {\n\t\t\t\t\t\t\tplaceCursorInCell(element, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tinsertColumn(editor, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tinsertColumn(editor);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tdeleteCells(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMerge',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan,rowspan]',\n\t\t\t\t\trequiredContent: 'td[colspan,rowspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection()),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMergeRight',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection(), 'right'),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMergeDown',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection(), 'down'),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellVerticalSplit',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tverticalSplitCell(editor.getSelection())\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellHorizontalSplit',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\thorizontalSplitCell(editor.getSelection())\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tinsertCell(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tinsertCell(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\n\t\tgetSelectedCells,\n\t});\n}\n\n/**\n * Create a two-dimension array that reflects the actual layout of table cells,\n * with cell spans, with mappings to the original td elements.\n *\n * @param {CKEDITOR.dom.element} table\n * @member CKEDITOR.tools\n */\nCKEDITOR.tools.buildTableMap = function(table) {\n\tconst aRows = table.$.rows;\n\n\t// Row and Column counters.\n\tlet r = -1;\n\n\tconst aMap = [];\n\n\tfor (let i = 0; i < aRows.length; i++) {\n\t\tr++;\n\t\tif (!aMap[r]) {\n\t\t\taMap[r] = [];\n\t\t}\n\n\t\tlet c = -1;\n\n\t\tfor (let j = 0; j < aRows[i].cells.length; j++) {\n\t\t\tconst oCell = aRows[i].cells[j];\n\n\t\t\tc++;\n\t\t\twhile (aMap[r][c]) c++;\n\n\t\t\tconst iColSpan = isNaN(oCell.colSpan) ? 1 : oCell.colSpan;\n\t\t\tconst iRowSpan = isNaN(oCell.rowSpan) ? 1 : oCell.rowSpan;\n\n\t\t\tfor (let rs = 0; rs < iRowSpan; rs++) {\n\t\t\t\tif (!aMap[r + rs]) aMap[r + rs] = [];\n\n\t\t\t\tfor (let cs = 0; cs < iColSpan; cs++) {\n\t\t\t\t\taMap[r + rs][c + cs] = aRows[i].cells[j];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc += iColSpan - 1;\n\t\t}\n\t}\n\treturn aMap;\n};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport './button.jsx';\n\nimport './menu-button.jsx';\n\nimport './menu.jsx';\n\nimport './panel-menu-button.jsx';\n\nimport './richcombo.jsx';\n\nimport './uibridge';\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_buttonbridge')) {\n\tconst BUTTON_DEFS = {};\n\n\t/**\n\t * Generates a ButtonBridge React class for a given button definition if it has not been\n\t * already created based on the button name and definition.\n\t *\n\t * @private\n\t * @method generateButtonBridge\n\t * @param {String} buttonName The button's name\n\t * @param {Object} buttonDefinition The button's definition\n\t * @return {Object} The generated or already existing React Button Class\n\t */\n\n\tfunction generateButtonBridge(buttonName, buttonDefinition, editor) {\n\t\tlet ButtonBridge = AlloyEditor.Buttons[buttonName];\n\n\t\tBUTTON_DEFS[editor.name] = BUTTON_DEFS[editor.name] || {};\n\t\tBUTTON_DEFS[editor.name][buttonName] =\n\t\t\tBUTTON_DEFS[editor.name][buttonName] || buttonDefinition;\n\n\t\tif (!ButtonBridge) {\n\t\t\tButtonBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = buttonName;\n\n\t\t\t\tstatic key = buttonName;\n\n\t\t\t\t// API not yet implemented inside the button\n\t\t\t\t// bridge. By mocking the unsupported method, we prevent\n\t\t\t\t// plugins from crashing if they make use of it.\n\t\t\t\ttoFeature() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tconst buttonDisplayName =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].name ||\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].command ||\n\t\t\t\t\t\tbuttonName;\n\n\t\t\t\t\tconst buttonLabel =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].label;\n\n\t\t\t\t\tconst buttonType = 'button-' + buttonDisplayName;\n\n\t\t\t\t\tconst iconClassName = 'ae-icon-' + buttonDisplayName;\n\n\t\t\t\t\tconst iconStyle = {};\n\n\t\t\t\t\tconst cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tbuttonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tconst cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\taria-label={buttonLabel}\n\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\tdata-type={buttonType}\n\t\t\t\t\t\t\tonClick={this._handleClick}\n\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\ttitle={buttonLabel}>\n\t\t\t\t\t\t\t<span className={iconClassName} style={iconStyle} />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_handleClick = () => {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst buttonCommand =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].command;\n\n\t\t\t\t\tconst buttonOnClick =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].onClick;\n\n\t\t\t\t\tif (buttonOnClick) {\n\t\t\t\t\t\tbuttonOnClick.call(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor.execCommand(buttonCommand);\n\t\t\t\t\t}\n\n\t\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[buttonName] = ButtonBridge;\n\t\t}\n\n\t\treturn ButtonBridge;\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('button')) {\n\t\tCKEDITOR.UI_BUTTON = 'button';\n\n\t\tCKEDITOR.plugins.add('button', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor Button plugin. It takes over the\n\t * responsibility of registering and creating buttons via:\n\t * - editor.ui.addButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_BUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_buttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_buttonbridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\teditor.ui.addButton = function(buttonName, buttonDefinition) {\n\t\t\t\tthis.add(buttonName, CKEDITOR.UI_BUTTON, buttonDefinition);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_BUTTON, {\n\t\t\t\tadd: generateButtonBridge,\n\t\t\t\tcreate(buttonDefinition) {\n\t\t\t\t\tconst buttonName =\n\t\t\t\t\t\t'buttonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tconst ButtonBridge = generateButtonBridge(\n\t\t\t\t\t\tbuttonName,\n\t\t\t\t\t\tbuttonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new ButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonDropdown from '../buttons/button-dropdown.jsx';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_menubuttonbridge')) {\n\tconst MENUBUTTON_DEFS = {};\n\n\t/**\n\t * Generates a MenuButtonBridge React class for a given menuButton definition if it has not been\n\t * already created based on the button name and definition.\n\t *\n\t * @private\n\t * @method generateMenuButtonBridge\n\t * @param {String} menuButtonName The menuButton's name\n\t * @param {Object} menuButtonDefinition The menuButton's definition\n\t * @return {Object} The generated or already existing React MenuButton Class\n\t */\n\tfunction generateMenuButtonBridge(\n\t\tmenuButtonName,\n\t\tmenuButtonDefinition,\n\t\teditor\n\t) {\n\t\tlet MenuButtonBridge = AlloyEditor.Buttons[menuButtonName];\n\n\t\tMENUBUTTON_DEFS[editor.name] = MENUBUTTON_DEFS[editor.name] || {};\n\t\tMENUBUTTON_DEFS[editor.name][menuButtonName] =\n\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName] ||\n\t\t\tmenuButtonDefinition;\n\n\t\tif (!MenuButtonBridge) {\n\t\t\tMenuButtonBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = menuButtonName;\n\n\t\t\t\tstatic key = menuButtonName;\n\n\t\t\t\t// API not yet implemented inside the menubutton\n\t\t\t\t// bridge. By mocking the unsupported method, we prevent\n\t\t\t\t// plugins from crashing if they make use of it.\n\t\t\t\ttoFeature() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst panelMenuButtonDisplayName =\n\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName].name ||\n\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName].command ||\n\t\t\t\t\t\tmenuButtonName;\n\n\t\t\t\t\tconst buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tconst iconClassName =\n\t\t\t\t\t\t'ae-icon-' + panelMenuButtonDisplayName;\n\n\t\t\t\t\tconst iconStyle = {};\n\n\t\t\t\t\tconst cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tpanelMenuButtonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tconst cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName]\n\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName]\n\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t\t\t\t<ButtonDropdown\n\t\t\t\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t\t\t{this._getMenuItems()}\n\t\t\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_getMenuItems() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\t\t\t\tconst items = menuButtonDefinition.onMenu();\n\t\t\t\t\tconst menuItems = Object.keys(items).map(key => {\n\t\t\t\t\t\tconst menuItem = editor.getMenuItem(key);\n\n\t\t\t\t\t\tif (!menuItem) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst menuItemDefinition =\n\t\t\t\t\t\t\tmenuItem.definition || menuItem;\n\t\t\t\t\t\tconst menuItemState = items[key];\n\n\t\t\t\t\t\tconst className =\n\t\t\t\t\t\t\t'ae-toolbar-element ' +\n\t\t\t\t\t\t\t(menuItemState === CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '');\n\t\t\t\t\t\tconst disabled =\n\t\t\t\t\t\t\tmenuItemState === CKEDITOR.TRISTATE_DISABLED;\n\t\t\t\t\t\tconst onClick = function() {\n\t\t\t\t\t\t\tif (menuItemDefinition.command) {\n\t\t\t\t\t\t\t\teditor.execCommand(menuItemDefinition.command);\n\t\t\t\t\t\t\t} else if (menuItemDefinition.onClick) {\n\t\t\t\t\t\t\t\tmenuItemDefinition.onClick.apply(\n\t\t\t\t\t\t\t\t\tmenuItemDefinition\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={menuItem.name} role=\"option\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tonClick={onClick}>\n\t\t\t\t\t\t\t\t\t{menuItemDefinition.label}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn menuItems;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[menuButtonName] = MenuButtonBridge;\n\t\t}\n\n\t\treturn MenuButtonBridge;\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('menubutton')) {\n\t\tCKEDITOR.UI_MENU_BUTTON = 'menubutton';\n\n\t\tCKEDITOR.plugins.add('menubutton', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor MenuButton plugin. It takes over the\n\t * responsibility of registering and creating menuButtons via:\n\t * - editor.ui.addMenuButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_MENUBUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_menubuttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @requires CKEDITOR.plugins.ae_menubridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_menubuttonbridge', {\n\t\trequires: ['ae_uibridge', 'ae_menubridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_MENUBUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\teditor.ui.addMenuButton = function(\n\t\t\t\tmenuButtonName,\n\t\t\t\tmenuButtonDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\tmenuButtonName,\n\t\t\t\t\tCKEDITOR.UI_MENUBUTTON,\n\t\t\t\t\tmenuButtonDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_MENUBUTTON, {\n\t\t\t\tadd: generateMenuButtonBridge,\n\t\t\t\tcreate(menuButtonDefinition) {\n\t\t\t\t\tconst menuButtonName =\n\t\t\t\t\t\t'buttonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tconst MenuButtonBridge = generateMenuButtonBridge(\n\t\t\t\t\t\tmenuButtonName,\n\t\t\t\t\t\tmenuButtonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new MenuButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_menubridge')) {\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor Menu plugin. It takes over the\n\t * responsibility of adding, removing and retrieving menu groups and items\n\t * - editor.addMenuGroup(name, order)\n\t * - editor.addMenuItem(name, definition)\n\t * - editor.addMenuItems(definitions)\n\t * - editor.getMenuItem(name)\n\t * - editor.removeMenuItem(name)\n\t *\n\t * @class CKEDITOR.plugins.ae_menubridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_menubridge', {\n\t\t/**\n\t\t * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\t// Do nothing if the real menu plugin is present\n\t\t\tif (CKEDITOR.plugins.get('menu')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst groups = [];\n\t\t\tconst groupsOrder = (editor._.menuGroups = {});\n\t\t\tconst menuItems = (editor._.menuItems = {});\n\n\t\t\tfor (let i = 0; i < groups.length; i++) {\n\t\t\t\tgroupsOrder[groups[i]] = i + 1;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Registers an item group to the editor context menu in order to make it\n\t\t\t * possible to associate it with menu items later.\n\t\t\t *\n\t\t\t * @method addMenuGroup\n\t\t\t * @param {String} name Specify a group name.\n\t\t\t * @param {Number} [order=100] Define the display sequence of this group\n\t\t\t * inside the menu. A smaller value gets displayed first.\n\t\t\t */\n\t\t\teditor.addMenuGroup = function(name, order) {\n\t\t\t\tgroupsOrder[name] = order || 100;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Adds an item from the specified definition to the editor context menu.\n\t\t\t *\n\t\t\t * @method addMenuItem\n\t\t\t * @param {String} name The menu item name.\n\t\t\t * @param {Object} definition The menu item definition.\n\t\t\t */\n\t\t\teditor.addMenuItem = function(name, definition) {\n\t\t\t\tif (groupsOrder[definition.group]) {\n\t\t\t\t\tmenuItems[name] = {\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tdefinition,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Adds one or more items from the specified definition object to the editor context menu.\n\t\t\t *\n\t\t\t * @method addMenuItems\n\t\t\t * @param {Object} definitions Object where keys are used as itemName and corresponding values as definition for a {@link #addMenuItem} call.\n\t\t\t */\n\t\t\teditor.addMenuItems = function(definitions) {\n\t\t\t\tfor (const itemName in definitions) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n\t\t\t\t\t\t\tdefinitions,\n\t\t\t\t\t\t\titemName\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.addMenuItem(itemName, definitions[itemName]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Retrieves a particular menu item definition from the editor context menu.\n\t\t\t *\n\t\t\t * @method getMenuItem\n\t\t\t * @param {String} name The name of the desired menu item.\n\t\t\t * @return {Object}\n\t\t\t */\n\t\t\teditor.getMenuItem = function(name) {\n\t\t\t\treturn menuItems[name];\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Removes a particular menu item added before from the editor context menu.\n\t\t\t *\n\t\t\t * @method  removeMenuItem\n\t\t\t * @param {String} name The name of the desired menu item.\n\t\t\t */\n\t\t\teditor.removeMenuItem = function(name) {\n\t\t\t\tdelete menuItems[name];\n\t\t\t};\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonDropdown from '../buttons/button-dropdown.jsx';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_panelmenubuttonbridge')) {\n\tconst PANEL_MENU_DEFS = {};\n\n\t/**\n\t * Generates a PanelMenuButtonBridge React class for a given panelmenubutton definition if it has not been\n\t * already created based on the panelmenubutton name and definition.\n\t *\n\t * @private\n\t * @method generatePanelMenuButtonBridge\n\t * @param {String} panelMenuButtonName The panel button name\n\t * @param {Object} panelMenuButtonDefinition The panel button definition\n\t * @return {Object} The generated or already existing React PanelMenuButton Class\n\t */\n\tconst generatePanelMenuButtonBridge = function(\n\t\tpanelMenuButtonName,\n\t\tpanelMenuButtonDefinition,\n\t\teditor\n\t) {\n\t\tlet PanelMenuButtonBridge = AlloyEditor.Buttons[panelMenuButtonName];\n\n\t\tPANEL_MENU_DEFS[editor.name] = PANEL_MENU_DEFS[editor.name] || {};\n\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName] =\n\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName] ||\n\t\t\tpanelMenuButtonDefinition;\n\n\t\tif (!PanelMenuButtonBridge) {\n\t\t\tPanelMenuButtonBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = panelMenuButtonName;\n\n\t\t\t\tstatic key = panelMenuButtonName;\n\n\t\t\t\t// API not yet implemented inside the panel menu button bridge. By mocking the unsupported methods, we\n\t\t\t\t// prevent plugins from crashing if they make use of them.\n\t\t\t\tcreatePanel() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst panelMenuButtonDisplayName =\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.name ||\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.command ||\n\t\t\t\t\t\tpanelMenuButtonName;\n\n\t\t\t\t\tconst buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tconst iconClassName =\n\t\t\t\t\t\t'ae-icon-' + panelMenuButtonDisplayName;\n\n\t\t\t\t\tconst iconStyle = {};\n\n\t\t\t\t\tconst cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tpanelMenuButtonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tconst cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet panel;\n\n\t\t\t\t\tif (this.props.expanded) {\n\t\t\t\t\t\tpanel = this._getPanel();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][\n\t\t\t\t\t\t\t\t\t\tpanelMenuButtonName\n\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][\n\t\t\t\t\t\t\t\t\t\tpanelMenuButtonName\n\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{panel}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_getPanel() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst panelMenuButtonOnBlock =\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.onBlock;\n\n\t\t\t\t\tconst panel = {\n\t\t\t\t\t\thide: this.props.toggleDropdown,\n\t\t\t\t\t\tshow: this.props.toggleDropdown,\n\t\t\t\t\t};\n\n\t\t\t\t\tconst blockElement = new CKEDITOR.dom.element('div');\n\n\t\t\t\t\tconst block = {\n\t\t\t\t\t\telement: blockElement,\n\t\t\t\t\t\tkeys: {},\n\t\t\t\t\t};\n\n\t\t\t\t\t/* istanbul ignore else */\n\t\t\t\t\tif (panelMenuButtonOnBlock) {\n\t\t\t\t\t\tpanelMenuButtonOnBlock.call(this, panel, block);\n\t\t\t\t\t}\n\n\t\t\t\t\t// TODO\n\t\t\t\t\t// Use block.keys to configure the panel keyboard navigation\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ButtonDropdown onDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={blockElement.getAttribute('class')}\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: blockElement.getHtml(),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[panelMenuButtonName] = PanelMenuButtonBridge;\n\t\t}\n\n\t\treturn PanelMenuButtonBridge;\n\t};\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('panelmenubutton')) {\n\t\tCKEDITOR.UI_PANELBUTTON = 'panelmenubutton';\n\n\t\tCKEDITOR.plugins.add('panelmenubutton', {});\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('panelbutton')) {\n\t\tCKEDITOR.UI_PANELBUTTON = 'panelbutton';\n\n\t\tCKEDITOR.plugins.add('panelbutton', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor PanelButton plugin. It takes over the\n\t * responsibility of registering and creating buttons via:\n\t * - editor.ui.addPanelMenuButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_PANELBUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_panelmenubuttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_panelmenubuttonbridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_PANELBUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\teditor.ui.addPanelMenuButton = function(\n\t\t\t\tpanelMenuButtonName,\n\t\t\t\tpanelMenuButtonDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\tpanelMenuButtonName,\n\t\t\t\t\tCKEDITOR.UI_PANELBUTTON,\n\t\t\t\t\tpanelMenuButtonDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_PANELBUTTON, {\n\t\t\t\tadd: generatePanelMenuButtonBridge,\n\t\t\t\tcreate(panelMenuButtonDefinition) {\n\t\t\t\t\tconst panelMenuButtonName =\n\t\t\t\t\t\t'panelMenuButtonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tconst PanelMenuButtonBridge = generatePanelMenuButtonBridge(\n\t\t\t\t\t\tpanelMenuButtonName,\n\t\t\t\t\t\tpanelMenuButtonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new PanelMenuButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonDropdown from '../buttons/button-dropdown.jsx';\nimport ButtonIcon from '../buttons/button-icon.jsx';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_richcombobridge')) {\n\tconst RICH_COMBO_DEFS = {};\n\n\t/**\n\t * Generates a RichComboBridge React class for a given richcombo definition if it has not been\n\t * already created based on the richcombo name and definition.\n\t *\n\t * @method generateRichComboBridge\n\t * @private\n\t * @param {String} richComboName The rich combo name\n\t * @param {Object} richComboDefinition The rich combo definition\n\t * @return {Object} The generated or already existing React RichCombo Class\n\t */\n\tconst generateRichComboBridge = function(\n\t\trichComboName,\n\t\trichComboDefinition,\n\t\teditor\n\t) {\n\t\tlet RichComboBridge = AlloyEditor.Buttons[richComboName];\n\n\t\tRICH_COMBO_DEFS[editor.name] = RICH_COMBO_DEFS[editor.name] || {};\n\t\tRICH_COMBO_DEFS[editor.name][richComboName] =\n\t\t\tRICH_COMBO_DEFS[editor.name][richComboName] || richComboDefinition;\n\t\tRICH_COMBO_DEFS[editor.name][richComboName].currentValue = undefined;\n\n\t\tif (!RichComboBridge) {\n\t\t\tRichComboBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = richComboName;\n\n\t\t\t\tstatic key = richComboName;\n\n\t\t\t\tconstructor(props) {\n\t\t\t\t\tsuper(props);\n\t\t\t\t\tthis.state = {\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName]\n\t\t\t\t\t\t\t\t.currentValue,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// API not yet implemented inside the richcombo bridge. By mocking the unsupported methods, we\n\t\t\t\t// prevent plugins from crashing if they make use of them.\n\t\t\t\tcommit() {}\n\t\t\t\tcreatePanel() {}\n\t\t\t\tdisable() {}\n\t\t\t\tenable() {}\n\t\t\t\tgetState() {}\n\t\t\t\thideGroup() {}\n\t\t\t\thideItem() {}\n\t\t\t\tmark() {}\n\t\t\t\tshowAll() {}\n\t\t\t\tstartGroup() {}\n\t\t\t\tunmarkAll() {}\n\n\t\t\t\tadd(value, preview, title) {\n\t\t\t\t\tthis._items.push({\n\t\t\t\t\t\tpreview,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcomponentWillMount() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst editorCombo =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName];\n\n\t\t\t\t\tthis._items = [];\n\n\t\t\t\t\tthis.setValue = this._setValue;\n\n\t\t\t\t\tif (editorCombo.init) {\n\t\t\t\t\t\teditorCombo.init.call(this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (editorCombo.onRender) {\n\t\t\t\t\t\teditorCombo.onRender.call(this);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcomponentWillUnmount() {\n\t\t\t\t\tthis._cacheValue(this.state.value);\n\n\t\t\t\t\tthis.setValue = this._cacheValue;\n\t\t\t\t}\n\n\t\t\t\tgetValue() {\n\t\t\t\t\treturn this.state.value;\n\t\t\t\t}\n\n\t\t\t\trender() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst richComboLabel =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName]\n\t\t\t\t\t\t\t.currentValue || richComboDefinition.label;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container-dropdown ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={richComboLabel}\n\t\t\t\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={richComboLabel}>\n\t\t\t\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t\t\t\t{richComboLabel}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t\t\t\t<ButtonDropdown\n\t\t\t\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t\t\t{this._getItems()}\n\t\t\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_cacheValue(value) {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tRICH_COMBO_DEFS[editor.name][\n\t\t\t\t\t\trichComboName\n\t\t\t\t\t].currentValue = value;\n\t\t\t\t}\n\n\t\t\t\t_getItems() {\n\t\t\t\t\tconst richCombo = this;\n\n\t\t\t\t\tconst items = this._items.map(item => {\n\t\t\t\t\t\tconst className =\n\t\t\t\t\t\t\t'ae-toolbar-element ' +\n\t\t\t\t\t\t\t(item.value === this.state.value ? 'active' : '');\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={item.title} role=\"option\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: item.preview,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdata-value={item.value}\n\t\t\t\t\t\t\t\t\tonClick={richCombo._onClick}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn items;\n\t\t\t\t}\n\n\t\t\t\t_onClick = event => {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst editorCombo =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName];\n\n\t\t\t\t\tif (editorCombo.onClick) {\n\t\t\t\t\t\tconst newValue = event.currentTarget.getAttribute(\n\t\t\t\t\t\t\t'data-value'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\teditorCombo.onClick.call(this, newValue);\n\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][\n\t\t\t\t\t\t\trichComboName\n\t\t\t\t\t\t].currentValue = newValue;\n\n\t\t\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t_setValue(value) {\n\t\t\t\t\tthis._cacheValue(value);\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[richComboName] = RichComboBridge;\n\t\t}\n\n\t\treturn RichComboBridge;\n\t};\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('richcombo')) {\n\t\tCKEDITOR.UI_RICHCOMBO = 'richcombo';\n\n\t\tCKEDITOR.plugins.add('richcombo', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor RichCombo plugin. It takes over the\n\t * responsibility of registering and creating rich combo elements via:\n\t * - editor.ui.addRichCombo(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_RICHCOMBO, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_richcombobridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_richcombobridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_RICHCOMBO to our own. We do this in the init phase to override\n\t\t * the one in the original plugin in case it's present\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\teditor.ui.addRichCombo = function(\n\t\t\t\trichComboName,\n\t\t\t\trichComboDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\trichComboName,\n\t\t\t\t\tCKEDITOR.UI_RICHCOMBO,\n\t\t\t\t\trichComboDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_RICHCOMBO, {\n\t\t\t\tadd: generateRichComboBridge,\n\t\t\t\tcreate(richComboDefinition) {\n\t\t\t\t\tconst richComboName =\n\t\t\t\t\t\t'richComboBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tconst RichComboBridge = generateRichComboBridge(\n\t\t\t\t\t\trichComboName,\n\t\t\t\t\t\trichComboDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new RichComboBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_uibridge')) {\n\t/**\n\t * CKEditor plugin that extends CKEDITOR.ui.add function so an add handler can be specified\n\t * on top of the original ones. It bridges the calls to add components via:\n\t * - editor.ui.add(name, type, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_uibridge', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t *\n\t\t * @method beforeInit\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\tconst originalUIAddFn = editor.ui.add;\n\n\t\t\teditor.ui.add = function(name, type, definition) {\n\t\t\t\toriginalUIAddFn.call(this, name, type, definition);\n\n\t\t\t\tconst typeHandler = this._.handlers[type];\n\n\t\t\t\tif (typeHandler && typeHandler.add) {\n\t\t\t\t\ttypeHandler.add(name, definition, editor);\n\t\t\t\t\tAlloyEditor.registerBridgeButton(\n\t\t\t\t\t\tname,\n\t\t\t\t\t\teditor.__processingPlugin__.plugin.name\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport removeImageCommand from './remove-image';\n\nexport {removeImageCommand};\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst removeImageCommand = {\n\texec: editor => {\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst ranges = selection.getRanges();\n\t\t\tconst startContainer = ranges[0].startContainer;\n\n\t\t\tconst nextRange = new CKEDITOR.dom.range(startContainer);\n\t\t\tnextRange.setStart(startContainer, 0);\n\t\t\tnextRange.setEnd(startContainer, 0);\n\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement && selectedElement.getName() === 'img') {\n\t\t\t\tconst native = selection.getNative();\n\t\t\t\tif (native) {\n\t\t\t\t\tnative.removeAllRanges();\n\t\t\t\t}\n\n\t\t\t\tselection.selectRanges([nextRange]);\n\n\t\t\t\tselectedElement.remove();\n\t\t\t}\n\t\t}\n\t},\n};\n\nexport default removeImageCommand;\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../adapter/editor-context';\nimport WidgetExclusive from './base/widget-exclusive';\nimport WidgetFocusManager from './base/widget-focus-manager';\n\n/**\n * The main editor UI class manages a hierarchy of widgets (toolbars and buttons).\n *\n * @class UI\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n */\nclass UI extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: true,\n\t\tdescendants: '[class^=ae-toolbar-]',\n\t\teventsDelay: 0,\n\t\tkeys: {\n\t\t\tnext: 9,\n\t\t},\n\t};\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Localized messages for live aria updates. Should include the following messages:\n\t\t * - noToolbar: Notification for no available toolbar in the editor.\n\t\t * - oneToolbar: Notification for just one available toolbar in the editor.\n\t\t * - manyToolbars: Notification for more than one available toolbar in the editor.\n\t\t *\n\t\t * @instance\n\t\t * @memberof UI\n\t\t * @property {Object} ariaUpdates\n\t\t */\n\t\tariaUpdates: PropTypes.object,\n\n\t\t/**\n\t\t * The delay (ms), after which key or mouse events will be processed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof UI\n\t\t * @property {Number} eventsDelay\n\t\t */\n\t\teventsDelay: PropTypes.number,\n\n\t\t/**\n\t\t * The toolbars configuration for this editor instance\n\t\t *\n\t\t * @instance\n\t\t * @memberof UI\n\t\t * @property {Object} toolbars\n\t\t */\n\t\ttoolbars: PropTypes.object.isRequired,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thidden: false,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.on('editorInteraction', this._onEditorInteraction, this);\n\t\teditor.on('actionPerformed', this._onActionPerformed, this);\n\t\teditor.on('key', this._onEditorKey, this);\n\n\t\t// Set up events for hiding the UI when user stops interacting with the editor.\n\t\t// This may happen when he just clicks outside of the editor. However,\n\t\t// this does not include a situation when he clicks on some button, part of\n\t\t// editor's UI.\n\n\t\t// It is not easy to debounce _setUIHidden on mousedown, because if we\n\t\t// debounce it, when the handler is being invoked, the target might be no more part\n\t\t// of the editor's UI - onActionPerformed causes re-render.\n\t\tthis._mousedownListener = event => {\n\t\t\tthis._setUIHidden(event.target);\n\t\t};\n\n\t\tthis._keyDownListener = CKEDITOR.tools.debounce(\n\t\t\t_event => {\n\t\t\t\tthis._setUIHidden(document.activeElement);\n\t\t\t},\n\t\t\tthis.props.eventsDelay,\n\t\t\tthis\n\t\t);\n\n\t\tdocument.addEventListener('mousedown', this._mousedownListener);\n\t\tdocument.addEventListener('keydown', this._keyDownListener);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * Fires `ariaUpdate` event passing ARIA related messages.\n\t * Fires `editorUpdate` event passing the previous and current properties and state.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentDidUpdate\n\t */\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tif (domNode) {\n\t\t\teditor.fire('ariaUpdate', {\n\t\t\t\tmessage: this._getAvailableToolbarsMessage(domNode),\n\t\t\t});\n\t\t}\n\n\t\teditor.fire('editorUpdate', {\n\t\t\tprevProps,\n\t\t\tprevState,\n\t\t\tprops: this.props,\n\t\t\tstate: this.state,\n\t\t});\n\t}\n\n\t_getAriaUpdateTemplate(ariaUpdate) {\n\t\tif (!this._ariaUpdateTemplates) {\n\t\t\tthis._ariaUpdateTemplates = {};\n\t\t}\n\n\t\tif (!this._ariaUpdateTemplates[ariaUpdate]) {\n\t\t\tthis._ariaUpdateTemplates[ariaUpdate] = new CKEDITOR.template(\n\t\t\t\tthis._getAriaUpdates()[ariaUpdate]\n\t\t\t);\n\t\t}\n\n\t\treturn this._ariaUpdateTemplates[ariaUpdate];\n\t}\n\n\t/**\n\t * Returns the templates for ARIA messages.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _getAriaUpdates\n\t * @return {Object} ARIA relates messages. Default:\n\t * {\n\t *      noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,\n\t *      oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,\n\t *      manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars\n\t *  }\n\t */\n\t_getAriaUpdates() {\n\t\treturn (\n\t\t\tthis.props.ariaUpdates || {\n\t\t\t\tnoToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,\n\t\t\t\toneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,\n\t\t\t\tmanyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars,\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Returns an ARIA message which represents the number of currently available toolbars.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method _getAvailableToolbarsMessage\n\t * @protected\n\t * @param {CKEDITOR.dom.element} domNode The DOM node from which the available toolbars will be retrieved.\n\t * @return {String} The ARIA message for the number of available toolbars\n\t */\n\t_getAvailableToolbarsMessage(domNode) {\n\t\tconst toolbarsNodeList = domNode.querySelectorAll('[role=\"toolbar\"]');\n\n\t\tif (!toolbarsNodeList.length) {\n\t\t\treturn this._getAriaUpdates().noToolbar;\n\t\t} else {\n\t\t\tconst toolbarNames = Array.prototype.slice\n\t\t\t\t.call(toolbarsNodeList)\n\t\t\t\t.map(toolbar => {\n\t\t\t\t\treturn toolbar.getAttribute('aria-label');\n\t\t\t\t});\n\n\t\t\tconst ariaUpdate =\n\t\t\t\ttoolbarNames.length === 1 ? 'oneToolbar' : 'manyToolbars';\n\n\t\t\treturn this._getAriaUpdateTemplate(ariaUpdate).output({\n\t\t\t\ttoolbars: toolbarNames\n\t\t\t\t\t.join(',')\n\t\t\t\t\t.replace(/,([^,]*)$/, ' and ' + '$1'),\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tif (this._mousedownListener) {\n\t\t\tdocument.removeEventListener('mousedown', this._mousedownListener);\n\t\t}\n\n\t\tif (this._keyDownListener) {\n\t\t\tthis._keyDownListener.detach();\n\t\t\tdocument.removeEventListener('keydown', this._keyDownListener);\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the editor. This may include several toolbars and buttons.\n\t * The editor's UI also takes care of rendering the items in exclusive mode.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.state.hidden) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet toolbars = Object.keys(this.props.toolbars).map(toolbar => {\n\t\t\treturn AlloyEditor.Toolbars[toolbar] || window[toolbar];\n\t\t});\n\n\t\ttoolbars = this.filterExclusive(toolbars).map(toolbar => {\n\t\t\tconst props = this.mergeExclusiveProps(\n\t\t\t\t{\n\t\t\t\t\tconfig: this.props.toolbars[toolbar.key],\n\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\teditorEvent: this.state.editorEvent,\n\t\t\t\t\tkey: toolbar.key,\n\t\t\t\t\tonDismiss: this._onDismissToolbarFocus,\n\t\t\t\t\tselectionData: this.state.selectionData,\n\t\t\t\t},\n\t\t\t\ttoolbar.key\n\t\t\t);\n\n\t\t\treturn React.createElement(toolbar, props);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"ae-toolbars\" onKeyDown={this.handleKey}>\n\t\t\t\t{toolbars}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Listener to the editor's `actionPerformed` event. Sets state and redraws the UI of the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onActionPerformed\n\t * @param {SynteticEvent} event The provided event\n\t */\n\t_onActionPerformed(_event) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.focus();\n\n\t\tthis.setState({\n\t\t\titemExclusive: null,\n\t\t\tselectionData: editor.getSelectionData(),\n\t\t});\n\t}\n\n\t/**\n\t * Executed when a dismiss key is pressed over a toolbar to return the focus to the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onDismissToolbarFocus\n\t */\n\t_onDismissToolbarFocus = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.focus();\n\t};\n\n\t/**\n\t * Listener to the editor's `userInteraction` event. Retrieves the data about the user selection and\n\t * provides it via component's state property.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onEditorInteraction\n\t * @param {SynteticEvent} event The provided event\n\t */\n\t_onEditorInteraction(event) {\n\t\tthis.setState({\n\t\t\teditorEvent: event,\n\t\t\thidden: false,\n\t\t\titemExclusive: null,\n\t\t\tselectionData: event.data.selectionData,\n\t\t});\n\t}\n\n\t/**\n\t * Focuses on the active toolbar when the combination ALT+F10 is pressed inside the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onEditorKey\n\t */\n\t_onEditorKey(event) {\n\t\tconst nativeEvent = event.data.domEvent.$;\n\n\t\tif (nativeEvent.altKey && nativeEvent.keyCode === 121) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the target with which the user interacted is part of editor's UI or it is\n\t * the editable area. If none of these, sets the state of editor's UI to be hidden.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _setUIHidden\n\t * @param {DOMElement} target The DOM element with which user interacted lastly.\n\t */\n\t_setUIHidden(target) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (domNode) {\n\t\t\tconst editable = this.context.editor.get('nativeEditor').editable();\n\t\t\tconst parentNode = target.parentNode;\n\t\t\tconst targetNode = new CKEDITOR.dom.node(target);\n\n\t\t\tif (!editable) {\n\t\t\t\tthis.setState({\n\t\t\t\t\thidden: true,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet res =\n\t\t\t\t\teditable.$ === target ||\n\t\t\t\t\teditable.contains(targetNode) ||\n\t\t\t\t\tnew CKEDITOR.dom.element(domNode).contains(targetNode);\n\n\t\t\t\tif (parentNode) {\n\t\t\t\t\tres = res || parentNode.id === 'ckimgrsz';\n\t\t\t\t}\n\n\t\t\t\tif (!res) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thidden: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Fired when component updates and when it is rendered in the DOM.\n * The payload consists from a `message` property containing the ARIA message.\n *\n * @event ariaUpdate\n */\n\n/**\n * Fired when component updates. The payload consists from an object with the following\n * properties:\n * - prevProps - The previous properties of the component\n * - prevState - The previous state of the component\n * - props - The current properties of the component\n * - state - The current state of the component\n *\n * @event ariaUpdate\n */\n\nexport default WidgetExclusive(WidgetFocusManager(UI));\n","/**\n * SPDX-FileCopyrightText: © 2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Attribute from './attribute';\nimport Lang from './lang';\nimport extend from './oop';\n\n/**\n * Quick and dirty impl of Base class.\n *\n * @class Base\n * @constructor\n */\nfunction Base(config) {\n\tBase.superclass.constructor.call(this, config);\n\n\tthis.init(config);\n}\n\nextend(Base, Attribute, {\n\t/**\n\t * Calls the `initializer` method of each class which extends Base starting from the parent to the child.\n\t * Will pass the configuration object to each initializer method.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method init\n\t * @param {Object} config Configuration object\n\t */\n\tinit(config) {\n\t\tthis._callChain('initializer', config);\n\t},\n\n\t/**\n\t * Calls the `destructor` method of each class which extends Base starting from the parent to the child.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method destroy\n\t */\n\tdestroy() {\n\t\tthis._callChain('destructor');\n\t},\n\n\t/**\n\t * Calls a method of each class, which is being present in the hierarchy starting from parent to the child.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method _callChain\n\t * @param {Object|Array} args The arguments with which the method should be invoked\n\t * @param {String} wat  The method, which should be invoked\n\t * @protected\n\t */\n\t_callChain(wat, args) {\n\t\tlet arr = [];\n\n\t\tlet ctor = this.constructor;\n\n\t\twhile (ctor) {\n\t\t\tif (Lang.isFunction(ctor.prototype[wat])) {\n\t\t\t\tarr.push(ctor.prototype[wat]);\n\t\t\t}\n\n\t\t\tctor = ctor.superclass ? ctor.superclass.constructor : null;\n\t\t}\n\n\t\tarr = arr.reverse();\n\n\t\targs = Lang.isArray(args) ? args : [args];\n\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tconst item = arr[i];\n\n\t\t\titem.apply(this, args);\n\t\t}\n\t},\n});\n\nexport default Base;\n","module.exports = \"2.11.11\";"],"sourceRoot":""}