class DisplayJS{constructor(t){this.obj=t}var(t){const n=()=>{this.if(),this.else();const t=document.querySelectorAll("[var]");for(let n=0;n<t.length;n++){const e=t[n].getAttribute("var");t[n].innerHTML=this.obj[e]}};t?1==t?(n(),this.live(this.obj,()=>{n()})):window.setInterval(()=>{n()},t):n()}xss(t){var n=/</g,e=/>/g,i=/'/g,o=/"/g;return t.toString().replace(n,"&lt;").replace(e,"&gt;").replace(i,"&#39;").replace(o,"&#34;")}xssURI(t){return encodeURI(t)}target(t){t=t||function(){this.var()};const n=(()=>{return document.addEventListener?(t,n,e)=>{t.addEventListener(n,e,!1)}:(t,n,e)=>{t.attachEvent(`on${n}`,e)}})(),e=this.obj;[].forEach.call(document.querySelectorAll("[target]"),(i,o,s)=>{n(s[o],"change",function(){const n=s[o].getAttribute("target");"checkbox"==this.type?e[n]=this.checked:e[n]=this.value,t()}),n(s[o],"keydown",function(){const n=s[o].getAttribute("target");"checkbox"==this.type?e[n]=this.checked:e[n]=this.value,t()}),n(s[o],"input",function(){const n=s[o].getAttribute("target");"checkbox"==this.type?e[n]=this.checked:e[n]=this.value,t()}),n(s[o],"paste",function(){const n=s[o].getAttribute("target");"checkbox"==this.type?e[n]=this.checked:e[n]=this.value,t()})})}if(push){const if_push=()=>{const elements=document.querySelectorAll("[if]");for(let i=0;i<elements.length;i++){const attr=elements[i].getAttribute("if"),el=[];el.push(elements[i]),eval(this.obj[attr])?this.show(el):this.hide(el)}};push?1==push?(if_push(),this.live(this.obj,()=>{if_push()})):window.setInterval(()=>{if_push()},push):if_push()}else(push){const else_push=()=>{const elements=document.querySelectorAll("[else]");for(let i=0;i<elements.length;i++){const attr=elements[i].getAttribute("else"),el=[];el.push(elements[i]),eval(this.obj[attr])?this.hide(el):this.show(el)}};push?1==push?(else_push(),this.live(this.obj,()=>{else_push()})):window.setInterval(()=>{else_push()},push):else_push()}repeat(t,n,e,i,o){i=i||"",o=o||"";let s=i;for(let c=0;c<n.length;c++)s+=e+String(n[c]);s+=o,t[0].innerHTML=s}custom(t,n){const e=()=>{const n=document.querySelectorAll(`[${t}]`);for(let e=0;e<n.length;e++){const i=n[e].getAttribute(t);n[e].innerHTML=this.obj[i]}};n?1==n?(e(),this.live(this.obj,()=>{e()})):window.setInterval(()=>{e()},n):e()}live(t,n){const e={watch(t,n,e){const i=Object.getOwnPropertyDescriptor(t,n);if("undefined"==typeof i)throw new Error(`Invalid descriptor for property: ${n}, object: ${t}`);if("function"!=typeof e)throw new Error(`Invalid onPropertyChange handler: ${e}`);let o=t[n];Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get(){return o},set(i){if(i!==o)return e(t,n,i,o),o=i}})},watchAll(t,n){if("function"!=typeof n)throw new Error(`Invalid onPropertyChange handler: ${n}`);for(const e in t)this.watch(t,e,n)}};e.watchAll(t,(t,e,i,o)=>{n(t,e,i,o)})}onEvent(){const elements=document.querySelectorAll("[on]");for(let i=0;i<elements.length;i++){const attr=elements[i].getAttribute("on"),action=elements[i].getAttribute("action");elements[i].addEventListener(attr,eval(action))}}all(t,n){t.forEach(t=>{const e=[];e.push(t),n(e)})}text(t,n){t[0].innerHTML=this.xss(n)}html(t,n){t[0].innerHTML=n}prepend(t,n){const e=document.createElement("div");e.innerHTML=n,t[0].insertBefore(e,t.firstChild)}append(t,n){t[0].innerHTML+=n}after(t,n){t[0].insertAdjacentHTML("afterend",n)}before(t,n){t[0].insertAdjacentHTML("beforebegin",n)}clone(t){t[0].cloneNode(!0)}is(t,n){return t===n}select(t){const n=document.querySelectorAll(t);return n}single(t){const n=document.querySelectorAll(t),e=[];return e.push(n[0]),e}empty(t){t[0].innerHTML=null}valEmpty(t){t[0].value=null}remove(t){t[0].parentNode.removeChild(t)}on(t,n,e){t[0].addEventListener(n,e)}show(t){return t[0].style.display="block",!0}hide(t){return t[0].style.display="none",!0}style(t,n,e){t[0].style[n]=e}ajax(t,n,e,i,o){const s=new XMLHttpRequest;s.open(n,t,!0),o&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),s.onload=(()=>{if(s.status>=200&&s.status<400){const t=s.responseText;i(t)}else console.error("DisplayJS error: The ajax request returned an error.")}),s.onerror=(()=>{console.error("DisplayJS error: The ajax request returned an error.")}),s.send(e)}hasClass(t,n){return t[0].classList?t[0].classList.contains(n):!!t[0].className.match(new RegExp(`(\\s|^)${n}(\\s|$)`))}addClass(t,n){t[0].classList?t[0].classList.add(n):this.hasClass(t,n)||(t[0].className+=` ${n}`)}removeClass(t,n){if(t[0].classList)t[0].classList.remove(n);else if(this.hasClass(t,n)){const e=new RegExp(`(\\s|^)${n}(\\s|$)`);t[0].className=t[0].className.replace(e," ")}}toggleClass(t,n){this.hasClass(t,n)?this.removeClass(t,n):this.addClass(t,n)}each(t,n){for(let e=0;e<t.length;e++)n(t[e])}css(t,n,e){t[0].style[n]=e}getStyle(t,n){return t[0].style[n]}fadeOut(t,n){n=n||.1;const e=t[0];e.style.opacity=1,function t(){(e.style.opacity-=n)<0?e.style.display="none":requestAnimationFrame(t)}()}fadeIn(t,n,e){n=n||.1;const i=t[0];i.style.opacity=0,i.style.display=e||"block",function t(){let e=parseFloat(i.style.opacity);(e+=n)>1||(i.style.opacity=e,requestAnimationFrame(t))}()}extend(t={}){for(let n=1;n<arguments.length;n++)if(arguments[n])for(const e in arguments[n])arguments[n].hasOwnProperty(e)&&(t[e]=arguments[n][e]);return t}arange(t,n,e,i){const o=(Math.abs(n-t)+2*(i||0))/(e||1)+1,s=t<n?1:-1,c=t-s*(i||0),r=s*(e||1);return Array(o).fill(0).map((t,n)=>c+r*n)}range(t){return this.arange(0,t,1)}linespace(t,n,e){const i=n-t,o=i/e;return this.arange(t,n,o)}forIn(t,n){for(let e=t.length-1;e>=0;e--)n(t[e])}reshape(t,n){const e=[];for(let i=0;i<t.length;i+=n)e.push(t.slice(i,i+n));return e}apply(t,n){this.forIn(t,t=>n(t))}sum(t){return t.reduce((t,n)=>t+n,0)}multiply(t){return t.reduce((t,n)=>t*n,0)}flatten(t){return t.reduce((t,n)=>t.concat(n),[])}drop(t,n){return n>0?t.slice(n,t.length):t.slice(0,t.length-n)}isIn(t,n){return t.indexOf(n)>-1}rmFromArray(t,n){const e=[];this.forIn(t,i=>{return n(i)||e.push(t[i]),e})}}class _DOM_DJS extends DisplayJS{}