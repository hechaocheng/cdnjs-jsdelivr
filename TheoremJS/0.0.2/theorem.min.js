'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&'function'==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?'symbol':typeof h},_createClass=function(){function h(m,o){for(var w,s=0;s<o.length;s++)w=o[s],w.enumerable=w.enumerable||!1,w.configurable=!0,'value'in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}return function(m,o,s){return o&&h(m.prototype,o),s&&h(m,s),m}}();function _toConsumableArray(h){if(Array.isArray(h)){for(var m=0,o=Array(h.length);m<h.length;m++)o[m]=h[m];return o}return Array.from(h)}function _classCallCheck(h,m){if(!(h instanceof m))throw new TypeError('Cannot call a class as a function')}var BigNumber=require('bignumber.js');BigNumber.config(20);var TheoremJS=function(){function TheoremJS(){_classCallCheck(this,TheoremJS)}return _createClass(TheoremJS,[{key:'factorial',value:function factorial(h){return new BigNumber(h).equals(0)?new BigNumber(1):new BigNumber(h).times(this.factorial(new BigNumber(h).minus(1)))}},{key:'gamma',value:function gamma(h){var o=7,s=[0.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-0.13857109526572012,0.000009984369578019572,1.5056327351493116e-7];if(0.5>h)return new BigNumber((+(Math.PI/(Math.sin(Math.PI*h)*this.gamma(1-h).toNumber()))).toFixed(10));if(100<h)return Math.exp(this.lngamma(h));h-=1;for(var w=s[0],m=1;m<o+2;m++)w+=s[m]/(h+m);var A=h+o+0.5;return new BigNumber((+(Math.sqrt(2*Math.PI)*Math.pow(A,h+0.5)*Math.exp(-A)*w)).toFixed(10))}},{key:'ln',value:function ln(h){for(var w,m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:15,o=new BigNumber(0),s=0;s<Math.ceil(m+3/2*h);s++)w=new BigNumber(1).div(new BigNumber(s).times(2).plus(1)).times(new BigNumber(h).minus(1).div(new BigNumber(h).plus(1)).pow(new BigNumber(s).times(2).plus(1))),o=o.plus(w);return new BigNumber(o.times(2).toFixed(m-1))}},{key:'lngamma',value:function lngamma(h){var s=[0.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-0.4919138160976202,0.00003399464998481189,0.00004652362892704858,-0.00009837447530487956,0.0001580887032249125,-0.00021026444172410488,0.00021743961811521265,-0.0001643181065367639,0.00008441822398385275,-0.000026190838401581408,0.0000036899182659531625];if(0>h)return+'0/0';for(var w=s[0],m=s.length-1;0<m;--m)w+=s[m]/(h+m);var A=h+607/128+0.5;return new BigNumber((+(.5*Math.log(2*Math.PI)+(h+.5)*Math.log(A)-A+Math.log(w)-Math.log(h))).toFixed(10))}},{key:'log',value:function log(h,m){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;return new BigNumber(this.ln(h,o).div(this.ln(m,o)).toPrecision(o-1))}},{key:'pow',value:function pow(h,m){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=[h]);for(var s=[],o=0;o<h.length;o++)s.push(new BigNumber(Math.pow(new BigNumber(h[o]).toNumber(),new BigNumber(m).toNumber()).toFixed(10)));return 1==s.length?s[0]:s}},{key:'root',value:function root(h,m){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=[h]);for(var s=[],o=0;o<h.length;o++)s.push(new BigNumber(Math.pow(new BigNumber(h[o]).toNumber(),new BigNumber(1).div(m).toNumber())));return 1==s.length?s[0]:s}},{key:'sigmoid',value:function sigmoid(h){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:15;return new BigNumber(new BigNumber(1).div(this.e(m).pow(h).add(1)).toPrecision(m))}},{key:'sqrt',value:function sqrt(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(new BigNumber(new BigNumber(h[m]).sqrt()));return 1==o.length?o[0]:o}},{key:'zeta',value:function zeta(h){for(var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:15,s=0,m=1;m<10*o;m++)s=new BigNumber(s).plus(new BigNumber(h).pow(-m));return new BigNumber(s.toPrecision(o))}},{key:'apply',value:function apply(h,m){'object'!=('undefined'==typeof h?'undefined':_typeof(h))&&(h=[h]);for(var s=[],o=0;o<h.length;o++)s.push(m(h[o]));return 1==s.length?s[0]:s}},{key:'max',value:function max(){var h=this.sort.apply(this,arguments);return h[h.length-1]}},{key:'min',value:function min(){var h=this.sort.apply(this,arguments);return h[0]}},{key:'product',value:function product(){return[].concat(Array.prototype.slice.call(arguments)).reduce(function(h,m){return new BigNumber(h).times(m)})}},{key:'sort',value:function sort(){return Array.prototype.quickSort=function(){var h=this;if(1>=this.length)return this;for(var m=[],o=[],s=h.splice(new BigNumber(h.length).div(2).floor(),1),w=h.length-1;0<=w;w--)new BigNumber(h[w]).lessThanOrEqualTo(new BigNumber(s))?m.push(h[w]):o.push(h[w]);return[].concat(m.quickSort(),s,o.quickSort())},[].concat(Array.prototype.slice.call(arguments)).quickSort()}},{key:'sum',value:function sum(){return[].concat(Array.prototype.slice.call(arguments)).reduce(function(h,m){return new BigNumber(h).plus(m)})}},{key:'average',value:function average(){var h=this.sum.apply(this,arguments),m=new BigNumber(h).div(arguments.length);return m}},{key:'correlation',value:function correlation(h,m){if(h.length!=m.length)throw'[TheoremJS]: Correlation error, arrays are not the same size';for(var s=this.average.apply(this,_toConsumableArray(h)).toNumber(),w=this.average.apply(this,_toConsumableArray(m)).toNumber(),A=0,B=0,C=0,o=0;o<h.length;o++)A+=(h[o]-s)*(m[o]-w),B+=Math.pow(h[o]-s,2),C+=Math.pow(m[o]-w,2);var E=A/Math.sqrt(B*C);return E}},{key:'median',value:function median(){var h=[].concat(Array.prototype.slice.call(arguments));h.sort(function(o,s){return new BigNumber(o).sub(s)});var m=Math.floor(new BigNumber(h.length).div(2).toNumber());return h.length%2?h[m]:new BigNumber(h[m-1]).add(h[m]).div(2).toNumber()}},{key:'regression',value:function regression(h,m){return 1==m?this.linreg(h):this.polyreg(h,m)}},{key:'linreg',value:function linreg(h){for(var m=Object.keys(h),o=Object.values(h),s=o.length,w=0,A=0,B=0,C=0,E=0,F=0;F<o.length;F++)w+=parseFloat(m[F]),A+=parseFloat(o[F]),B+=parseFloat(m[F]*o[F]),C+=parseFloat(m[F]*m[F]),E+=parseFloat(o[F]*o[F]);var G=(s*B-w*A)/(s*C-w*w),H=(A-G*w)/s;return this.polynomial(G,H)}},{key:'polyreg',value:function polyreg(h,m){var s=Object.keys(h);for(var w in s)s[w]=parseFloat(s[w]);var A=Object.values(h);for(var B in A)A[B]=parseFloat(A[B]);var H,I,o,J,K,N,C=[],E=[],F=0,G=0,L=s.length;for(I='undefined'==typeof m?3:m+1,o=0;o<I;o++){for(K=0;K<L;K++)null!==A[K]&&(F+=Math.pow(s[K],o)*A[K]);for(C.push(F),F=0,H=[],J=0;J<I;J++){for(K=0;K<L;K++)null!==A[K]&&(G+=Math.pow(s[K],o+J));H.push(G),G=0}E.push(H)}return E.push(C),N=this.gaussElimination(E,I),this.polynomial.apply(this,_toConsumableArray(N.reverse()))}},{key:'acos',value:function acos(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.acos(h[m]));return 1==o.length?o[0]:o}},{key:'acosh',value:function acosh(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.acosh(h[m]));return 1==o.length?o[0]:o}},{key:'asin',value:function asin(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.asin(h[m]));return 1==o.length?o[0]:o}},{key:'asinh',value:function asinh(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.asinh(h[m]));return 1==o.length?o[0]:o}},{key:'atan',value:function atan(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.atan(h[m]));return 1==o.length?o[0]:o}},{key:'atan2',value:function atan2(h,m){('object'!=('undefined'==typeof n?'undefined':_typeof(n))||n.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h],m=!0==m.isBigNumber?m.toNumber():m,m=[m]);for(var s=[],o=0;o<h.length;o++)s.push(Math.atan2(h[o],m[o]));return 1==s.length?s[0]:s}},{key:'atanh',value:function atanh(h){'object'!=('undefined'==typeof h?'undefined':_typeof(h))&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.atanh(h[m]));return 1==o.length?o[0]:o}},{key:'cos',value:function cos(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.cos(h[m]));return 1==o.length?o[0]:o}},{key:'cosh',value:function cosh(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.cosh(h[m]));return 1==o.length?o[0]:o}},{key:'sin',value:function sin(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.sin(h[m]));return 1==o.length?o[0]:o}},{key:'sinh',value:function sinh(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.sinh(h[m]));return 1==o.length?o[0]:o}},{key:'tan',value:function tan(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.tan(h[m]));return 1==o.length?o[0]:o}},{key:'tanh',value:function tanh(h){('object'!=('undefined'==typeof h?'undefined':_typeof(h))||h.isBigNumber)&&(h=!0==h.isBigNumber?h.toNumber():h,h=[h]);for(var o=[],m=0;m<h.length;m++)o.push(Math.tanh(h[m]));return 1==o.length?o[0]:o}},{key:'f',value:function f(v,func){return'function'==typeof v?{type:'function',core:v}:{type:'function',v:v,f:func,core:function core(x){var regex=new RegExp(v),newStr=func.replace(regex,x);return eval(newStr)}}}},{key:'findRoots',value:function findRoots(h){var F=[];if('polynomial'==h.type)switch(h.values.length-1){case 1:F.push(''+(new BigNumber(h.values[1]).isNegative()?'':'-')+h.values[1]+' / '+h.values[0]);break;case 2:F.push('('+(new BigNumber(h.values[1]).isNegative()?'':'-')+new BigNumber(h.values[1]).abs()+' + Math.sqrt('+new BigNumber(h.values[1]).pow(2).minus(new BigNumber(4).times(h.values[0]).times(h.values[2]))+')) / '+new BigNumber(h.values[0]).times(2)),F.push('('+(new BigNumber(h.values[1]).isNegative()?'':'-')+new BigNumber(h.values[1]).abs()+' - Math.sqrt('+new BigNumber(h.values[1]).pow(2).minus(new BigNumber(4).times(h.values[0]).times(h.values[2]))+')) / '+new BigNumber(h.values[0]).times(2));break;case 3:var s,G=new BigNumber(h.values[0]).toNumber(),H=new BigNumber(h.values[1]).toNumber(),I=new BigNumber(h.values[2]).toNumber(),J=new BigNumber(h.values[3]).toNumber(),m=(3*G*I-H*H)/(3*G*G),o=(2*H*H*H-9*G*H*I+27*G*G*J)/(27*G*G*G);if(1e-8>Math.abs(m))s=[Math.cbrt(-o)];else if(1e-8>Math.abs(o))s=[0].concat(0>m?[Math.sqrt(-m),-Math.sqrt(-m)]:[]);else{var w=o*o/4+m*m*m/27;if(1e-8>Math.abs(w))s=[-1.5*o/m,3*o/m];else if(0<w){var A=Math.cbrt(-o/2-Math.sqrt(w));s=[A-m/(3*A)]}else{var A=2*Math.sqrt(-m/3),B=Math.acos(3*o/m/A)/3,C=2*Math.PI/3;s=[A*Math.cos(B),A*Math.cos(B-C),A*Math.cos(B-2*C)]}}for(var E=0;E<s.length;E++)s[E]-=H/(3*G);F=s;break;default:F=[numeralSolve(h,0)[0]];}else F=[numeralSolve(h,0)[0]];return F}},{key:'gaussElimination',value:function gaussElimination(h,m){for(var B,o=h,s=h.length-1,A=0;A<s;A++){B=A;for(var C=A+1;C<s;C++)Math.abs(o[A][C])>Math.abs(o[A][B])&&(B=C);for(var F,E=A;E<s+1;E++)F=o[E][A],o[E][A]=o[E][B],o[E][B]=F;for(var G=A+1;G<s;G++)for(var H=s;H>=A;H--)o[H][G]-=o[H][A]*o[A][G]/o[A][A]}for(var J,I=s-1;0<=I;I--){J=0;for(var K=I+1;K<s;K++)J+=o[K][I]*w[K];w[I]=(o[s][I]-J)/o[I][I]}return w}},{key:'graph',value:function graph(h){for(var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-100,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100,w=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0.1,A={},m=new BigNumber(o);m.lessThanOrEqualTo(new BigNumber(s));m=m.plus(new BigNumber(w)))A[m.toString()]=h.core(m).toPrecision(15);return A}},{key:'numeralSolve',value:function numeralSolve(h,m){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-100,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100,w=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0.1,A=this.graph(h,o,s,w),B=Object.values(A),C=[];for(var E in B)C.push(new BigNumber(B[E]).sub(m).abs().toNumber());Object.prototype.getKey=function(G){var H=this;return Object.keys(H).find(function(I){return H[I]===G})};var F=this.min.apply(this,C);return[A.getKey(F.toPrecision(15)),F]}},{key:'polynomial',value:function polynomial(){var args=[].concat(Array.prototype.slice.call(arguments)).reverse(),buffer='';for(var i in args)buffer+=args[i]+' * x**'+i+' '+(i==args.length-1?'':'+ ');return{type:'polynomial',v:'x',f:buffer,values:[].concat(Array.prototype.slice.call(arguments)),core:function core(x){var regex=/x/,newStr=buffer.replace(regex,x);return eval(newStr)}}}},{key:'run',value:function run(h,m){return h.core(m)}},{key:'slope',value:function slope(h){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0.01,s=h.core(m),A=h.core(m+o);return new BigNumber(A).minus(s).div(new BigNumber(m+o).minus(m))}},{key:'y_intercept',value:function y_intercept(h){return h.core(0)}},{key:'collatz',value:regeneratorRuntime.mark(function collatz(h){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(1==h){o.next=6;break}return 0==h%2?h/=2:h=3*h+1,o.next=4,h;case 4:o.next=0;break;case 6:case'end':return o.stop();}},collatz,this)})},{key:'fibonacci',value:regeneratorRuntime.mark(function fibonacci(){var h,m,o,s;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:h=0,m=1;case 2:return o=h,h=m,m=h+o,A.next=8,o;case 8:s=A.sent,s&&(h=0,m=1),A.next=2;break;case 12:case'end':return A.stop();}},fibonacci,this)})},{key:'sieve',value:regeneratorRuntime.mark(function sieve(){var h,m,o,s,w;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:for(h=[],m=Math.sqrt(n),o=[2],s=0;s<n;s++)h.push(1);for(s=3;s<=m;s+=2)if(h[s])for(w=s*s;w<n;w+=2*s)h[w]=0;for(s=3;s<n;s+=2)h[s]&&o.push(s);return B.abrupt('return',o);case 5:case'end':return B.stop();}},sieve,this)})},{key:'c',value:function c(h){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:15;return new BigNumber(new BigNumber({pi:'3.141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067982148086513282306647093844609550582231725359408128481117450284102701938521105559644622948954930381964428810975665933446128475648233786783165271201909',e:'2.718281828459045235360287471352662497757247093699959574966967627724076630353547594571382178525166427427466391932003059921817413596629043572900334295260595630738132328627943490763233829880753195251019011573834187930702154089149934884167509244761460668','sqrt(2)':'1.414213562373095048801688724209698078569671875376948073176679737990732478462107038850387534327641572735013846230912297024924836055850737212644121497099935831413222665927505592755799950501152782060571470109559971605970274534596862014728517418640889199',goldenRatio:'1.618033988749894848204586834365638117720309179805762862135448622705260462818902449707207204189391137484754088075386891752126633862223536931793180060766726354433389086595939582905638322661319928290267880675208766892501711696207032221043216269548626296',EulerGamma:'0.5772156649015328606065120900824024310421593359399235988057672348848677267776646709369470632917467495146314472498070824809605040144865428362241739976449235362535003337429373377376739427925952582470949160087352039481656708532331517766115286211995015080',UltimateAnswer:'42'}[h]).toPrecision(m))}},{key:'e',value:function e(){for(var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:15,m=new BigNumber(0),o=new BigNumber(1),w=0;w<=10*h;w++){var A=this.factorial(w),B=o.div(A);m=m.plus(B)}return s=m.toPrecision(h),new BigNumber(s)}},{key:'goldenRatio',value:function goldenRatio(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:15;return new BigNumber(new BigNumber(1).plus(this.sqrt(5)).div(2).toPrecision(h))}},{key:'isPrime',value:function isPrime(h){if(h=+h,2>h)return!1;if(2==h)return!0;if(0==h%2)return!1;for(var m=3;m<this.sqrt(h).toNumber();m+=2)if(0==h%m)return!1;return!0}},{key:'pi',value:function pi(){function h(A){for(var B=A,C=NaN,E=A.times(A),F=A,G=-1,H=3;!B.equals(C);H+=2)F=F.times(E),C=B,B=0<G?B.plus(F.div(H)):B.minus(F.div(H)),G=-G;return B}var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:15,w=BigNumber.another({DECIMAL_PLACES:s}),m=BigNumber.another({DECIMAL_PLACES:s+4}),o=new m(4).times(h(new m(1).div(5))).minus(h(new m(1).div(239)));return new BigNumber(new w(4).times(o).toPrecision(s))}},{key:'round',value:function round(h){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;return h=+h,Math.round(h*Math.pow(10,m))/Math.pow(10,m)}},{key:'convertToBase',value:function convertToBase(h,m){return new BigNumber(h).toString(m)}},{key:'deg2rad',value:function deg2rad(h){return new BigNumber(h).times(this.pi()).div(180)}},{key:'drawCircularPoints',value:function drawCircularPoints(h){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[-o,0],w=this.pi().times(2).div(h),A={};A[s[0]]=s[1];for(var B=this.atan2.apply(this,_toConsumableArray(s.reverse()))+w.toNumber(),m=0;m<h-1;m++){var C=new BigNumber(o).times(''+this.cos(B)).toString(),E=new BigNumber(o).times(''+this.sin(B)).toNumber();A[C]=E,B+=w.toNumber()}return A}},{key:'rad2deg',value:function rad2deg(h){return new BigNumber(h).times(180).div(this.pi())}},{key:'flatten',value:function flatten(h){return h.reduce(function(m,o){return m.concat(o)},[])}},{key:'linspace',value:function linspace(h,m,o){return this.arange(h,m,(m-h)/o)}},{key:'arange',value:function arange(h,m,o,s){var w=(Math.abs(m-h)+2*(s||0))/(o||1)+1,A=h<m?1:-1;return Array(w).fill(0).map(function(E,F){return h-A*(s||0)+A*(o||1)*F})}},{key:'range',value:function range(h){return this.arange(0,h,1)}},{key:'reshape',value:function reshape(h,m){for(var o=[],s=0;s<h.length;s+=m)o.push(h.slice(s,s+m));return o}}]),TheoremJS}();'function'==typeof define&&define.amd?define(function(){return new TheoremJS}):'undefined'==typeof exports?'undefined'!=typeof global&&(global.TheoremJS=new TheoremJS):('undefined'!=typeof module&&module.exports&&(exports=module.exports=new TheoremJS),exports.TheoremJS=new TheoremJS);
