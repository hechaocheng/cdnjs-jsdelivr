!function(p){p.fn.toc=function(t){function e(){o=[],f.each(function(t,e){var n=p(e).prev("span").offset().top-(u+c.navbarOffset);o.push(0<n?n:0)})}function n(t){r&&clearTimeout(r),r=setTimeout(function(){for(var t,e=p(window).scrollTop(),n=0,r=o.length;n<r;n++)if(o[n]>=e||o[n+1]&&o[n+1]>e){p("li",s).removeClass(h),0<=n&&(t=l[n].addClass(h),c.onHighlight(t));break}},50)}var r,s=this,c=p.extend({},jQuery.fn.toc.defaults,t),a=p(c.container),l=[],f=p(c.selectors,a),o=[],h="active",u=p(".navbar").height(),d="__anchor";return c.highlightOnScroll&&(p(window).bind("scroll",n),p(window).bind("load resize",function(){e(),n()})),this.each(function(){var o=p(this),i=p("<ul/>");f.each(function(t,e){var n=p(e),r=(p("<span/>").attr("id",c.anchorName(t,e,c.prefix)+d).insertBefore(n),p("<a/>").text(c.headerText(t,e,n)).attr("href","#"+c.anchorName(t,e,c.prefix)).bind("click",function(t){var e,n,r;e=t,c.smoothScrolling&&(e.preventDefault(),n=p(e.target).attr("href"),r=p(n.replace("#.","#\\.")+d).offset().top-(u+c.navbarOffset),p("body,html").animate({scrollTop:r},400,"swing",function(){location.hash=n})),p("li",s).removeClass(h),p(e.target).parent().addClass(h),o.trigger("selected",p(this).attr("href"))})),a=p("<li/>").addClass(c.itemClass(t,e,n,c.prefix)).append(r);l.push(a),i.append(a)}),o.html(i),e()})},jQuery.fn.toc.defaults={container:"body",selectors:"h1,h2,h3",smoothScrolling:!0,prefix:"toc",onHighlight:function(){},highlightOnScroll:!0,navbarOffset:0,anchorName:function(t,e,n){return n+t},headerText:function(t,e,n){return n.text()},itemClass:function(t,e,n,r){return r+"-"+n[0].tagName.toLowerCase()}}}(jQuery);