!function(t){function e(e){function n(){xt=!0}function r(){xt=!1,st()}function i(t){bt=t}function o(t){pt=t}function a(t){for(var e,n=t=t||0,r=wt.length;n<r;n++){if(void 0===(e=wt[n][_t]))throw new Error("Each data element must implement a unique 'id' property");yt[e]=n}}function l(){for(var t,e=0,n=wt.length;e<n;e++)if(void 0===(t=wt[e][_t])||yt[t]!==e)throw new Error("Each data element must implement a unique 'id' property")}function s(){return wt}function u(t,e){void 0!==e&&(_t=e),wt=Ft=t,yt={},a(),l(),st()}function g(t){void 0!=t.pageSize&&(jt=t.pageSize,Dt=jt?Math.min(Dt,Math.max(0,Math.ceil(Pt/jt)-1)):0),void 0!=t.pageNum&&(Dt=Math.min(t.pageNum,Math.max(0,Math.ceil(Pt/jt)-1))),Vt.notify(c(),null,mt),st()}function c(){var t=jt?Math.max(1,Math.ceil(Pt/jt)):1;return{pageSize:jt,pageNum:Dt,totalRows:Pt,totalPages:t,dataView:mt}}function f(t,e){St=e,ft=t,ct=null,!1===e&&wt.reverse(),wt.sort(t),!1===e&&wt.reverse(),yt={},a(),st()}function p(t,e){St=e,ct=t,ft=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},!1===e&&wt.reverse(),wt.sort(),Object.prototype.toString=n,!1===e&&wt.reverse(),yt={},a(),st()}function h(){ft?f(ft,St):ct&&p(ct,St)}function d(){return Ft}function m(){return It}function v(t){It=t,e.inlineFilters&&(ht=et(),dt=nt()),st()}function _(){return Et}function w(n){e.groupItemMetadataProvider||(e.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),Tt=[],Gt=[],Et=(n=n||[])instanceof Array?n:[n];for(var r=0;r<Et.length;r++){var i=Et[r]=t.extend(!0,{},Nt,Et[r]);i.getterIsAFn="function"==typeof i.getter,i.compiledAccumulators=[];for(var o=i.aggregators.length;o--;)i.compiledAccumulators[o]=tt(i.aggregators[o]);Gt[r]={}}st()}function $(t,e,n){w(null!=t?{getter:t,formatter:e,comparer:n}:[])}function y(t,e){if(!Et.length)throw new Error("At least one grouping must be specified before calling setAggregators().");Et[0].aggregators=t,Et[0].aggregateCollapsed=e,w(Et)}function C(t){return wt[t]}function I(t){return yt[t]}function R(){if(!Ct){Ct={};for(var t=0,e=$t.length;t<e;t++)Ct[$t[t][_t]]=t}}function x(t){return R(),Ct[t[_t]]}function S(t){return R(),Ct[t]}function b(t){return wt[yt[t]]}function M(t){var e=[];R();for(var n=0,r=t.length;n<r;n++){var i=Ct[t[n][_t]];null!=i&&(e[e.length]=i)}return e}function F(t){var e=[];R();for(var n=0,r=t.length;n<r;n++){var i=Ct[t[n]];null!=i&&(e[e.length]=i)}return e}function A(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]<$t.length&&(e[e.length]=$t[t[n]][_t]);return e}function N(t,e){if(void 0===yt[t]||t!==e[_t])throw new Error("Invalid or non-matching id");wt[yt[t]]=e,Rt||(Rt={}),Rt[t]=!0,st()}function E(t,e){wt.splice(t,0,e),a(t),st()}function T(t){if(!ft)throw new Error("sortedAddItem() requires a sort comparer, use sort()");E(k(t),t)}function G(t){if(!ft)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var e=b(t.id);0!==ft(e,t)?(D(t.id),T(t)):N(t.id,t)}function k(t){for(var e=0,n=wt.length;e<n;){var r=e+n>>>1;-1===ft(wt[r],t)?e=r+1:n=r}return e}function j(t){wt.push(t),a(wt.length-1),st()}function D(t){var e=yt[t];if(void 0===e)throw new Error("Invalid id");delete yt[t],wt.splice(e,1),a(e),st()}function P(){return $t.length}function z(t){var e=$t[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=Et[e.level];n.displayTotalsRow||(W(e.totals),e.title=n.formatter?n.formatter(e):e.value)}else e&&e.__groupTotals&&!e.initialized&&W(e);return e}function B(t){var n=$t[t];return void 0===n?null:n.__group?e.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?e.groupItemMetadataProvider.getTotalsRowMetadata(n):null}function V(t,e){if(null==t)for(var n=0;n<Et.length;n++)Gt[n]={},Et[n].collapsed=e;else Gt[t]={},Et[t].collapsed=e;st()}function O(t){V(t,!0)}function q(t){V(t,!1)}function K(t,e,n){Gt[t][e]=Et[t].collapsed^n,st()}function U(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(kt)?K(n.split(kt).length-1,n,!0):K(e.length-1,e.join(kt),!0)}function L(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(kt)?K(n.split(kt).length-1,n,!1):K(e.length-1,e.join(kt),!1)}function H(){return Tt}function Q(t,e){for(var n,r,i,o=[],a={},l=e?e.level+1:0,s=Et[l],u=0,g=s.predefinedValues.length;u<g;u++)(n=a[r=s.predefinedValues[u]])||((n=new Slick.Group).value=r,n.level=l,n.groupingKey=(e?e.groupingKey+kt:"")+r,o[o.length]=n,a[r]=n);for(var u=0,g=t.length;u<g;u++)i=t[u],(n=a[r=s.getterIsAFn?s.getter(i):i[s.getter]])||((n=new Slick.Group).value=r,n.level=l,n.groupingKey=(e?e.groupingKey+kt:"")+r,o[o.length]=n,a[r]=n),n.rows[n.count++]=i;if(l<Et.length-1)for(u=0;u<o.length;u++)(n=o[u]).groups=Q(n.rows,n);return o.sort(Et[l].comparer),o}function W(t){var e,n=t.group,r=Et[n.level],i=n.level==Et.length,o=r.aggregators.length;if(!i&&r.aggregateChildGroups)for(var a=n.groups.length;a--;)n.groups[a].totals.initialized||W(n.groups[a].totals);for(;o--;)(e=r.aggregators[o]).init(),!i&&r.aggregateChildGroups?r.compiledAccumulators[o].call(e,n.groups):r.compiledAccumulators[o].call(e,n.rows),e.storeResult(t);t.initialized=!0}function J(t){var e=Et[t.level],n=new Slick.GroupTotals;n.group=t,t.totals=n,e.lazyTotalsCalculation||W(n)}function X(t,e){for(var n,r=Et[e=e||0],i=r.collapsed,o=Gt[e],a=t.length;a--;)(n=t[a]).collapsed&&!r.aggregateCollapsed||(n.groups&&X(n.groups,e+1),r.aggregators.length&&(r.aggregateEmpty||n.rows.length||n.groups&&n.groups.length)&&J(n),n.collapsed=i^o[n.groupingKey],n.title=r.formatter?r.formatter(n):n.value)}function Y(t,e){for(var n,r,i=Et[e=e||0],o=[],a=0,l=0,s=t.length;l<s;l++){if(r=t[l],o[a++]=r,!r.collapsed)for(var u=0,g=(n=r.groups?Y(r.groups,e+1):r.rows).length;u<g;u++)o[a++]=n[u];r.totals&&i.displayTotalsRow&&(!r.collapsed||i.aggregateCollapsed)&&(o[a++]=r.totals)}return o}function Z(t){var e=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,n=t.toString().match(e);return{params:n[1].split(","),body:n[2]}}function tt(t){var e=Z(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}function et(){var t=Z(It),e="{ _retval[_idx++] = $item$; continue _coreloop; }$1",n=t.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,e).replace(/return!0([;}]|\}|$)/gi,e).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),r=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");r=(r=(r=r.replace(/\$filter\$/gi,n)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args",r);return i.displayName=i.name="compiledFilter",i}function nt(){var t=Z(It),e="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",n=t.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,e).replace(/return!0([;}]|\}|$)/gi,e).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),r=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");r=(r=(r=r.replace(/\$filter\$/gi,n)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args,_cache",r);return i.displayName=i.name="compiledFilterWithCaching",i}function rt(t,e){for(var n=[],r=0,i=0,o=t.length;i<o;i++)It(t[i],e)&&(n[r++]=t[i]);return n}function it(t,e,n){for(var r,i=[],o=0,a=0,l=t.length;a<l;a++)r=t[a],n[a]?i[o++]=r:It(r,e)&&(i[o++]=r,n[a]=!0);return i}function ot(t){if(It){var n=e.inlineFilters?ht:rt,r=e.inlineFilters?dt:it;bt.isFilterNarrowing?Ft=n(Ft,pt):bt.isFilterExpanding?Ft=r(t,pt,At):bt.isFilterUnchanged||(Ft=n(t,pt))}else Ft=jt?t:t.concat();var i;return jt?(Ft.length<=Dt*jt&&(Dt=0===Ft.length?0:Math.floor((Ft.length-1)/jt)),i=Ft.slice(jt*Dt,jt*Dt+jt)):i=Ft,{totalRows:Ft.length,rows:i}}function at(t,e){var n,r,i,o=[],a=0,l=e.length;bt&&bt.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,bt.ignoreDiffsBefore))),bt&&bt.ignoreDiffsAfter&&(l=Math.min(e.length,Math.max(0,bt.ignoreDiffsAfter)));for(var s=a,u=t.length;s<l;s++)s>=u?o[o.length]=s:(n=e[s],r=t[s],(Et.length&&(i=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||i&&(n.__groupTotals||r.__groupTotals)||n[_t]!=r[_t]||Rt&&Rt[n[_t]])&&(o[o.length]=s));return o}function lt(t){Ct=null,bt.isFilterNarrowing==Mt.isFilterNarrowing&&bt.isFilterExpanding==Mt.isFilterExpanding||(At=[]);var e=ot(t);Pt=e.totalRows;var n=e.rows;Tt=[],Et.length&&(Tt=Q(n)).length&&(X(Tt),n=Y(Tt));var r=at($t,n);return $t=n,r}function st(){if(!xt){var t=$t.length,e=Pt,n=lt(wt,It);jt&&Pt<Dt*jt&&(Dt=Math.max(0,Math.ceil(Pt/jt)-1),n=lt(wt,It)),Rt=null,Mt=bt,bt={},e!==Pt&&Vt.notify(c(),null,mt),t!==$t.length&&zt.notify({previous:t,current:$t.length,dataView:mt},null,mt),n.length>0&&Bt.notify({rows:n,dataView:mt},null,mt)}}function ut(e,n,r){function i(t){s.join(",")!=t.join(",")&&(s=t,u.notify({grid:e,ids:s,dataView:l},new Slick.EventData,l))}function o(){if(s.length>0){a=!0;var t=l.mapIdsToRows(s);n||i(l.mapRowsToIds(t)),e.setSelectedRows(t),a=!1}}var a,l=this,s=l.mapRowsToIds(e.getSelectedRows()),u=new Slick.Event;return e.onSelectedRowsChanged.subscribe(function(n,o){if(!a){var u=l.mapRowsToIds(e.getSelectedRows());i(r&&e.getOptions().multiSelect?t.grep(s,function(t){return void 0===l.getRowById(t)}).concat(u):u)}}),this.onRowsChanged.subscribe(o),this.onRowCountChanged.subscribe(o),u}function gt(t,e){function n(t){i={};for(var e in t){var n=$t[e][_t];i[n]=t[e]}}function r(){if(i){o=!0,R();var n={};for(var r in i){var a=Ct[r];void 0!=a&&(n[a]=i[r])}t.setCellCssStyles(e,n),o=!1}}var i,o;n(t.getCellCssStyles(e)),t.onCellCssStylesChanged.subscribe(function(i,a){o||e==a.key&&(a.hash?n(a.hash):(t.onCellCssStylesChanged.unsubscribe(styleChanged),mt.onRowsChanged.unsubscribe(r),mt.onRowCountChanged.unsubscribe(r)))}),this.onRowsChanged.subscribe(r),this.onRowCountChanged.subscribe(r)}var ct,ft,pt,ht,dt,mt=this,vt={groupItemMetadataProvider:null,inlineFilters:!1},_t="id",wt=[],$t=[],yt={},Ct=null,It=null,Rt=null,xt=!1,St=!0,bt={},Mt={},Ft=[],At=[],Nt={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},Et=[],Tt=[],Gt=[],kt=":|:",jt=0,Dt=0,Pt=0,zt=new Slick.Event,Bt=new Slick.Event,Vt=new Slick.Event;e=t.extend(!0,{},vt,e),t.extend(this,{beginUpdate:n,endUpdate:r,setPagingOptions:g,getPagingInfo:c,getItems:s,setItems:u,setFilter:v,getFilter:m,getFilteredItems:d,sort:f,fastSort:p,reSort:h,setGrouping:w,getGrouping:_,groupBy:$,setAggregators:y,collapseAllGroups:O,expandAllGroups:q,collapseGroup:U,expandGroup:L,getGroups:H,getIdxById:I,getRowByItem:x,getRowById:S,getItemById:b,getItemByIdx:C,mapItemsToRows:M,mapRowsToIds:A,mapIdsToRows:F,setRefreshHints:i,setFilterArgs:o,refresh:st,updateItem:N,insertItem:E,addItem:j,sortedAddItem:T,sortedUpdateItem:G,deleteItem:D,syncGridSelection:ut,syncGridCellCssStyles:gt,getLength:P,getItem:z,getItemMetadata:B,onRowCountChanged:zt,onRowsChanged:Bt,onPagingInfoChanged:Vt})}function n(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!=this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}}function r(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}}function i(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}}function o(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}}t.extend(!0,window,{Slick:{Data:{DataView:e,Aggregators:{Avg:n,Min:r,Max:i,Sum:o}}}})}(jQuery);