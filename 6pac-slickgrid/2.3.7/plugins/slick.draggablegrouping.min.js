!function(e){function n(n){function t(t){n=e.extend(!0,{},m,n),f=(p=t).getUID(),h=p.getColumns(),g=p.getData(),(v=e(p.getPreHeaderPanel())).html("<div class='slick-placeholder'>Drop a column header here to group by the column</div>"),b=v.find(".slick-placeholder"),o()}function i(){}function o(){v.droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",accept:":not(.ui-sortable-helper)",deactivate:function(e,n){v.removeClass("slick-header-column-denied")},drop:function(e,n){r(this,n.draggable)},over:function(e,n){var t=n.draggable.attr("id").replace(f,"");h.forEach(function(e,n,i){e.id==t&&null==e.grouping&&v.addClass("slick-header-column-denied")})}}),v.sortable({items:"div.slick-dropped-grouping",cursor:"default",tolerance:"pointer",helper:"clone",update:function(n,t){for(var i=e(this).sortable("toArray",{attribute:"data-id"}),o=[],r=0,a=i.length;r<a;r++)for(var c=0,l=y.length;c<l;c++)if(y[c].id==i[r]){o.push(y[c]);break}y=o,s()}}),k=v.html()}function r(n,t){var i=t.attr("id").replace(f,""),o=!0;y.forEach(function(e,n,t){e.id==i&&(o=!1)}),o&&h.forEach(function(o,r,l){if(o.id==i&&null!=o.grouping){var d=e("<div id='"+f+o.id+"_entry' data-id='"+o.id+"' class='slick-dropped-grouping'>");e("<span class='slick-groupby-remove'></span>").text(t.text()+" ").appendTo(d),e("</div>").appendTo(d),d.appendTo(n),a(o),c(o.id,n,t,d)}})}function a(e){y.push(e),s()}function c(n,t,i,o){var r=o;e("#"+f+n+"_entry").on("click",function(){e(this).off("click"),u(n,i,r)})}function l(){y=[]}function d(e){for(var n,t,i=arguments,o=i.length;o>1&&e.length;)for(n=i[--o];-1!=(t=e.indexOf(n));)e.splice(t,1);return e}function u(e,n,t){t.remove();var i=[];h.forEach(function(e,n,t){i[e.id]=e}),d(y,i[e]),0==y.length&&b.show(),s()}function s(){if(0!=y.length){var e=[];y.forEach(function(n,t,i){e.push(n.grouping)}),g.setGrouping(e)}else g.setGrouping([])}var p,f,h,g,v,b,k,m={},y=[];e.extend(this,{init:t,destroy:i,clearDroppedGroups:l})}e.extend(!0,window,{Slick:{DraggableGrouping:n}})}(jQuery);