!function(e){function t(t){function o(e){p=e,f.subscribe(p.onSelectedRowsChanged,c).subscribe(p.onClick,l).subscribe(p.onHeaderClick,u).subscribe(p.onKeyDown,i)}function n(){f.unsubscribeAll()}function c(e,t){var o,n,c=p.getSelectedRows(),i={};for(n=0;n<c.length;n++)i[o=c[n]]=!0,i[o]!==m[o]&&(p.invalidateRow(o),delete m[o]);for(n in m)p.invalidateRow(n);m=i,p.render(),c.length&&c.length==p.getDataLength()?p.updateColumnHeader(w.columnId,"<input type='checkbox' checked='checked'>",w.toolTip):p.updateColumnHeader(w.columnId,"<input type='checkbox'>",w.toolTip)}function i(e,t){32==e.which&&p.getColumns()[t.cell].id===w.columnId&&(p.getEditorLock().isActive()&&!p.getEditorLock().commitCurrentEdit()||r(t.row),e.preventDefault(),e.stopImmediatePropagation())}function l(t,o){if(p.getColumns()[o.cell].id===w.columnId&&e(t.target).is(":checkbox")){if(p.getEditorLock().isActive()&&!p.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();r(o.row),t.stopPropagation(),t.stopImmediatePropagation()}}function r(t){m[t]?p.setSelectedRows(e.grep(p.getSelectedRows(),function(e){return e!=t})):p.setSelectedRows(p.getSelectedRows().concat(t))}function s(e){var t,o=e.length,n=[];for(t=0;t<o;t++)m[e[t]]||(n[n.length]=e[t]);p.setSelectedRows(p.getSelectedRows().concat(n))}function d(t){var o,n=t.length,c=[];for(o=0;o<n;o++)m[t[o]]&&(c[c.length]=t[o]);p.setSelectedRows(e.grep(p.getSelectedRows(),function(e){return c.indexOf(e)<0}))}function u(t,o){if(o.column.id==w.columnId&&e(t.target).is(":checkbox")){if(p.getEditorLock().isActive()&&!p.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();if(e(t.target).is(":checked")){for(var n=[],c=0;c<p.getDataLength();c++)n.push(c);p.setSelectedRows(n)}else p.setSelectedRows([]);t.stopPropagation(),t.stopImmediatePropagation()}}function a(){return{id:w.columnId,name:"<input type='checkbox'>",toolTip:w.toolTip,field:"sel",width:w.width,resizable:!1,sortable:!1,cssClass:w.cssClass,formatter:g}}function g(e,t,o,n,c){return c?m[e]?"<input type='checkbox' checked='checked'>":"<input type='checkbox'>":null}var p,f=new Slick.EventHandler,m={},h={columnId:"_checkbox_selector",cssClass:null,toolTip:"Select/Deselect All",width:30},w=e.extend(!0,{},h,t);e.extend(this,{init:o,destroy:n,deSelectRows:d,selectRows:s,getColumnDefinition:a})}e.extend(!0,window,{Slick:{CheckboxSelectColumn:t}})}(jQuery);