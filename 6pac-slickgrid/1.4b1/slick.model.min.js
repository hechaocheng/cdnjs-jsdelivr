function EventHelper(){return this.handlers=[],this.subscribe=function(n){this.handlers.push(n)},this.notify=function(n){for(var t=0;t<this.handlers.length;t++)this.handlers[t].call(this,n)},this}!function(n){jQuery.extend(!0,window,{Slick:{Data:{DataView:function(){function n(){a={};for(var n=0,t=l.length;n<t;n++){var e=l[n][u];if(void 0==e||void 0!=a[e])throw"Each data element must implement a unique 'id' property";a[e]=n}}function t(){return{pageSize:m,pageNum:I,totalRows:y}}function e(t,e){d=e,p=t,v=null,!1===e&&l.reverse(),l.sort(t),!1===e&&l.reverse(),n(),r()}function i(t,e){d=e,v=t,p=null;var i=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},!1===e&&l.reverse(),l.sort(),Object.prototype.toString=i,!1===e&&l.reverse(),n(),r()}function o(n,t,e,i){var o=[],r=n,l=t,f=e,a=i;c=null;for(var s,h,g=l.length,d=0,p=0,v=0,w=r.length;v<w;++v)h=(s=r[v])[u],f&&!f(s)||((!m||d>=m*I&&d<m*(I+1))&&((p>=g||h!=l[p][u]||a&&a[h])&&(o[o.length]=p),l[p]=s,p++),d++);return g>p&&l.splice(p,g-p),y=d,o}function r(){if(!g){var n=f.length,e=y,i=o(l,f,s,h);m&&y<I*m&&(I=Math.floor(y/m),i=o(l,f,s,h)),h=null,e!=y&&b.notify(t()),n!=f.length&&w.notify({previous:n,current:f.length}),i.length>0&&S.notify(i)}}var u="id",l=[],f=[],a={},c=null,s=null,h=null,g=!1,d=!0,p=null,v=null,m=0,I=0,y=0,w=new EventHelper,S=new EventHelper,b=new EventHelper;return{rows:f,beginUpdate:function(){g=!0},endUpdate:function(){g=!1,r()},setPagingOptions:function(n){void 0!=n.pageSize&&(m=n.pageSize),void 0!=n.pageNum&&(I=Math.min(n.pageNum,Math.ceil(y/m))),b.notify(t()),r()},getPagingInfo:t,getItems:function(){return l},setItems:function(t,e){void 0!==e&&(u=e),l=t,n(),r()},setFilter:function(n){s=n,r()},sort:e,fastSort:i,reSort:function(){p?e(p,d):v&&i(v,d)},getIdxById:function(n){return a[n]},getRowById:function(n){if(!c){c={};for(var t=0,e=f.length;t<e;++t)c[f[t][u]]=t}return c[n]},getItemById:function(n){return l[a[n]]},getItemByIdx:function(n){return l[n]},refresh:r,updateItem:function(n,t){if(void 0===a[n]||n!==t[u])throw"Invalid or non-matching id";l[a[n]]=t,h||(h={}),h[n]=!0,r()},insertItem:function(t,e){l.splice(t,0,e),n(),r()},addItem:function(t){l.push(t),n(),r()},deleteItem:function(t){if(void 0===a[t])throw"Invalid id";l.splice(a[t],1),n(),r()},onRowCountChanged:w,onRowsChanged:S,onPagingInfoChanged:b}}}}})}();