!function(t){var e={SelectorCellFormatter:function(t,e,i,n,o){return o?t:""},PercentCompleteCellFormatter:function(t,e,i,n,o){return null==i||""===i?"-":i<50?"<span style='color:red;font-weight:bold;'>"+i+"%</span>":"<span style='color:green'>"+i+"%</span>"},GraphicalPercentCompleteCellFormatter:function(t,e,i,n,o){if(null==i||""===i)return"";return"<span class='percent-complete-bar' style='background:"+(i<30?"red":i<70?"silver":"green")+";width:"+i+"%'></span>"},YesNoCellFormatter:function(t,e,i,n,o){return i?"Yes":"No"},BoolCellFormatter:function(t,e,i,n,o){return i?"<img src='../images/tick.png'>":""},TaskNameFormatter:function(t,e,i,n,o){return"<span style='display:inline-block;height:1px;width:"+(2+15*o.indent)+"px'></span>"+" <img src='../images/expand.gif'>&nbsp;"+i},ResourcesFormatter:function(t,e,i,n,o){var a=o.resources;return a&&0!=a.length?n.width<50?(a.length>1?"<center><img src='../images/user_identity_plus.gif' ":"<center><img src='../images/user_identity.gif' ")+" title='"+a.join(", ")+"'></center>":a.join(", "):""},StarFormatter:function(t,e,i,n,o){return i?"<img src='../images/bullet_star.png' align='absmiddle'>":""},TextCellEditor:function(e,i,n,o){var a,l=n,s=this;this.init=function(){a=t("<INPUT type=text class='editor-text' />"),null!=n&&(a[0].defaultValue=n,a.val(l)),a.appendTo(e),a.bind("keydown.nav",function(e){e.keyCode!==t.ui.keyCode.LEFT&&e.keyCode!==t.ui.keyCode.RIGHT||e.stopImmediatePropagation()}),a.focus().select()},this.destroy=function(){a.remove()},this.focus=function(){a.focus()},this.setValue=function(t){a.val(t),l=t},this.getValue=function(){return a.val()},this.isValueChanged=function(){return!(""==a.val()&&null==l)&&a.val()!=l},this.validate=function(){if(i.validator){var t=i.validator(s.getValue());if(!t.valid)return t}return{valid:!0,msg:null}},this.init()},IntegerCellEditor:function(e,i,n,o){var a,l=n;this.init=function(){a=t("<INPUT type=text class='editor-text' />"),null!=n&&(a[0].defaultValue=n,a.val(l)),a.bind("keydown.nav",function(e){e.keyCode!==t.ui.keyCode.LEFT&&e.keyCode!==t.ui.keyCode.RIGHT||e.stopImmediatePropagation()}),a.appendTo(e),a.focus().select()},this.destroy=function(){a.remove()},this.focus=function(){a.focus()},this.setValue=function(t){a.val(t),l=t},this.getValue=function(){return""==t.trim(a.val())?0:parseInt(a.val(),10)},this.isValueChanged=function(){return!(""==a.val()&&null==l)&&a.val()!=l},this.validate=function(){return isNaN(a.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()},DateCellEditor:function(e,i,n,o){var a,l=n;this.init=function(){a=t("<INPUT type=text class='editor-text' />"),null!=n&&(a[0].defaultValue=n,a.val(l)),a.appendTo(e),a.focus().select(),a.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif"}),a.width(a.width()-18)},this.destroy=function(){a.datepicker("hide"),a.datepicker("destroy"),a.remove()},this.focus=function(){a.focus()},this.setValue=function(t){a.val(t),l=t},this.getValue=function(){return a.val()},this.isValueChanged=function(){return!(""==a.val()&&null==l)&&a.val()!=l},this.validate=function(){return{valid:!0,msg:null}},this.init()},YesNoSelectCellEditor:function(e,i,n,o){var a,l=n;this.init=function(){a=t("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>"),l?a.val("yes"):a.val("no"),a.appendTo(e),a.focus()},this.destroy=function(){a.remove()},this.focus=function(){a.focus()},this.setValue=function(t){a.val(t),l=t},this.getValue=function(){return"yes"==a.val()},this.isValueChanged=function(){return a.val()!=l},this.validate=function(){return{valid:!0,msg:null}},this.init()},YesNoCheckboxCellEditor:function(e,i,n,o){var a,l=n,s=this;this.init=function(){a=t("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>"),l&&a.attr("checked","checked"),a.appendTo(e),a.focus()},this.destroy=function(){a.remove()},this.focus=function(){a.focus()},this.setValue=function(t){t?a.attr("checked","checked"):a.removeAttr("checked"),l=t},this.getValue=function(){return a.attr("checked")},this.isValueChanged=function(){return s.getValue()!=l},this.validate=function(){return{valid:!0,msg:null}},this.init()},PercentCompleteCellEditor:function(e,i,n,o){var a,l,s=n;this.init=function(){a=t("<INPUT type=text class='editor-percentcomplete' />"),null!=n&&(a[0].defaultValue=n,a.val(s)),a.width(e.innerWidth()-25),a.appendTo(e),(l=t("<div class='editor-percentcomplete-picker' />").appendTo(e)).append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),l.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),a.focus().select(),l.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:s,slide:function(t,e){a.val(e.value)}}),l.find(".editor-percentcomplete-buttons button").bind("click",function(e){a.val(t(this).attr("val")),l.find(".editor-percentcomplete-slider").slider("value",t(this).attr("val"))})},this.destroy=function(){a.remove(),l.remove()},this.focus=function(){a.focus()},this.setValue=function(t){a.val(t),s=t},this.getValue=function(){return""==t.trim(a.val())?0:parseInt(a.val(),10)},this.isValueChanged=function(){return!(""==a.val()&&null==s)&&a.val()!=s},this.validate=function(){return isNaN(a.val())?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()},TaskNameCellEditor:function(e,i,n,o){var a,l=n,s=this;this.init=function(){a=t("<INPUT type=text class='editor-text' />"),null!=n&&(a[0].defaultValue=n,a.val(l)),a.bind("keydown.nav",function(e){e.keyCode!==t.ui.keyCode.LEFT&&e.keyCode!==t.ui.keyCode.RIGHT||e.stopImmediatePropagation()}),a.appendTo(e),a.focus().select()},this.destroy=function(){a.remove()},this.focus=function(){a.focus()},this.setValue=function(t){a.val(t),l=t},this.getValue=function(){return a.val()},this.isValueChanged=function(){return!(""==a.val()&&null==l)&&a.val()!=l},this.validate=function(){if(i.validator){var t=i.validator(s.getValue());if(!t.valid)return t}return""==a.val()?{valid:!1,msg:"This field cannot be empty"}:{valid:!0,msg:null}},this.init()},ResourcesCellEditor:function(e,i,n,o){var a,l=[],s=this;this.init=function(){a=t("<INPUT type=text class='editor-text' />");var i=o?o.resources:null;l=i?i.concat():[],null!=i&&(a[0].defaultValue=l.join(", "),a.val(l.join(", "))),a.bind("keydown.nav",function(e){e.keyCode!==t.ui.keyCode.LEFT&&e.keyCode!==t.ui.keyCode.RIGHT||e.stopImmediatePropagation()}),a.appendTo(e),a.focus().select()},this.destroy=function(){a.remove()},this.focus=function(){a.focus()},this.setValue=function(t){l=t||[],a.val(l.join(", "))},this.getValue=function(){if(""==a.val())return[];for(var e=a.val().split(","),i=0;i<e.length;i++)e[i]=t.trim(e[i]);return e},this.isValueChanged=function(){return!0},this.validate=function(){if(i.validator){var t=i.validator(s.getValue());if(!t.valid)return t}return{valid:!0,msg:null}},this.init()},StarCellEditor:function(e,i,n,o){function a(t){if("keydown"!=t.type||32==t.which)return"1"==l.css("opacity")?l.css("opacity",.5):l.css("opacity",1),t.preventDefault(),t.stopPropagation(),!1}var l,s=n,u=this;this.init=function(){l=t("<IMG src='../images/bullet_star.png' align=absmiddle tabIndex=0 title='Click or press Space to toggle' />"),s?l.css("opacity",1):l.css("opacity",.5),l.bind("click keydown",a),l.appendTo(e),l.focus()},this.destroy=function(){l.unbind("click keydown",a),l.remove()},this.focus=function(){l.focus()},this.setValue=function(t){(s=t)?l.css("opacity",1):l.css("opacity",.2)},this.getValue=function(){return"1"==l.css("opacity")},this.isValueChanged=function(){return 1==s!=u.getValue()},this.validate=function(){return{valid:!0,msg:null}},this.init()}};t.extend(window,e)}(jQuery);