{"version":3,"sources":["ng-flatpickr-comp.min.js"],"names":["ngFlatpickr","template","controller","$element","$timeout","$scope","ctrl","this","grabElementAndRunFlatpickr","transcludeEl","find","element","children","fpLib","flatpickr","FlatpickrInstance","console","warn","fpInstance","fpOpts","fpOnSetup","fpItem","ngModel","setDate","angular","on","destroy","$applyAsync","setDatepicker","$onInit","$onChanges","transclude","bindings","module","component"],"mappings":"CAAA,WACC,aAEA,IAAIA,EAAc,CACjBC,SAAU,sLAIVC,WASD,SAAyBC,EAAUC,EAAUC,GAC5C,IAAIC,EAAOC,KAUX,SAASC,IACRJ,EAAS,WACR,IAAIK,EAAeN,EAASO,KAAK,iBAAiB,GAC9CC,EAAUF,EAAaG,SAAS,IAMtC,SAAuBD,GACtB,IAAIE,EAAQC,WAAwBC,kBAEpC,IAAKF,EACJ,OAAOG,QAAQC,KAAK,6CAGrB,IAAIC,EAAa,IAAIL,EAAMF,EAASL,EAAKa,QAErCb,EAAKc,WACRd,EAAKc,UAAU,CACdC,OAAQH,IAKNZ,EAAKgB,SACRJ,EAAWK,QAAQjB,EAAKgB,SAIzBE,QAAQb,QAAQA,GAASc,GAAG,WAAY,WACvCP,EAAWQ,YAIZrB,EAAOsB,cA9BNC,CAAcjB,IACZ,GAAG,GAdPL,EAAKuB,QAAU,WACdrB,KAGDF,EAAKwB,WAAa,WACjBtB,MAhBDuB,YAAY,EACZC,SAAU,CACTV,QAAS,IACTH,OAAQ,IACRC,UAAW,MAsDbI,QACES,OAAO,oBAAqB,IAC5BC,UAAU,cAAelC,GArE5B","file":"ng-flatpickr-comp.min.js","sourcesContent":["(function() {\n\t'use strict';\n\n\tvar ngFlatpickr = {\n\t\ttemplate: '<ng-transclude>' +\n\t\t\t'<input type=\"text\" ng-if=\"!$ctrl.fpOpts.inline\" ng-model=\"$ctrl.ngModel\" placeholder=\"Select Date..\"></input>' +\n\t\t\t'<div ng-if=\"$ctrl.fpOpts.inline\"></div>' +\n\t\t'</ng-transclude>',\n\t\tcontroller: ngFlatpickrCtrl,\n\t\ttransclude: true,\n\t\tbindings: {\n\t\t\tngModel: '<',\n\t\t\tfpOpts: '<',\n\t\t\tfpOnSetup: '&'\n\t\t}\n\t};\n\n\tfunction ngFlatpickrCtrl($element, $timeout, $scope) {\n\t\tvar ctrl = this;\n\n\t\tctrl.$onInit = function() {\n\t\t\tgrabElementAndRunFlatpickr();\n\t\t};\n\n\t\tctrl.$onChanges = function() {\n\t\t\tgrabElementAndRunFlatpickr();\n\t\t};\n\n\t\tfunction grabElementAndRunFlatpickr() {\n\t\t\t$timeout(function() {\n\t\t\t\tvar transcludeEl = $element.find('ng-transclude')[0];\n\t\t\t\tvar element = transcludeEl.children[0];\n\n\t\t\t\tsetDatepicker(element);\n\t\t\t}, 0, true);\n\t\t}\n\n\t\tfunction setDatepicker(element) {\n\t\t\tvar fpLib = flatpickr ? flatpickr : FlatpickrInstance;\n\n\t\t\tif (!fpLib) {\n\t\t\t\treturn console.warn('Unable to find any flatpickr installation');\n\t\t\t}\n\n\t\t\tvar fpInstance = new fpLib(element, ctrl.fpOpts);\n\n\t\t\tif (ctrl.fpOnSetup) {\n\t\t\t\tctrl.fpOnSetup({\n\t\t\t\t\tfpItem: fpInstance\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// If has ngModel set the date\n\t\t\tif (ctrl.ngModel) {\n\t\t\t\tfpInstance.setDate(ctrl.ngModel);\n\t\t\t}\n\n\t\t\t// destroy the flatpickr instance when the dom element is removed\n\t\t\tangular.element(element).on('$destroy', function() {\n\t\t\t\tfpInstance.destroy();\n\t\t\t});\n\n\t\t\t// Refresh the scope\n\t\t\t$scope.$applyAsync();\n\t\t}\n\t}\n\n\tangular\n\t\t.module('angular-flatpickr', [])\n\t\t.component('ngFlatpickr', ngFlatpickr);\n})();\n"]}