"function"!=typeof Object.create&&(Object.create=function(t){function n(){}return n.prototype=t,new n}),function(s,o,p){"use strict";var a={init:function(t,n){var a=this;a.elem=n,a.$elem=s(n),a.opt=s.extend({},this.opt,t),a.headers=a.$elem.find(a.opt.headers),(a.previous=0)!==a.headers.length&&(a.first=parseInt(a.headers.prop("nodeName").substring(1),null)),a.build()},opt:{navigation:".anchorific",headers:"h1, h2, h3, h4, h5, h6",speed:200,anchorClass:"anchor",anchorText:"#",top:".top",spy:!0,position:"append",spyOffset:!0},build:function(){var t,n=this,a=function(){};n.opt.navigation&&(s(n.opt.navigation).append("<ul />"),n.previous=s(n.opt.navigation).find("ul").last(),a=function(t){return n.navigations(t)});for(var e=0;e<n.headers.length;e++)a(t=n.headers.eq(e)),n.anchor(t);n.opt.spy&&n.spy(),n.opt.top&&n.back()},navigations:function(t){var n,a,e,i=this,o=i.name(t);t.attr("id")!==p&&(o=t.attr("id")),n=s("<a />").attr("href","#"+o).text(t.text()),a=s("<li />").append(n),e=parseInt(t.prop("nodeName").substring(1),null),a.attr("data-tag",e),i.subheadings(e,a),i.first=e},subheadings:function(t,n){var a=this,e=(s(a.opt.navigation).find("ul"),s(a.opt.navigation).find("li"));t===a.first?a.previous.append(n):(t>a.first?(e.last().append("<ul />"),s(a.opt.navigation).find("ul").last().append(n)):s("li[data-tag="+t+"]").last().parent().append(n),a.previous=n.parent())},name:function(t){return t.text().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").toLowerCase()},anchor:function(t){var n,a,e=this,i=e.name(t),o=e.opt.anchorText,r=e.opt.anchorClass;t.attr("id")===p&&t.attr("id",i),a=t.attr("id"),n=s("<a />").attr("href","#"+a).html(o).addClass(r),"append"===e.opt.position?t.append(n):t.prepend(n)},back:function(){var n=this,a=s("body, html");s(n.opt.top).on("click",function(t){t.preventDefault(),a.animate({scrollTop:0},n.opt.speed)})},top:function(t){var n=this.opt.top;!1!==n&&(200<s(t).scrollTop()?s(n).fadeIn():s(n).fadeOut())},spy:function(){var n,a,e,i=this;s(o).scroll(function(t){i.top(this),n=i.headers.map(function(t){if(s(this).offset().top-s(o).scrollTop()<i.opt.spyOffset)return this}),(n=s(n).eq(n.length-1))&&n.length&&(a=s('li:has(a[href="#'+n.attr("id")+'"])'),e!==p&&e.removeClass("active"),a.addClass("active"),e=a)})}};s.fn.anchorific=function(n){return this.each(function(){var t;s.data(this,"anchorific")||((t=Object.create(a)).init(n,this),s.data(this,"anchorific",t))})}}(jQuery,window,void document);