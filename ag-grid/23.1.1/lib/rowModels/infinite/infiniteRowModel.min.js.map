{"version":3,"sources":["infiniteRowModel.js"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","gridOptionsWrapper_1","require","context_1","eventService_1","selectionController_1","events_1","sortController_1","filterManager_1","constants_1","infiniteCache_1","beanStub_1","rowNodeCache_1","rowNodeBlockLoader_1","gridApi_1","columnApi_1","utils_1","rowRenderer_1","InfiniteRowModel","_super","apply","getRowBounds","index","rowHeight","rowTop","ensureRowHeightsValid","startPixel","endPixel","startLimitIndex","endLimitIndex","init","_this","gridOptionsWrapper","isRowModelInfinite","getRowHeightAsNumber","addEventListeners","setDatasource","getDatasource","addDestroyFunc","destroyCache","destroyDatasource","datasource","destroy","rowRenderer","datasourceChanged","isLastRowFound","infiniteCache","isMaxRowFound","addDestroyableEventListener","eventService","Events","EVENT_FILTER_CHANGED","onFilterChanged","bind","EVENT_SORT_CHANGED","onSortChanged","EVENT_COLUMN_EVERYTHING_CHANGED","onColumnEverything","reset","resetRequired","cacheParams","isSortModelDifferent","_","jsonEquals","sortModel","sortController","getSortModel","getType","Constants","ROW_MODEL_TYPE_INFINITE","checkForDeprecated","ds","exists","maxConcurrentRequests","console","error","maxPagesInCache","overflowSize","blockSize","isEmpty","missing","isRowsToRender","getNodesInRangeForSelection","firstInRange","lastInRange","getRowNodesInRange","event","getRowNodeIdFunc","selectionController","resetCache","createModelUpdatedEvent","dispatchEvent","type","EVENT_MODEL_UPDATED","api","gridApi","columnApi","newPage","newData","keepRenderedRows","animate","getMaxConcurrentDatasourceRequests","blockLoadDebounceMillis","getBlockLoadDebounceMillis","rowNodeBlockLoader","RowNodeBlockLoader","getContext","wireBean","filterModel","filterManager","getFilterModel","getCacheOverflowSize","initialRowCount","getInfiniteInitialRowCount","maxBlocksInCache","getMaxBlocksInCache","getCacheBlockSize","lastAccessedSequence","NumberSequence","InfiniteCache","addEventListener","RowNodeCache","EVENT_CACHE_UPDATED","onCacheUpdated","getRow","rowIndex","getRowNode","id","result","forEachNode","rowNode","callback","forEachNodeDeep","getCurrentPageHeight","getRowCount","getTopLevelRowCount","getTopLevelRowDisplayedIndex","topLevelIndex","getRowIndexAtPixel","pixel","rowIndexForPixel","Math","floor","lastRowIndex","getVirtualRowCount","updateRowData","transaction","remove","update","warn","addIndex","insertItemsAtIndex","add","isRowPresent","refreshCache","purgeCache","setVirtualRowCount","rowCount","maxRowFound","getBlockState","Autowired","GridOptionsWrapper","FilterManager","SortController","SelectionController","EventService","GridApi","ColumnApi","RowRenderer","PostConstruct","Function","PreDestroy","Bean","BeanStub"],"mappings":"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"}